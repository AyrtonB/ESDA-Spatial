
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>loader-utils &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-loader-utils-1.4.0-c579b5e34cb34b1a74edc6c1fb36bfa371d5a613-integrity/node_modules/loader-utils/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methods">
   Methods
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getoptions">
     <code class="docutils literal notranslate">
      <span class="pre">
       getOptions
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#options-as-query-strings">
       Options as query strings
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parsequery">
     <code class="docutils literal notranslate">
      <span class="pre">
       parseQuery
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stringifyrequest">
     <code class="docutils literal notranslate">
      <span class="pre">
       stringifyRequest
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#urltorequest">
     <code class="docutils literal notranslate">
      <span class="pre">
       urlToRequest
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#module-urls">
       Module URLs
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#root-relative-urls">
       Root-relative URLs
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interpolatename">
     <code class="docutils literal notranslate">
      <span class="pre">
       interpolateName
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gethashdigest">
     <code class="docutils literal notranslate">
      <span class="pre">
       getHashDigest
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="loader-utils">
<h1>loader-utils<a class="headerlink" href="#loader-utils" title="Permalink to this headline">¶</a></h1>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="getoptions">
<h3><code class="docutils literal notranslate"><span class="pre">getOptions</span></code><a class="headerlink" href="#getoptions" title="Permalink to this headline">¶</a></h3>
<p>Recommended way to retrieve the options of a loader invocation:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// inside your loader</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">getOptions</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>
</div>
<ol class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">this.query</span></code> is a string:</p>
<ul class="simple">
<li><p>Tries to parse the query string and returns a new object</p></li>
<li><p>Throws if it’s not a valid query string</p></li>
</ul>
</li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">this.query</span></code> is object-like, it just returns <code class="docutils literal notranslate"><span class="pre">this.query</span></code></p></li>
<li><p>In any other case, it just returns <code class="docutils literal notranslate"><span class="pre">null</span></code></p></li>
</ol>
<p><strong>Please note:</strong> The returned <code class="docutils literal notranslate"><span class="pre">options</span></code> object is <em>read-only</em>. It may be re-used across multiple invocations.
If you pass it on to another library, make sure to make a <em>deep copy</em> of it:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span>
	<span class="p">{},</span>
	<span class="nx">defaultOptions</span><span class="p">,</span>
	<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">getOptions</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="c1">// it is safe to pass null to Object.assign()</span>
<span class="p">);</span>
<span class="c1">// don&#39;t forget nested objects or arrays</span>
<span class="nx">options</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">options</span><span class="p">.</span><span class="nx">obj</span><span class="p">);</span> 
<span class="nx">options</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
<span class="nx">someLibrary</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
</pre></div>
</div>
<p><a class="reference external" href="https://www.npmjs.com/package/clone">clone</a> is a good library to make a deep copy of the options.</p>
<div class="section" id="options-as-query-strings">
<h4>Options as query strings<a class="headerlink" href="#options-as-query-strings" title="Permalink to this headline">¶</a></h4>
<p>If the loader options have been passed as loader query string (<code class="docutils literal notranslate"><span class="pre">loader?some&amp;params</span></code>), the string is parsed by using <a class="reference external" href="#parsequery"><code class="docutils literal notranslate"><span class="pre">parseQuery</span></code></a>.</p>
</div>
</div>
<div class="section" id="parsequery">
<h3><code class="docutils literal notranslate"><span class="pre">parseQuery</span></code><a class="headerlink" href="#parsequery" title="Permalink to this headline">¶</a></h3>
<p>Parses a passed string (e.g. <code class="docutils literal notranslate"><span class="pre">loaderContext.resourceQuery</span></code>) as a query string, and returns an object.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">parseQuery</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">resourceQuery</span><span class="p">);</span> <span class="c1">// resource: `file?param1=foo`</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">param1</span> <span class="o">===</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The string is parsed like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                             -&gt; Error
?                            -&gt; {}
?flag                        -&gt; { flag: true }
?+flag                       -&gt; { flag: true }
?-flag                       -&gt; { flag: false }
?xyz=test                    -&gt; { xyz: &quot;test&quot; }
?xyz=1                       -&gt; { xyz: &quot;1&quot; } // numbers are NOT parsed
?xyz[]=a                     -&gt; { xyz: [&quot;a&quot;] }
?flag1&amp;flag2                 -&gt; { flag1: true, flag2: true }
?+flag1,-flag2               -&gt; { flag1: true, flag2: false }
?xyz[]=a,xyz[]=b             -&gt; { xyz: [&quot;a&quot;, &quot;b&quot;] }
?a%2C%26b=c%2C%26d           -&gt; { &quot;a,&amp;b&quot;: &quot;c,&amp;d&quot; }
?{data:{a:1},isJSON5:true}   -&gt; { data: { a: 1 }, isJSON5: true }
</pre></div>
</div>
</div>
<div class="section" id="stringifyrequest">
<h3><code class="docutils literal notranslate"><span class="pre">stringifyRequest</span></code><a class="headerlink" href="#stringifyrequest" title="Permalink to this headline">¶</a></h3>
<p>Turns a request into a string that can be used inside <code class="docutils literal notranslate"><span class="pre">require()</span></code> or <code class="docutils literal notranslate"><span class="pre">import</span></code> while avoiding absolute paths.
Use it instead of <code class="docutils literal notranslate"><span class="pre">JSON.stringify(...)</span></code> if you’re generating code inside a loader.</p>
<p><strong>Why is this necessary?</strong> Since webpack calculates the hash before module paths are translated into module ids, we must avoid absolute paths to ensure
consistent hashes across different compilations.</p>
<p>This function:</p>
<ul class="simple">
<li><p>resolves absolute requests into relative requests if the request and the module are on the same hard drive</p></li>
<li><p>replaces <code class="docutils literal notranslate"><span class="pre">\</span></code> with <code class="docutils literal notranslate"><span class="pre">/</span></code> if the request and the module are on the same hard drive</p></li>
<li><p>won’t change the path at all if the request and the module are on different hard drives</p></li>
<li><p>applies <code class="docutils literal notranslate"><span class="pre">JSON.stringify</span></code> to the result</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;./test.js&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;./test.js\&quot;&quot;</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;.\\test.js&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;./test.js\&quot;&quot;</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;test\&quot;&quot;</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;test/lib/index.js&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;test/lib/index.js\&quot;&quot;</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;otherLoader?andConfig!test?someConfig&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;otherLoader?andConfig!test?someConfig\&quot;&quot;</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">require</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">));</span>
<span class="c1">// &quot;\&quot;../node_modules/some-loader/lib/test.js\&quot;&quot;</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;C:\\module\\test.js&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;../../test.js\&quot;&quot; (on Windows, in case the module and the request are on the same drive)</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;C:\\module\\test.js&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;C:\\module\\test.js\&quot;&quot; (on Windows, in case the module and the request are on different drives)</span>

<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">stringifyRequest</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s2">&quot;\\\\network-drive\\test.js&quot;</span><span class="p">);</span>
<span class="c1">// &quot;\&quot;\\\\network-drive\\\\test.js\&quot;&quot; (on Windows, in case the module and the request are on different drives)</span>
</pre></div>
</div>
</div>
<div class="section" id="urltorequest">
<h3><code class="docutils literal notranslate"><span class="pre">urlToRequest</span></code><a class="headerlink" href="#urltorequest" title="Permalink to this headline">¶</a></h3>
<p>Converts some resource URL to a webpack module request.</p>
<blockquote>
<div><p>i Before call <code class="docutils literal notranslate"><span class="pre">urlToRequest</span></code> you need call <code class="docutils literal notranslate"><span class="pre">isUrlRequest</span></code> to ensure it is requestable url</p>
</div></blockquote>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;path/to/module.js&quot;</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">isUrlRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">// Logic for requestable url</span>
  <span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">urlToRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// Logic for not requestable url</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Simple example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;path/to/module.js&quot;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">urlToRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span> <span class="c1">// &quot;./path/to/module.js&quot;</span>
</pre></div>
</div>
<div class="section" id="module-urls">
<h4>Module URLs<a class="headerlink" href="#module-urls" title="Permalink to this headline">¶</a></h4>
<p>Any URL containing a <code class="docutils literal notranslate"><span class="pre">~</span></code> will be interpreted as a module request. Anything after the <code class="docutils literal notranslate"><span class="pre">~</span></code> will be considered the request path.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;~path/to/module.js&quot;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">urlToRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span> <span class="c1">// &quot;path/to/module.js&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="root-relative-urls">
<h4>Root-relative URLs<a class="headerlink" href="#root-relative-urls" title="Permalink to this headline">¶</a></h4>
<p>URLs that are root-relative (start with <code class="docutils literal notranslate"><span class="pre">/</span></code>) can be resolved relative to some arbitrary path by using the <code class="docutils literal notranslate"><span class="pre">root</span></code> parameter:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;/path/to/module.js&quot;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">root</span> <span class="o">=</span> <span class="s2">&quot;./root&quot;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">urlToRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">root</span><span class="p">);</span> <span class="c1">// &quot;./root/path/to/module.js&quot;</span>
</pre></div>
</div>
<p>To convert a root-relative URL into a module URL, specify a <code class="docutils literal notranslate"><span class="pre">root</span></code> value that starts with <code class="docutils literal notranslate"><span class="pre">~</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">&quot;/path/to/module.js&quot;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">root</span> <span class="o">=</span> <span class="s2">&quot;~&quot;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">urlToRequest</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">root</span><span class="p">);</span> <span class="c1">// &quot;path/to/module.js&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="interpolatename">
<h3><code class="docutils literal notranslate"><span class="pre">interpolateName</span></code><a class="headerlink" href="#interpolatename" title="Permalink to this headline">¶</a></h3>
<p>Interpolates a filename template using multiple placeholders and/or a regular expression.
The template and regular expression are set as query params called <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">regExp</span></code> on the current loader’s context.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">interpolatedName</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
</pre></div>
</div>
<p>The following tokens are replaced in the <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[ext]</span></code> the extension of the resource</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[name]</span></code> the basename of the resource</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[path]</span></code> the path of the resource relative to the <code class="docutils literal notranslate"><span class="pre">context</span></code> query parameter or option.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[folder]</span></code> the folder the resource is in</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[query]</span></code> the queryof the resource, i.e. <code class="docutils literal notranslate"><span class="pre">?foo=bar</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[emoji]</span></code> a random emoji representation of <code class="docutils literal notranslate"><span class="pre">options.content</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[emoji:&lt;length&gt;]</span></code> same as above, but with a customizable number of emojis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[contenthash]</span></code> the hash of <code class="docutils literal notranslate"><span class="pre">options.content</span></code> (Buffer) (by default it’s the hex digest of the md5 hash)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[&lt;hashType&gt;:contenthash:&lt;digestType&gt;:&lt;length&gt;]</span></code> optionally one can configure</p>
<ul>
<li><p>other <code class="docutils literal notranslate"><span class="pre">hashType</span></code>s, i. e. <code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">md5</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>, <code class="docutils literal notranslate"><span class="pre">sha512</span></code></p></li>
<li><p>other <code class="docutils literal notranslate"><span class="pre">digestType</span></code>s, i. e. <code class="docutils literal notranslate"><span class="pre">hex</span></code>, <code class="docutils literal notranslate"><span class="pre">base26</span></code>, <code class="docutils literal notranslate"><span class="pre">base32</span></code>, <code class="docutils literal notranslate"><span class="pre">base36</span></code>, <code class="docutils literal notranslate"><span class="pre">base49</span></code>, <code class="docutils literal notranslate"><span class="pre">base52</span></code>, <code class="docutils literal notranslate"><span class="pre">base58</span></code>, <code class="docutils literal notranslate"><span class="pre">base62</span></code>, <code class="docutils literal notranslate"><span class="pre">base64</span></code></p></li>
<li><p>and <code class="docutils literal notranslate"><span class="pre">length</span></code> the length in chars</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">[hash]</span></code> the hash of <code class="docutils literal notranslate"><span class="pre">options.content</span></code> (Buffer) (by default it’s the hex digest of the md5 hash)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[&lt;hashType&gt;:hash:&lt;digestType&gt;:&lt;length&gt;]</span></code> optionally one can configure</p>
<ul>
<li><p>other <code class="docutils literal notranslate"><span class="pre">hashType</span></code>s, i. e. <code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">md5</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>, <code class="docutils literal notranslate"><span class="pre">sha512</span></code></p></li>
<li><p>other <code class="docutils literal notranslate"><span class="pre">digestType</span></code>s, i. e. <code class="docutils literal notranslate"><span class="pre">hex</span></code>, <code class="docutils literal notranslate"><span class="pre">base26</span></code>, <code class="docutils literal notranslate"><span class="pre">base32</span></code>, <code class="docutils literal notranslate"><span class="pre">base36</span></code>, <code class="docutils literal notranslate"><span class="pre">base49</span></code>, <code class="docutils literal notranslate"><span class="pre">base52</span></code>, <code class="docutils literal notranslate"><span class="pre">base58</span></code>, <code class="docutils literal notranslate"><span class="pre">base62</span></code>, <code class="docutils literal notranslate"><span class="pre">base64</span></code></p></li>
<li><p>and <code class="docutils literal notranslate"><span class="pre">length</span></code> the length in chars</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">[N]</span></code> the N-th match obtained from matching the current file name against <code class="docutils literal notranslate"><span class="pre">options.regExp</span></code></p></li>
</ul>
<p>In loader context <code class="docutils literal notranslate"><span class="pre">[hash]</span></code> and <code class="docutils literal notranslate"><span class="pre">[contenthash]</span></code> are the same, but we recommend using <code class="docutils literal notranslate"><span class="pre">[contenthash]</span></code> for avoid misleading.</p>
<p>Examples</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/js/javascript.js&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;js/[hash].script.[ext]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; js/9473fdd0d880a43c21b7778d34872157.script.js</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/js/javascript.js&quot;</span>
<span class="c1">// loaderContext.resourceQuery = &quot;?foo=bar&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;js/[hash].script.[ext][query]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; js/9473fdd0d880a43c21b7778d34872157.script.js?foo=bar</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/js/javascript.js&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;js/[contenthash].script.[ext]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; js/9473fdd0d880a43c21b7778d34872157.script.js</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/page.html&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;html-[hash:6].html&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; html-9473fd.html</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/flash.txt&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;[hash]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; c31e9820c001c9c4a86bce33ce43b679</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/img/image.gif&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;[emoji]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; 👍</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/img/image.gif&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;[emoji:4]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; 🙍🏢📤🐝</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/img/image.png&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;[sha512:hash:base64:7].[ext]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; 2BKDTjl.png</span>
<span class="c1">// use sha512 hash instead of md5 and with only 7 chars of base64</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/img/myself.png&quot;</span>
<span class="c1">// loaderContext.query.name =</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;picture.png&quot;</span><span class="p">);</span>
<span class="c1">// =&gt; picture.png</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/dir/file.png&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;[path][name].[ext]?[hash]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; /app/dir/file.png?9473fdd0d880a43c21b7778d34872157</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/js/page-home.js&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span><span class="nx">loaderContext</span><span class="p">,</span> <span class="s2">&quot;script-[1].[ext]&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">regExp</span><span class="o">:</span> <span class="s2">&quot;page-(.*)\\.js&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">});</span>
<span class="c1">// =&gt; script-home.js</span>

<span class="c1">// loaderContext.resourcePath = &quot;/absolute/path/to/app/js/javascript.js&quot;</span>
<span class="c1">// loaderContext.resourceQuery = &quot;?foo=bar&quot;</span>
<span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">interpolateName</span><span class="p">(</span>
  <span class="nx">loaderContext</span><span class="p">,</span> 
  <span class="p">(</span><span class="nx">resourcePath</span><span class="p">,</span> <span class="nx">resourceQuery</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> 
    <span class="c1">// resourcePath - `/app/js/javascript.js`</span>
    <span class="c1">// resourceQuery - `?foo=bar`</span>

    <span class="k">return</span> <span class="s2">&quot;js/[hash].script.[ext]&quot;</span><span class="p">;</span> 
  <span class="p">},</span> 
  <span class="p">{</span> <span class="nx">content</span><span class="o">:</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">);</span>
<span class="c1">// =&gt; js/9473fdd0d880a43c21b7778d34872157.script.js</span>
</pre></div>
</div>
</div>
<div class="section" id="gethashdigest">
<h3><code class="docutils literal notranslate"><span class="pre">getHashDigest</span></code><a class="headerlink" href="#gethashdigest" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">digestString</span> <span class="o">=</span> <span class="nx">loaderUtils</span><span class="p">.</span><span class="nx">getHashDigest</span><span class="p">(</span><span class="nx">buffer</span><span class="p">,</span> <span class="nx">hashType</span><span class="p">,</span> <span class="nx">digestType</span><span class="p">,</span> <span class="nx">maxLength</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">buffer</span></code> the content that should be hashed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hashType</span></code> one of <code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">md5</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>, <code class="docutils literal notranslate"><span class="pre">sha512</span></code> or any other node.js supported hash type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">digestType</span></code> one of <code class="docutils literal notranslate"><span class="pre">hex</span></code>, <code class="docutils literal notranslate"><span class="pre">base26</span></code>, <code class="docutils literal notranslate"><span class="pre">base32</span></code>, <code class="docutils literal notranslate"><span class="pre">base36</span></code>, <code class="docutils literal notranslate"><span class="pre">base49</span></code>, <code class="docutils literal notranslate"><span class="pre">base52</span></code>, <code class="docutils literal notranslate"><span class="pre">base58</span></code>, <code class="docutils literal notranslate"><span class="pre">base62</span></code>, <code class="docutils literal notranslate"><span class="pre">base64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxLength</span></code> the maximum length in chars</p></li>
</ul>
</div>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>MIT (http://www.opensource.org/licenses/mit-license.php)</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-loader-utils-1.4.0-c579b5e34cb34b1a74edc6c1fb36bfa371d5a613-integrity/node_modules/loader-utils"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>