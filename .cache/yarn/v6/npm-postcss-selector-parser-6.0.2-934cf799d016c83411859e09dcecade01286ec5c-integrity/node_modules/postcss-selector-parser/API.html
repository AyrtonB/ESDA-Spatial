
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Documentation &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-postcss-selector-parser-6.0.2-934cf799d016c83411859e09dcecade01286ec5c-integrity/node_modules/postcss-selector-parser/API.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parser-function">
   <code class="docutils literal notranslate">
    <span class="pre">
     parser
    </span>
   </code>
   function
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-transform-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser([transform],
      </span>
      <span class="pre">
       [options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-attribute-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.attribute([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-classname-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.className([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-combinator-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.combinator([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-comment-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.comment([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-id-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.id([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-nesting-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.nesting([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-pseudo-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.pseudo([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-root-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.root([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-selector-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.selector([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-string-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.string([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-tag-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.tag([props])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parser-universal-props">
     <code class="docutils literal notranslate">
      <span class="pre">
       parser.universal([props])
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#node-types">
   Node types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-type">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.type
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-parent">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.parent
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-tostring-string-node-or-node">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.toString()
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       String(node)
      </span>
     </code>
     , or
     <code class="docutils literal notranslate">
      <span class="pre">
       ''
      </span>
      <span class="pre">
       +
      </span>
      <span class="pre">
       node
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-next-node-prev">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.next()
      </span>
     </code>
     &amp;
     <code class="docutils literal notranslate">
      <span class="pre">
       node.prev()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-replacewith-node">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.replaceWith(node)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-remove">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.remove()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-clone">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.clone()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-isatposition-line-column">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.isAtPosition(line,
      </span>
      <span class="pre">
       column)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-spaces">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.spaces
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-source">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.source
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#node-sourceindex">
     <code class="docutils literal notranslate">
      <span class="pre">
       node.sourceIndex
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#container-types">
   Container types
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-nodes">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.nodes
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-first-container-last">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.first
      </span>
     </code>
     &amp;
     <code class="docutils literal notranslate">
      <span class="pre">
       container.last
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-at-index">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.at(index)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-atposition-line-column">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.atPosition(line,
      </span>
      <span class="pre">
       column)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-index-node">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.index(node)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-length">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.length
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-array-iterators">
     <code class="docutils literal notranslate">
      <span class="pre">
       container
      </span>
     </code>
     Array iterators
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-each-callback">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.each(callback)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-walk-callback">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.walk(callback)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-walk-proxies">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.walk
      </span>
     </code>
     proxies
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-split-callback">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.split(callback)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-prepend-node-container-append-node">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.prepend(node)
      </span>
     </code>
     &amp;
     <code class="docutils literal notranslate">
      <span class="pre">
       container.append(node)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-insertbefore-old-new-container-insertafter-old-new">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.insertBefore(old,
      </span>
      <span class="pre">
       new)
      </span>
     </code>
     &amp;
     <code class="docutils literal notranslate">
      <span class="pre">
       container.insertAfter(old,
      </span>
      <span class="pre">
       new)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-removechild-node">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.removeChild(node)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#container-removeall-or-container-empty">
     <code class="docutils literal notranslate">
      <span class="pre">
       container.removeAll()
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       container.empty()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#root-nodes">
   Root nodes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#root-trailingcomma">
     <code class="docutils literal notranslate">
      <span class="pre">
       root.trailingComma
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selector-nodes">
   Selector nodes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pseudo-nodes">
   Pseudo nodes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attribute-nodes">
   Attribute nodes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-quoted">
     <code class="docutils literal notranslate">
      <span class="pre">
       attribute.quoted
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-qualifiedattribute">
     <code class="docutils literal notranslate">
      <span class="pre">
       attribute.qualifiedAttribute
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-offsetof-part">
     <code class="docutils literal notranslate">
      <span class="pre">
       attribute.offsetOf(part)
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-raws-unquoted">
     <code class="docutils literal notranslate">
      <span class="pre">
       attribute.raws.unquoted
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-spaces">
     <code class="docutils literal notranslate">
      <span class="pre">
       attribute.spaces
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attribute-raws">
     <code class="docutils literal notranslate">
      <span class="pre">
       attribute.raws
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processor">
   <code class="docutils literal notranslate">
    <span class="pre">
     Processor
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#processoroptions">
     <code class="docutils literal notranslate">
      <span class="pre">
       ProcessorOptions
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#process-processsync-selectors-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       process|processSync(selectors,
      </span>
      <span class="pre">
       [options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ast-astsync-selectors-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       ast|astSync(selectors,
      </span>
      <span class="pre">
       [options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transform-transformsync-selectors-options">
     <code class="docutils literal notranslate">
      <span class="pre">
       transform|transformSync(selectors,
      </span>
      <span class="pre">
       [options])
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#error-handling-within-selector-processors">
     Error Handling Within Selector Processors
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#async-error-example">
       Async Error Example
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#synchronous-error-example">
       Synchronous Error Example
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<p><em>Please use only this documented API when working with the parser. Methods
not documented here are subject to change at any point.</em></p>
<div class="section" id="parser-function">
<h2><code class="docutils literal notranslate"><span class="pre">parser</span></code> function<a class="headerlink" href="#parser-function" title="Permalink to this headline">¶</a></h2>
<p>This is the module’s main entry point.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">parser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;postcss-selector-parser&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="parser-transform-options">
<h3><code class="docutils literal notranslate"><span class="pre">parser([transform],</span> <span class="pre">[options])</span></code><a class="headerlink" href="#parser-transform-options" title="Permalink to this headline">¶</a></h3>
<p>Creates a new <code class="docutils literal notranslate"><span class="pre">processor</span></code> instance</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">processor</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">();</span>
</pre></div>
</div>
<p>Or, with optional transform function</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">transform</span> <span class="o">=</span> <span class="nx">selectors</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">selectors</span><span class="p">.</span><span class="nx">walkUniversals</span><span class="p">(</span><span class="nx">selector</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">selector</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">processor</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">(</span><span class="nx">transform</span><span class="p">)</span>

<span class="c1">// Example</span>
<span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">processor</span><span class="p">.</span><span class="nx">processSync</span><span class="p">(</span><span class="s1">&#39;*.class&#39;</span><span class="p">);</span>
<span class="c1">// =&gt; .class</span>
</pre></div>
</div>
<p><a class="reference external" href="#processor">See processor documentation</a></p>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">transform</span> <span class="pre">(function)</span></code>: Provide a function to work with the parsed AST.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span> <span class="pre">(object)</span></code>: Provide default options for all calls on the returned <code class="docutils literal notranslate"><span class="pre">Processor</span></code>.</p></li>
</ul>
</div>
<div class="section" id="parser-attribute-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.attribute([props])</span></code><a class="headerlink" href="#parser-attribute-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new attribute selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">attribute</span><span class="p">({</span><span class="nx">attribute</span><span class="o">:</span> <span class="s1">&#39;href&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; [href]</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-classname-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.className([props])</span></code><a class="headerlink" href="#parser-classname-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new class selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">className</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;button&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; .button</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-combinator-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.combinator([props])</span></code><a class="headerlink" href="#parser-combinator-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new selector combinator.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">combinator</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;+&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; +</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p><strong>Descendant Combinators</strong> The value of descendant combinators created by the
parser always just a single space (<code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code>). For descendant selectors with no
comments, additional space is now stored in <code class="docutils literal notranslate"><span class="pre">node.spaces.before</span></code>. Depending
on the location of comments, additional spaces may be stored in
<code class="docutils literal notranslate"><span class="pre">node.raws.spaces.before</span></code>, <code class="docutils literal notranslate"><span class="pre">node.raws.spaces.after</span></code>, or <code class="docutils literal notranslate"><span class="pre">node.raws.value</span></code>.</p></li>
<li><p><strong>Named Combinators</strong> Although, nonstandard and unlikely to ever become a standard,
named combinators like <code class="docutils literal notranslate"><span class="pre">/deep/</span></code> and <code class="docutils literal notranslate"><span class="pre">/for/</span></code> are parsed as combinators. The
<code class="docutils literal notranslate"><span class="pre">node.value</span></code> is name after being unescaped and normalized as lowercase. The
original value for the combinator name is stored in <code class="docutils literal notranslate"><span class="pre">node.raws.value</span></code>.</p></li>
</ul>
</div>
<div class="section" id="parser-comment-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.comment([props])</span></code><a class="headerlink" href="#parser-comment-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new comment.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">comment</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;/* Affirmative, Dave. I read you. */&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; /* Affirmative, Dave. I read you. */</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-id-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.id([props])</span></code><a class="headerlink" href="#parser-id-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new id selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">id</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;search&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; #search</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-nesting-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.nesting([props])</span></code><a class="headerlink" href="#parser-nesting-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new nesting selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">nesting</span><span class="p">();</span>
<span class="c1">// =&gt; &amp;</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-pseudo-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.pseudo([props])</span></code><a class="headerlink" href="#parser-pseudo-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new pseudo selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">pseudo</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;::before&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; ::before</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-root-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.root([props])</span></code><a class="headerlink" href="#parser-root-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new root node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">root</span><span class="p">();</span>
<span class="c1">// =&gt; (empty)</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-selector-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.selector([props])</span></code><a class="headerlink" href="#parser-selector-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new selector node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">selector</span><span class="p">();</span>
<span class="c1">// =&gt; (empty)</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-string-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.string([props])</span></code><a class="headerlink" href="#parser-string-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new string node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">string</span><span class="p">();</span>
<span class="c1">// =&gt; (empty)</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-tag-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.tag([props])</span></code><a class="headerlink" href="#parser-tag-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new tag selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">tag</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;button&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; button</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
<div class="section" id="parser-universal-props">
<h3><code class="docutils literal notranslate"><span class="pre">parser.universal([props])</span></code><a class="headerlink" href="#parser-universal-props" title="Permalink to this headline">¶</a></h3>
<p>Creates a new universal selector.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">universal</span><span class="p">();</span>
<span class="c1">// =&gt; *</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">props</span> <span class="pre">(object)</span></code>: The new node’s properties.</p></li>
</ul>
</div>
</div>
<div class="section" id="node-types">
<h2>Node types<a class="headerlink" href="#node-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="node-type">
<h3><code class="docutils literal notranslate"><span class="pre">node.type</span></code><a class="headerlink" href="#node-type" title="Permalink to this headline">¶</a></h3>
<p>A string representation of the selector type. It can be one of the following;
<code class="docutils literal notranslate"><span class="pre">attribute</span></code>, <code class="docutils literal notranslate"><span class="pre">class</span></code>, <code class="docutils literal notranslate"><span class="pre">combinator</span></code>, <code class="docutils literal notranslate"><span class="pre">comment</span></code>, <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">nesting</span></code>, <code class="docutils literal notranslate"><span class="pre">pseudo</span></code>,
<code class="docutils literal notranslate"><span class="pre">root</span></code>, <code class="docutils literal notranslate"><span class="pre">selector</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">tag</span></code>, or <code class="docutils literal notranslate"><span class="pre">universal</span></code>. Note that for convenience,
these constants are exposed on the main <code class="docutils literal notranslate"><span class="pre">parser</span></code> as uppercased keys. So for
example you can get <code class="docutils literal notranslate"><span class="pre">id</span></code> by querying <code class="docutils literal notranslate"><span class="pre">parser.ID</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">attribute</span><span class="p">({</span><span class="nx">attribute</span><span class="o">:</span> <span class="s1">&#39;href&#39;</span><span class="p">}).</span><span class="nx">type</span><span class="p">;</span>
<span class="c1">// =&gt; &#39;attribute&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="node-parent">
<h3><code class="docutils literal notranslate"><span class="pre">node.parent</span></code><a class="headerlink" href="#node-parent" title="Permalink to this headline">¶</a></h3>
<p>Returns the parent node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">root</span><span class="p">.</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">parent</span> <span class="o">===</span> <span class="nx">root</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="node-tostring-string-node-or-node">
<h3><code class="docutils literal notranslate"><span class="pre">node.toString()</span></code>, <code class="docutils literal notranslate"><span class="pre">String(node)</span></code>, or <code class="docutils literal notranslate"><span class="pre">''</span> <span class="pre">+</span> <span class="pre">node</span></code><a class="headerlink" href="#node-tostring-string-node-or-node" title="Permalink to this headline">¶</a></h3>
<p>Returns a string representation of the node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">id</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;search&#39;</span><span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>
<span class="c1">// =&gt; #search</span>
</pre></div>
</div>
</div>
<div class="section" id="node-next-node-prev">
<h3><code class="docutils literal notranslate"><span class="pre">node.next()</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">node.prev()</span></code><a class="headerlink" href="#node-next-node-prev" title="Permalink to this headline">¶</a></h3>
<p>Returns the next/previous child of the parent node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">id</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">next</span> <span class="o">&amp;&amp;</span> <span class="nx">next</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="s1">&#39;combinator&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Qualified IDs are not allowed!&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="node-replacewith-node">
<h3><code class="docutils literal notranslate"><span class="pre">node.replaceWith(node)</span></code><a class="headerlink" href="#node-replacewith-node" title="Permalink to this headline">¶</a></h3>
<p>Replace a node with another.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">attr</span> <span class="o">=</span> <span class="nx">selectors</span><span class="p">.</span><span class="nx">first</span><span class="p">.</span><span class="nx">first</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">className</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;test&#39;</span><span class="p">});</span>
<span class="nx">attr</span><span class="p">.</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">className</span><span class="p">);</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: The node to substitute the original with.</p></li>
</ul>
</div>
<div class="section" id="node-remove">
<h3><code class="docutils literal notranslate"><span class="pre">node.remove()</span></code><a class="headerlink" href="#node-remove" title="Permalink to this headline">¶</a></h3>
<p>Removes the node from its parent node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;id&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">node</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="node-clone">
<h3><code class="docutils literal notranslate"><span class="pre">node.clone()</span></code><a class="headerlink" href="#node-clone" title="Permalink to this headline">¶</a></h3>
<p>Returns a copy of a node, detached from any parent containers that the
original might have had.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">cloned</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">id</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;search&#39;</span><span class="p">});</span>
<span class="nb">String</span><span class="p">(</span><span class="nx">cloned</span><span class="p">);</span>

<span class="c1">// =&gt; #search</span>
</pre></div>
</div>
</div>
<div class="section" id="node-isatposition-line-column">
<h3><code class="docutils literal notranslate"><span class="pre">node.isAtPosition(line,</span> <span class="pre">column)</span></code><a class="headerlink" href="#node-isatposition-line-column" title="Permalink to this headline">¶</a></h3>
<p>Return a <code class="docutils literal notranslate"><span class="pre">boolean</span></code> indicating whether this node includes the character at the
position of the given line and column. Returns <code class="docutils literal notranslate"><span class="pre">undefined</span></code> if the nodes lack
sufficient source metadata to determine the position.</p>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">line</span></code>: 1-index based line number relative to the start of the selector.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column</span></code>: 1-index based column number relative to the start of the selector.</p></li>
</ul>
</div>
<div class="section" id="node-spaces">
<h3><code class="docutils literal notranslate"><span class="pre">node.spaces</span></code><a class="headerlink" href="#node-spaces" title="Permalink to this headline">¶</a></h3>
<p>Extra whitespaces around the node will be moved into <code class="docutils literal notranslate"><span class="pre">node.spaces.before</span></code> and
<code class="docutils literal notranslate"><span class="pre">node.spaces.after</span></code>. So for example, these spaces will be moved as they have
no semantic meaning:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span>      <span class="nt">h1</span>     <span class="o">,</span>     <span class="nt">h2</span>   <span class="p">{}</span>
</pre></div>
</div>
<p>For descendent selectors, the value is always a single space.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">h1</span>        <span class="nt">h2</span> <span class="p">{}</span>
</pre></div>
</div>
<p>Additional whitespace is found in either the <code class="docutils literal notranslate"><span class="pre">node.spaces.before</span></code> and <code class="docutils literal notranslate"><span class="pre">node.spaces.after</span></code> depending on the presence of comments or other whitespace characters. If the actual whitespace does not start or end with a single space, the node’s raw value is set to the actual space(s) found in the source.</p>
</div>
<div class="section" id="node-source">
<h3><code class="docutils literal notranslate"><span class="pre">node.source</span></code><a class="headerlink" href="#node-source" title="Permalink to this headline">¶</a></h3>
<p>An object describing the node’s start/end, line/column source position.</p>
<p>Within the following CSS, the <code class="docutils literal notranslate"><span class="pre">.bar</span></code> class node …</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">foo</span><span class="o">,</span>
  <span class="p">.</span><span class="nc">bar</span> <span class="p">{}</span>
</pre></div>
</div>
<p>… will contain the following <code class="docutils literal notranslate"><span class="pre">source</span></code> object.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">source</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">start</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">line</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span>
        <span class="nx">column</span><span class="o">:</span> <span class="mf">3</span>
    <span class="p">},</span>
    <span class="nx">end</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">line</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span>
        <span class="nx">column</span><span class="o">:</span> <span class="mf">6</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="node-sourceindex">
<h3><code class="docutils literal notranslate"><span class="pre">node.sourceIndex</span></code><a class="headerlink" href="#node-sourceindex" title="Permalink to this headline">¶</a></h3>
<p>The zero-based index of the node within the original source string.</p>
<p>Within the following CSS, the <code class="docutils literal notranslate"><span class="pre">.baz</span></code> class node will have a <code class="docutils literal notranslate"><span class="pre">sourceIndex</span></code> of <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">foo</span><span class="o">,</span> <span class="p">.</span><span class="nc">bar</span><span class="o">,</span> <span class="p">.</span><span class="nc">baz</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="container-types">
<h2>Container types<a class="headerlink" href="#container-types" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">root</span></code>, <code class="docutils literal notranslate"><span class="pre">selector</span></code>, and <code class="docutils literal notranslate"><span class="pre">pseudo</span></code> nodes have some helper methods for working
with their children.</p>
<div class="section" id="container-nodes">
<h3><code class="docutils literal notranslate"><span class="pre">container.nodes</span></code><a class="headerlink" href="#container-nodes" title="Permalink to this headline">¶</a></h3>
<p>An array of the container’s children.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// Input: h1 h2</span>
<span class="nx">selectors</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">).</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">length</span>   <span class="c1">// =&gt; 3</span>
<span class="nx">selectors</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">).</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">value</span> <span class="c1">// =&gt; &#39;h1&#39;</span>
<span class="nx">selectors</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">).</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">1</span><span class="p">].</span><span class="nx">value</span> <span class="c1">// =&gt; &#39; &#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="container-first-container-last">
<h3><code class="docutils literal notranslate"><span class="pre">container.first</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">container.last</span></code><a class="headerlink" href="#container-first-container-last" title="Permalink to this headline">¶</a></h3>
<p>The first/last child of the container.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selector</span><span class="p">.</span><span class="nx">first</span> <span class="o">===</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">last</span> <span class="o">===</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">nodes</span><span class="p">[</span><span class="nx">selector</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mf">1</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="container-at-index">
<h3><code class="docutils literal notranslate"><span class="pre">container.at(index)</span></code><a class="headerlink" href="#container-at-index" title="Permalink to this headline">¶</a></h3>
<p>Returns the node at position <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selector</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span> <span class="o">===</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">first</span><span class="p">;</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span> <span class="o">===</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: The index of the node to return.</p></li>
</ul>
</div>
<div class="section" id="container-atposition-line-column">
<h3><code class="docutils literal notranslate"><span class="pre">container.atPosition(line,</span> <span class="pre">column)</span></code><a class="headerlink" href="#container-atposition-line-column" title="Permalink to this headline">¶</a></h3>
<p>Returns the node at the source position <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selector</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span> <span class="o">===</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">first</span><span class="p">;</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span> <span class="o">===</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: The index of the node to return.</p></li>
</ul>
</div>
<div class="section" id="container-index-node">
<h3><code class="docutils literal notranslate"><span class="pre">container.index(node)</span></code><a class="headerlink" href="#container-index-node" title="Permalink to this headline">¶</a></h3>
<p>Return the index of the node within its container.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selector</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">nodes</span><span class="p">[</span><span class="mf">2</span><span class="p">])</span> <span class="c1">// =&gt; 2</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: A node within the current container.</p></li>
</ul>
</div>
<div class="section" id="container-length">
<h3><code class="docutils literal notranslate"><span class="pre">container.length</span></code><a class="headerlink" href="#container-length" title="Permalink to this headline">¶</a></h3>
<p>Proxy to the length of the container’s nodes.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">container</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="nx">container</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">length</span>
</pre></div>
</div>
</div>
<div class="section" id="container-array-iterators">
<h3><code class="docutils literal notranslate"><span class="pre">container</span></code> Array iterators<a class="headerlink" href="#container-array-iterators" title="Permalink to this headline">¶</a></h3>
<p>The container class provides proxies to certain Array methods; these are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">container.map</span> <span class="pre">===</span> <span class="pre">container.nodes.map</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.reduce</span> <span class="pre">===</span> <span class="pre">container.nodes.reduce</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.every</span> <span class="pre">===</span> <span class="pre">container.nodes.every</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.some</span> <span class="pre">===</span> <span class="pre">container.nodes.some</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.filter</span> <span class="pre">===</span> <span class="pre">container.nodes.filter</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.sort</span> <span class="pre">===</span> <span class="pre">container.nodes.sort</span></code></p></li>
</ul>
<p>Note that these methods only work on a container’s immediate children; recursive
iteration is provided by <code class="docutils literal notranslate"><span class="pre">container.walk</span></code>.</p>
</div>
<div class="section" id="container-each-callback">
<h3><code class="docutils literal notranslate"><span class="pre">container.each(callback)</span></code><a class="headerlink" href="#container-each-callback" title="Permalink to this headline">¶</a></h3>
<p>Iterate the container’s immediate children, calling <code class="docutils literal notranslate"><span class="pre">callback</span></code> for each child.
You may return <code class="docutils literal notranslate"><span class="pre">false</span></code> within the callback to break the iteration.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">className</span><span class="p">;</span>
<span class="nx">selectors</span><span class="p">.</span><span class="nx">each</span><span class="p">((</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;class&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">className</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Note that unlike <code class="docutils literal notranslate"><span class="pre">Array#forEach()</span></code>, this iterator is safe to use whilst adding
or removing nodes from the container.</p>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">callback</span> <span class="pre">(function)</span></code>: A function to call for each node, which receives <code class="docutils literal notranslate"><span class="pre">node</span></code>
and <code class="docutils literal notranslate"><span class="pre">index</span></code> arguments.</p></li>
</ul>
</div>
<div class="section" id="container-walk-callback">
<h3><code class="docutils literal notranslate"><span class="pre">container.walk(callback)</span></code><a class="headerlink" href="#container-walk-callback" title="Permalink to this headline">¶</a></h3>
<p>Like <code class="docutils literal notranslate"><span class="pre">container#each</span></code>, but will also iterate child nodes as long as they are
<code class="docutils literal notranslate"><span class="pre">container</span></code> types.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selectors</span><span class="p">.</span><span class="nx">walk</span><span class="p">((</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// all nodes</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">callback</span> <span class="pre">(function)</span></code>: A function to call for each node, which receives <code class="docutils literal notranslate"><span class="pre">node</span></code>
and <code class="docutils literal notranslate"><span class="pre">index</span></code> arguments.</p></li>
</ul>
<p>This iterator is safe to use whilst mutating <code class="docutils literal notranslate"><span class="pre">container.nodes</span></code>,
like <code class="docutils literal notranslate"><span class="pre">container#each</span></code>.</p>
</div>
<div class="section" id="container-walk-proxies">
<h3><code class="docutils literal notranslate"><span class="pre">container.walk</span></code> proxies<a class="headerlink" href="#container-walk-proxies" title="Permalink to this headline">¶</a></h3>
<p>The container class provides proxy methods for iterating over types of nodes,
so that it is easier to write modules that target specific selectors. Those
methods are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkAttributes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkClasses</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkCombinators</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkComments</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkIds</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkNesting</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkPseudos</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkTags</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">container.walkUniversals</span></code></p></li>
</ul>
</div>
<div class="section" id="container-split-callback">
<h3><code class="docutils literal notranslate"><span class="pre">container.split(callback)</span></code><a class="headerlink" href="#container-split-callback" title="Permalink to this headline">¶</a></h3>
<p>This method allows you to split a group of nodes by returning <code class="docutils literal notranslate"><span class="pre">true</span></code> from
a callback. It returns an array of arrays, where each inner array corresponds
to the groups that you created via the callback.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// (input) =&gt; h1 h2&gt;&gt;h3</span>
<span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">selectors</span><span class="p">.</span><span class="nx">first</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">selector</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;combinator&#39;</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// (node values) =&gt; [[&#39;h1&#39;, &#39; &#39;], [&#39;h2&#39;, &#39;&gt;&gt;&#39;], [&#39;h3&#39;]]</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">callback</span> <span class="pre">(function)</span></code>: A function to call for each node, which receives <code class="docutils literal notranslate"><span class="pre">node</span></code>
as an argument.</p></li>
</ul>
</div>
<div class="section" id="container-prepend-node-container-append-node">
<h3><code class="docutils literal notranslate"><span class="pre">container.prepend(node)</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">container.append(node)</span></code><a class="headerlink" href="#container-prepend-node-container-append-node" title="Permalink to this headline">¶</a></h3>
<p>Add a node to the start/end of the container. Note that doing so will set
the parent property of the node to this container.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">id</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;search&#39;</span><span class="p">});</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: The node to add.</p></li>
</ul>
</div>
<div class="section" id="container-insertbefore-old-new-container-insertafter-old-new">
<h3><code class="docutils literal notranslate"><span class="pre">container.insertBefore(old,</span> <span class="pre">new)</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">container.insertAfter(old,</span> <span class="pre">new)</span></code><a class="headerlink" href="#container-insertbefore-old-new-container-insertafter-old-new" title="Permalink to this headline">¶</a></h3>
<p>Add a node before or after an existing node in a container:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selectors</span><span class="p">.</span><span class="nx">walk</span><span class="p">(</span><span class="nx">selector</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="s1">&#39;class&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">className</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;theme-name&#39;</span><span class="p">});</span>
        <span class="nx">selector</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">className</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">old</span></code>: The existing node in the container.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">new</span></code>: The new node to add before/after the existing node.</p></li>
</ul>
</div>
<div class="section" id="container-removechild-node">
<h3><code class="docutils literal notranslate"><span class="pre">container.removeChild(node)</span></code><a class="headerlink" href="#container-removechild-node" title="Permalink to this headline">¶</a></h3>
<p>Remove the node from the container. Note that you can also use
<code class="docutils literal notranslate"><span class="pre">node.remove()</span></code> if you would like to remove just a single node.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// =&gt; 2</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// =&gt; 1;</span>
<span class="nx">id</span><span class="p">.</span><span class="nx">parent</span>       <span class="c1">// undefined</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code>: The node to remove.</p></li>
</ul>
</div>
<div class="section" id="container-removeall-or-container-empty">
<h3><code class="docutils literal notranslate"><span class="pre">container.removeAll()</span></code> or <code class="docutils literal notranslate"><span class="pre">container.empty()</span></code><a class="headerlink" href="#container-removeall-or-container-empty" title="Permalink to this headline">¶</a></h3>
<p>Remove all children from the container.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">selector</span><span class="p">.</span><span class="nx">removeAll</span><span class="p">();</span>
<span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// =&gt; 0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="root-nodes">
<h2>Root nodes<a class="headerlink" href="#root-nodes" title="Permalink to this headline">¶</a></h2>
<p>A root node represents a comma separated list of selectors. Indeed, all
a root’s <code class="docutils literal notranslate"><span class="pre">toString()</span></code> method does is join its selector children with a ‘,’.
Other than this, it has no special functionality and acts like a container.</p>
<div class="section" id="root-trailingcomma">
<h3><code class="docutils literal notranslate"><span class="pre">root.trailingComma</span></code><a class="headerlink" href="#root-trailingcomma" title="Permalink to this headline">¶</a></h3>
<p>This will be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input has a trailing comma, in order to
support parsing of legacy CSS hacks.</p>
</div>
</div>
<div class="section" id="selector-nodes">
<h2>Selector nodes<a class="headerlink" href="#selector-nodes" title="Permalink to this headline">¶</a></h2>
<p>A selector node represents a single complex selector. For example, this
selector string <code class="docutils literal notranslate"><span class="pre">h1</span> <span class="pre">h2</span> <span class="pre">h3,</span> <span class="pre">[href]</span> <span class="pre">&gt;</span> <span class="pre">p</span></code>, is represented as two selector nodes.
It has no special functionality of its own.</p>
</div>
<div class="section" id="pseudo-nodes">
<h2>Pseudo nodes<a class="headerlink" href="#pseudo-nodes" title="Permalink to this headline">¶</a></h2>
<p>A pseudo selector extends a container node; if it has any parameters of its
own (such as <code class="docutils literal notranslate"><span class="pre">h1:not(h2,</span> <span class="pre">h3)</span></code>), they will be its children. Note that the pseudo
<code class="docutils literal notranslate"><span class="pre">value</span></code> will always contain the colons preceding the pseudo identifier. This
is so that both <code class="docutils literal notranslate"><span class="pre">:before</span></code> and <code class="docutils literal notranslate"><span class="pre">::before</span></code> are properly represented in the AST.</p>
</div>
<div class="section" id="attribute-nodes">
<h2>Attribute nodes<a class="headerlink" href="#attribute-nodes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="attribute-quoted">
<h3><code class="docutils literal notranslate"><span class="pre">attribute.quoted</span></code><a class="headerlink" href="#attribute-quoted" title="Permalink to this headline">¶</a></h3>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the attribute’s value is wrapped in quotation marks, false if it is not.
Remains <code class="docutils literal notranslate"><span class="pre">undefined</span></code> if there is no attribute value.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="nt">href</span><span class="o">=</span><span class="nt">foo</span><span class="o">]</span> <span class="c">/* false */</span>
<span class="o">[</span><span class="nt">href</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="o">]</span> <span class="c">/* true */</span>
<span class="o">[</span><span class="nt">href</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="o">]</span> <span class="c">/* true */</span>
<span class="o">[</span><span class="nt">href</span><span class="o">]</span> <span class="c">/* undefined */</span>
</pre></div>
</div>
</div>
<div class="section" id="attribute-qualifiedattribute">
<h3><code class="docutils literal notranslate"><span class="pre">attribute.qualifiedAttribute</span></code><a class="headerlink" href="#attribute-qualifiedattribute" title="Permalink to this headline">¶</a></h3>
<p>Returns the attribute name qualified with the namespace if one is given.</p>
</div>
<div class="section" id="attribute-offsetof-part">
<h3><code class="docutils literal notranslate"><span class="pre">attribute.offsetOf(part)</span></code><a class="headerlink" href="#attribute-offsetof-part" title="Permalink to this headline">¶</a></h3>
<p>Returns the offset of the attribute part specified relative to the
start of the node of the output string. This is useful in raising
error messages about a specific part of the attribute, especially
in combination with <code class="docutils literal notranslate"><span class="pre">attribute.sourceIndex</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> if the name is invalid or the value doesn’t exist in this
attribute.</p>
<p>The legal values for <code class="docutils literal notranslate"><span class="pre">part</span></code> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ns&quot;</span></code> - alias for “namespace”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;namespace&quot;</span></code> - the namespace if it exists.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;attribute&quot;</span></code> - the attribute name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;attributeNS&quot;</span></code> - the start of the attribute or its namespace</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;operator&quot;</span></code> - the match operator of the attribute</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;value&quot;</span></code> - The value (string or identifier)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;insensitive&quot;</span></code> - the case insensitivity flag</p></li>
</ul>
</div>
<div class="section" id="attribute-raws-unquoted">
<h3><code class="docutils literal notranslate"><span class="pre">attribute.raws.unquoted</span></code><a class="headerlink" href="#attribute-raws-unquoted" title="Permalink to this headline">¶</a></h3>
<p>Returns the unquoted content of the attribute’s value.
Remains <code class="docutils literal notranslate"><span class="pre">undefined</span></code> if there is no attribute value.</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="nt">href</span><span class="o">=</span><span class="nt">foo</span><span class="o">]</span> <span class="c">/* foo */</span>
<span class="o">[</span><span class="nt">href</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="o">]</span> <span class="c">/* foo */</span>
<span class="o">[</span><span class="nt">href</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="o">]</span> <span class="c">/* foo */</span>
<span class="o">[</span><span class="nt">href</span><span class="o">]</span> <span class="c">/* undefined */</span>
</pre></div>
</div>
</div>
<div class="section" id="attribute-spaces">
<h3><code class="docutils literal notranslate"><span class="pre">attribute.spaces</span></code><a class="headerlink" href="#attribute-spaces" title="Permalink to this headline">¶</a></h3>
<p>Like <code class="docutils literal notranslate"><span class="pre">node.spaces</span></code> with the <code class="docutils literal notranslate"><span class="pre">before</span></code> and <code class="docutils literal notranslate"><span class="pre">after</span></code> values containing the spaces
around the element, the parts of the attribute can also have spaces before
and after them. The for each of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, <code class="docutils literal notranslate"><span class="pre">operator</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code> and
<code class="docutils literal notranslate"><span class="pre">insensitive</span></code> there is corresponding property of the same nam in
<code class="docutils literal notranslate"><span class="pre">node.spaces</span></code> that has an optional <code class="docutils literal notranslate"><span class="pre">before</span></code> or <code class="docutils literal notranslate"><span class="pre">after</span></code> string containing only
whitespace.</p>
<p>Note that corresponding values in <code class="docutils literal notranslate"><span class="pre">attributes.raws.spaces</span></code> contain values
including any comments. If set, these values will override the
<code class="docutils literal notranslate"><span class="pre">attribute.spaces</span></code> value. Take care to remove them if changing
<code class="docutils literal notranslate"><span class="pre">attribute.spaces</span></code>.</p>
</div>
<div class="section" id="attribute-raws">
<h3><code class="docutils literal notranslate"><span class="pre">attribute.raws</span></code><a class="headerlink" href="#attribute-raws" title="Permalink to this headline">¶</a></h3>
<p>The raws object stores comments and other information necessary to re-render
the node exactly as it was in the source.</p>
<p>If a comment is embedded within the identifiers for the <code class="docutils literal notranslate"><span class="pre">namespace</span></code>, <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
or <code class="docutils literal notranslate"><span class="pre">value</span></code> then a property is placed in the raws for that value containing the full source of the propery including comments.</p>
<p>If a comment is embedded within the space between parts of the attribute
then the raw for that space is set accordingly.</p>
<p>Setting an attribute’s property <code class="docutils literal notranslate"><span class="pre">raws</span></code> value to be deleted.</p>
<p>For now, changing the spaces required also updating or removing any of the
raws values that override them.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">/*before*/</span> <span class="pre">href</span> <span class="pre">/*</span> <span class="pre">after-attr</span> <span class="pre">*/</span> <span class="pre">=</span> <span class="pre">/*</span> <span class="pre">after-operator</span> <span class="pre">*/</span> <span class="pre">te/*inside-value*/st/*</span> <span class="pre">wow</span> <span class="pre">*/</span> <span class="pre">/*omg*/i/*bbq*/</span> <span class="pre">/*whodoesthis*/]</span></code> would parse as:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">attribute</span><span class="o">:</span> <span class="s2">&quot;href&quot;</span><span class="p">,</span>
  <span class="nx">operatator</span><span class="o">:</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span>
  <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
  <span class="nx">spaces</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">before</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">attribute</span><span class="o">:</span> <span class="p">{</span> <span class="nx">before</span><span class="o">:</span> <span class="s1">&#39;  &#39;</span><span class="p">,</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39;  &#39;</span> <span class="p">},</span>
    <span class="nx">operator</span><span class="o">:</span> <span class="p">{</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39;  &#39;</span> <span class="p">},</span>
    <span class="nx">value</span><span class="o">:</span> <span class="p">{</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39; &#39;</span> <span class="p">},</span>
    <span class="nx">insensitive</span><span class="o">:</span> <span class="p">{</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39; &#39;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">raws</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">spaces</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">attribute</span><span class="o">:</span> <span class="p">{</span> <span class="nx">before</span><span class="o">:</span> <span class="s1">&#39; /*before*/ &#39;</span><span class="p">,</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39; /* after-attr */ &#39;</span> <span class="p">},</span>
      <span class="nx">operator</span><span class="o">:</span> <span class="p">{</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39; /* after-operator */ &#39;</span> <span class="p">},</span>
      <span class="nx">value</span><span class="o">:</span> <span class="p">{</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39;/* wow */ /*omg*/&#39;</span> <span class="p">},</span>
      <span class="nx">insensitive</span><span class="o">:</span> <span class="p">{</span> <span class="nx">after</span><span class="o">:</span> <span class="s1">&#39;/*bbq*/ /*whodoesthis*/&#39;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">unquoted</span><span class="o">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;te/*inside-value*/st&#39;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="processor">
<h2><code class="docutils literal notranslate"><span class="pre">Processor</span></code><a class="headerlink" href="#processor" title="Permalink to this headline">¶</a></h2>
<div class="section" id="processoroptions">
<h3><code class="docutils literal notranslate"><span class="pre">ProcessorOptions</span></code><a class="headerlink" href="#processoroptions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lossless</span></code> - When <code class="docutils literal notranslate"><span class="pre">true</span></code>, whitespace is preserved. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updateSelector</span></code> - When <code class="docutils literal notranslate"><span class="pre">true</span></code>, if any processor methods are passed a postcss
<code class="docutils literal notranslate"><span class="pre">Rule</span></code> node instead of a string, then that Rule’s selector is updated
with the results of the processing. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
</ul>
</div>
<div class="section" id="process-processsync-selectors-options">
<h3><code class="docutils literal notranslate"><span class="pre">process|processSync(selectors,</span> <span class="pre">[options])</span></code><a class="headerlink" href="#process-processsync-selectors-options" title="Permalink to this headline">¶</a></h3>
<p>Processes the <code class="docutils literal notranslate"><span class="pre">selectors</span></code>, returning a string from the result of processing.</p>
<p>Note: when the <code class="docutils literal notranslate"><span class="pre">updateSelector</span></code> option is set, the rule’s selector
will be updated with the resulting string.</p>
<p><strong>Example:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">parser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;postcss-selector-parser&quot;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">processor</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">();</span>

<span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">processor</span><span class="p">.</span><span class="nx">processSync</span><span class="p">(</span><span class="s1">&#39; .class&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="c1">// =&gt;  .class</span>

<span class="c1">// Asynchronous operation</span>
<span class="kd">let</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">processor</span><span class="p">.</span><span class="nx">process</span><span class="p">(</span><span class="s1">&#39; .class&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="c1">// =&gt; .class</span>
<span class="p">});</span>

<span class="c1">// To have the parser normalize whitespace values, utilize the options</span>
<span class="nx">result</span> <span class="o">=</span> <span class="nx">processor</span><span class="p">.</span><span class="nx">processSync</span><span class="p">(</span><span class="s1">&#39;  .class  &#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">lossless</span><span class="o">:</span> <span class="kc">false</span><span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="c1">// =&gt; .class</span>

<span class="c1">// For better syntax errors, pass a PostCSS Rule node.</span>
<span class="kr">const</span> <span class="nx">postcss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;postcss&#39;</span><span class="p">);</span>
<span class="nx">rule</span> <span class="o">=</span> <span class="nx">postcss</span><span class="p">.</span><span class="nx">rule</span><span class="p">({</span><span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39; #foo    &gt; a,  .class  &#39;</span><span class="p">});</span>
<span class="nx">processor</span><span class="p">.</span><span class="nx">process</span><span class="p">(</span><span class="nx">rule</span><span class="p">,</span> <span class="p">{</span><span class="nx">lossless</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">updateSelector</span><span class="o">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="c1">// =&gt; #foo&gt;a,.class</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;rule:&quot;</span><span class="p">,</span> <span class="nx">rule</span><span class="p">.</span><span class="nx">selector</span><span class="p">);</span>
    <span class="c1">// =&gt; rule: #foo&gt;a,.class</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">selectors</span> <span class="pre">(string|postcss.Rule)</span></code>: Either a selector string or a PostCSS Rule
node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[options]</span> <span class="pre">(object)</span></code>: Process options</p></li>
</ul>
</div>
<div class="section" id="ast-astsync-selectors-options">
<h3><code class="docutils literal notranslate"><span class="pre">ast|astSync(selectors,</span> <span class="pre">[options])</span></code><a class="headerlink" href="#ast-astsync-selectors-options" title="Permalink to this headline">¶</a></h3>
<p>Like <code class="docutils literal notranslate"><span class="pre">process()</span></code> and <code class="docutils literal notranslate"><span class="pre">processSync()</span></code> but after
processing the <code class="docutils literal notranslate"><span class="pre">selectors</span></code> these methods return the <code class="docutils literal notranslate"><span class="pre">Root</span></code> node of the result
instead of a string.</p>
<p>Note: when the <code class="docutils literal notranslate"><span class="pre">updateSelector</span></code> option is set, the rule’s selector
will be updated with the resulting string.</p>
</div>
<div class="section" id="transform-transformsync-selectors-options">
<h3><code class="docutils literal notranslate"><span class="pre">transform|transformSync(selectors,</span> <span class="pre">[options])</span></code><a class="headerlink" href="#transform-transformsync-selectors-options" title="Permalink to this headline">¶</a></h3>
<p>Like <code class="docutils literal notranslate"><span class="pre">process()</span></code> and <code class="docutils literal notranslate"><span class="pre">processSync()</span></code> but after
processing the <code class="docutils literal notranslate"><span class="pre">selectors</span></code> these methods return the value returned by the
processor callback.</p>
<p>Note: when the <code class="docutils literal notranslate"><span class="pre">updateSelector</span></code> option is set, the rule’s selector
will be updated with the resulting string.</p>
</div>
<div class="section" id="error-handling-within-selector-processors">
<h3>Error Handling Within Selector Processors<a class="headerlink" href="#error-handling-within-selector-processors" title="Permalink to this headline">¶</a></h3>
<p>The root node passed to the selector processor callback
has a method <code class="docutils literal notranslate"><span class="pre">error(message,</span> <span class="pre">options)</span></code> that returns an
error object. This method should always be used to raise
errors relating to the syntax of selectors. The options
to this method are passed to postcss’s error constructor
(<a class="reference external" href="http://api.postcss.org/Container.html#error">documentation</a>).</p>
<div class="section" id="async-error-example">
<h4>Async Error Example<a class="headerlink" href="#async-error-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">processor</span> <span class="o">=</span> <span class="p">(</span><span class="nx">root</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">root</span><span class="p">.</span><span class="nx">walkClasses</span><span class="p">((</span><span class="nx">classNode</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="sr">/^(.*)[-_]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">classNode</span><span class="p">.</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;classes may not have underscores or dashes in them&quot;</span><span class="p">;</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="p">{</span>
                    <span class="nx">index</span><span class="o">:</span> <span class="nx">classNode</span><span class="p">.</span><span class="nx">sourceIndex</span> <span class="o">+</span> <span class="nb">RegExp</span><span class="p">.</span><span class="nx">$1</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mf">1</span><span class="p">,</span>
                    <span class="nx">word</span><span class="o">:</span> <span class="nx">classNode</span><span class="p">.</span><span class="nx">value</span>
                <span class="p">}));</span>
            <span class="p">}</span>
        <span class="p">});</span>
        <span class="nx">resolve</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">postcss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;postcss&quot;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">parser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;postcss-selector-parser&quot;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">selectorProcessor</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">(</span><span class="nx">processor</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">plugin</span> <span class="o">=</span> <span class="nx">postcss</span><span class="p">.</span><span class="nx">plugin</span><span class="p">(</span><span class="s1">&#39;classValidator&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">root</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">promises</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nx">root</span><span class="p">.</span><span class="nx">walkRules</span><span class="p">(</span><span class="nx">rule</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">promises</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">selectorProcessor</span><span class="p">.</span><span class="nx">process</span><span class="p">(</span><span class="nx">rule</span><span class="p">));</span>
        <span class="p">});</span>
        <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">promises</span><span class="p">);</span>
    <span class="p">};</span>
<span class="p">});</span>
<span class="nx">postcss</span><span class="p">(</span><span class="nx">plugin</span><span class="p">()).</span><span class="nx">process</span><span class="p">(</span><span class="sb">`</span>
<span class="sb">.foo-bar {</span>
<span class="sb">  color: red;</span>
<span class="sb">}</span>
<span class="sb">`</span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span> <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s1">&#39;test.css&#39;</span><span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">toString</span><span class="p">()));</span>

<span class="c1">// CssSyntaxError: classValidator: ./test.css:1:5: classes may not have underscores or dashes in them</span>
<span class="c1">//</span>
<span class="c1">// &gt; 1 | .foo-bar {</span>
<span class="c1">//     |     ^</span>
<span class="c1">//   2 |   color: red;</span>
<span class="c1">//   3 | }</span>
</pre></div>
</div>
</div>
<div class="section" id="synchronous-error-example">
<h4>Synchronous Error Example<a class="headerlink" href="#synchronous-error-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">processor</span> <span class="o">=</span> <span class="p">(</span><span class="nx">root</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">root</span><span class="p">.</span><span class="nx">walkClasses</span><span class="p">((</span><span class="nx">classNode</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/.*[-_]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">classNode</span><span class="p">.</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;classes may not have underscores or dashes in them&quot;</span><span class="p">;</span>
            <span class="k">throw</span> <span class="nx">root</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="p">{</span>
                <span class="nx">index</span><span class="o">:</span> <span class="nx">classNode</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="p">,</span>
                <span class="nx">word</span><span class="o">:</span> <span class="nx">classNode</span><span class="p">.</span><span class="nx">value</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">postcss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;postcss&quot;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">parser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;postcss-selector-parser&quot;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">selectorProcessor</span> <span class="o">=</span> <span class="nx">parser</span><span class="p">(</span><span class="nx">processor</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">plugin</span> <span class="o">=</span> <span class="nx">postcss</span><span class="p">.</span><span class="nx">plugin</span><span class="p">(</span><span class="s1">&#39;classValidator&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">root</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">root</span><span class="p">.</span><span class="nx">walkRules</span><span class="p">(</span><span class="nx">rule</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">selectorProcessor</span><span class="p">.</span><span class="nx">processSync</span><span class="p">(</span><span class="nx">rule</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">};</span>
<span class="p">});</span>
<span class="nx">postcss</span><span class="p">(</span><span class="nx">plugin</span><span class="p">()).</span><span class="nx">process</span><span class="p">(</span><span class="sb">`</span>
<span class="sb">.foo-bar {</span>
<span class="sb">  color: red;</span>
<span class="sb">}</span>
<span class="sb">`</span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span> <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s1">&#39;test.css&#39;</span><span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">toString</span><span class="p">()));</span>

<span class="c1">// CssSyntaxError: classValidator: ./test.css:1:5: classes may not have underscores or dashes in them</span>
<span class="c1">//</span>
<span class="c1">// &gt; 1 | .foo-bar {</span>
<span class="c1">//     |     ^</span>
<span class="c1">//   2 |   color: red;</span>
<span class="c1">//   3 | }</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-postcss-selector-parser-6.0.2-934cf799d016c83411859e09dcecade01286ec5c-integrity/node_modules/postcss-selector-parser"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>