
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EJS &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-ejs-2.7.4-48661287573dcc53e366c7a1ae52c3a120eec9ba-integrity/node_modules/ejs/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation">
   Installation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#features">
   Features
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example">
   Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#options">
   Options
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tags">
   Tags
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#includes">
   Includes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custom-delimiters">
   Custom delimiters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#caching">
   Caching
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#custom-file-loader">
   Custom file loader
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#layouts">
   Layouts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#client-side-support">
   Client-side support
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Example
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#caveats">
     Caveats
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ide-integration-with-syntax-highlighting">
     IDE Integration with Syntax Highlighting
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#related-projects">
   Related projects
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="ejs">
<h1>EJS<a class="headerlink" href="#ejs" title="Permalink to this headline">¶</a></h1>
<p>Embedded JavaScript templates</p>
<p><a class="reference external" href="https://travis-ci.org/mde/ejs"><img alt="Build Status" src="https://img.shields.io/travis/mde/ejs/master.svg?style=flat" /></a>
<a class="reference external" href="https://david-dm.org/mde/ejs?type=dev"><img alt="Developing Dependencies" src="https://img.shields.io/david/dev/mde/ejs.svg?style=flat" /></a>
<a class="reference external" href="https://snyk.io/test/npm/ejs"><img alt="Known Vulnerabilities" src="https://snyk.io/test/npm/ejs/badge.svg?style=flat" /></a></p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install ejs
</pre></div>
</div>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Control flow with <code class="docutils literal notranslate"><span class="pre">&lt;%</span> <span class="pre">%&gt;</span></code></p></li>
<li><p>Escaped output with <code class="docutils literal notranslate"><span class="pre">&lt;%=</span> <span class="pre">%&gt;</span></code> (escape function configurable)</p></li>
<li><p>Unescaped raw output with <code class="docutils literal notranslate"><span class="pre">&lt;%-</span> <span class="pre">%&gt;</span></code></p></li>
<li><p>Newline-trim mode (‘newline slurping’) with <code class="docutils literal notranslate"><span class="pre">-%&gt;</span></code> ending tag</p></li>
<li><p>Whitespace-trim mode (slurp all whitespace) for control flow with <code class="docutils literal notranslate"><span class="pre">&lt;%_</span> <span class="pre">_%&gt;</span></code></p></li>
<li><p>Custom delimiters (e.g., use <code class="docutils literal notranslate"><span class="pre">&lt;?</span> <span class="pre">?&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&lt;%</span> <span class="pre">%&gt;</span></code>)</p></li>
<li><p>Includes</p></li>
<li><p>Client-side support</p></li>
<li><p>Static caching of intermediate JavaScript</p></li>
<li><p>Static caching of templates</p></li>
<li><p>Complies with the <a class="reference external" href="http://expressjs.com">Express</a> view system</p></li>
</ul>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ejs notranslate"><div class="highlight"><pre><span></span>&lt;% if (user) { %&gt;
  &lt;h2&gt;&lt;%= user.name %&gt;&lt;/h2&gt;
&lt;% } %&gt;
</pre></div>
</div>
<p>Try EJS online at: https://ionicabizau.github.io/ejs-playground/.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">template</span> <span class="o">=</span> <span class="nx">ejs</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
<span class="nx">template</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="c1">// =&gt; Rendered HTML string</span>

<span class="nx">ejs</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
<span class="c1">// =&gt; Rendered HTML string</span>

<span class="nx">ejs</span><span class="p">.</span><span class="nx">renderFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">str</span><span class="p">){</span>
    <span class="c1">// str =&gt; Rendered HTML string</span>
<span class="p">});</span>
</pre></div>
</div>
<p>It is also possible to use <code class="docutils literal notranslate"><span class="pre">ejs.render(dataAndOptions);</span></code> where you pass
everything in a single object. In that case, you’ll end up with local variables
for all the passed options. However, be aware that your code could break if we
add an option with the same name as one of your data object’s properties.
Therefore, we do not recommend using this shortcut.</p>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache</span></code>                 Compiled functions are cached, requires <code class="docutils literal notranslate"><span class="pre">filename</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code>              The name of the file being rendered. Not required if you
are using <code class="docutils literal notranslate"><span class="pre">renderFile()</span></code>. Used by <code class="docutils literal notranslate"><span class="pre">cache</span></code> to key caches, and for includes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">root</span></code>                  Set project root for includes with an absolute path (/file.ejs).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">context</span></code>               Function execution context</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compileDebug</span></code>          When <code class="docutils literal notranslate"><span class="pre">false</span></code> no debug instrumentation is compiled</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client</span></code>                When <code class="docutils literal notranslate"><span class="pre">true</span></code>, compiles a function that can be rendered
in the browser without needing to load the EJS Runtime
(<a class="reference external" href="https://github.com/mde/ejs/releases/latest">ejs.min.js</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delimiter</span></code>             Character to use with angle brackets for open/close</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debug</span></code>                 Output generated function body</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strict</span></code>                When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, generated function is in strict mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_with</span></code>                 Whether or not to use <code class="docutils literal notranslate"><span class="pre">with()</span> <span class="pre">{}</span></code> constructs. If <code class="docutils literal notranslate"><span class="pre">false</span></code>
then the locals will be stored in the <code class="docutils literal notranslate"><span class="pre">locals</span></code> object. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> in strict mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">destructuredLocals</span></code>    An array of local variables that are always destructured from
the locals object, available even in strict mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">localsName</span></code>            Name to use for the object storing local variables when not using
<code class="docutils literal notranslate"><span class="pre">with</span></code> Defaults to <code class="docutils literal notranslate"><span class="pre">locals</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rmWhitespace</span></code>          Remove all safe-to-remove whitespace, including leading
and trailing whitespace. It also enables a safer version of <code class="docutils literal notranslate"><span class="pre">-%&gt;</span></code> line
slurping for all scriptlet tags (it does not strip new lines of tags in
the middle of a line).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">escape</span></code>                The escaping function used with <code class="docutils literal notranslate"><span class="pre">&lt;%=</span></code> construct. It is
used in rendering and is <code class="docutils literal notranslate"><span class="pre">.toString()</span></code>ed in the generation of client functions.
(By default escapes XML).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outputFunctionName</span></code>    Set to a string (e.g., ‘echo’ or ‘print’) for a function to print
output inside scriptlet tags.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">async</span></code>                 When <code class="docutils literal notranslate"><span class="pre">true</span></code>, EJS will use an async function for rendering. (Depends
on async/await support in the JS runtime.</p></li>
</ul>
<p>This project uses <a class="reference external" href="http://usejsdoc.org/">JSDoc</a>. For the full public API
documentation, clone the repository and run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">doc</span></code>. This will run JSDoc
with the proper options and output the documentation to <code class="docutils literal notranslate"><span class="pre">out/</span></code>. If you want
the both the public &amp; private API docs, run <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">devdoc</span></code> instead.</p>
</div>
<div class="section" id="tags">
<h2>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;%</span></code>              ‘Scriptlet’ tag, for control-flow, no output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;%_</span></code>             ‘Whitespace Slurping’ Scriptlet tag, strips all whitespace before it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;%=</span></code>             Outputs the value into the template (escaped)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;%-</span></code>             Outputs the unescaped value into the template</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;%#</span></code>             Comment tag, no execution, no output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;%%</span></code>             Outputs a literal ‘&lt;%’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%%&gt;</span></code>             Outputs a literal ‘%&gt;’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%&gt;</span></code>              Plain ending tag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-%&gt;</span></code>             Trim-mode (‘newline slurp’) tag, trims following newline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_%&gt;</span></code>             ‘Whitespace Slurping’ ending tag, removes all whitespace after it</p></li>
</ul>
<p>For the full syntax documentation, please see <a class="reference external" href="https://github.com/mde/ejs/blob/master/docs/syntax.md">docs/syntax.md</a>.</p>
</div>
<div class="section" id="includes">
<h2>Includes<a class="headerlink" href="#includes" title="Permalink to this headline">¶</a></h2>
<p>Includes either have to be an absolute path, or, if not, are assumed as
relative to the template with the <code class="docutils literal notranslate"><span class="pre">include</span></code> call. For example if you are
including <code class="docutils literal notranslate"><span class="pre">./views/user/show.ejs</span></code> from <code class="docutils literal notranslate"><span class="pre">./views/users.ejs</span></code> you would
use <code class="docutils literal notranslate"><span class="pre">&lt;%-</span> <span class="pre">include('user/show')</span> <span class="pre">%&gt;</span></code>.</p>
<p>You must specify the <code class="docutils literal notranslate"><span class="pre">filename</span></code> option for the template with the <code class="docutils literal notranslate"><span class="pre">include</span></code>
call unless you are using <code class="docutils literal notranslate"><span class="pre">renderFile()</span></code>.</p>
<p>You’ll likely want to use the raw output tag (<code class="docutils literal notranslate"><span class="pre">&lt;%-</span></code>) with your include to avoid
double-escaping the HTML output.</p>
<div class="highlight-ejs notranslate"><div class="highlight"><pre><span></span>&lt;ul&gt;
  &lt;% users.forEach(function(user){ %&gt;
    &lt;%- include(&#39;user/show&#39;, {user: user}) %&gt;
  &lt;% }); %&gt;
&lt;/ul&gt;
</pre></div>
</div>
<p>Includes are inserted at runtime, so you can use variables for the path in the
<code class="docutils literal notranslate"><span class="pre">include</span></code> call (for example <code class="docutils literal notranslate"><span class="pre">&lt;%-</span> <span class="pre">include(somePath)</span> <span class="pre">%&gt;</span></code>). Variables in your
top-level data object are available to all your includes, but local variables
need to be passed down.</p>
<p>NOTE: Include preprocessor directives (<code class="docutils literal notranslate"><span class="pre">&lt;%</span> <span class="pre">include</span> <span class="pre">user/show</span> <span class="pre">%&gt;</span></code>) are
still supported.</p>
</div>
<div class="section" id="custom-delimiters">
<h2>Custom delimiters<a class="headerlink" href="#custom-delimiters" title="Permalink to this headline">¶</a></h2>
<p>Custom delimiters can be applied on a per-template basis, or globally:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">ejs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ejs&#39;</span><span class="p">),</span>
    <span class="nx">users</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;geddy&#39;</span><span class="p">,</span> <span class="s1">&#39;neil&#39;</span><span class="p">,</span> <span class="s1">&#39;alex&#39;</span><span class="p">];</span>

<span class="c1">// Just one template</span>
<span class="nx">ejs</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;&lt;?= users.join(&quot; | &quot;); ?&gt;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">users</span><span class="o">:</span> <span class="nx">users</span><span class="p">},</span> <span class="p">{</span><span class="nx">delimiter</span><span class="o">:</span> <span class="s1">&#39;?&#39;</span><span class="p">});</span>
<span class="c1">// =&gt; &#39;geddy | neil | alex&#39;</span>

<span class="c1">// Or globally</span>
<span class="nx">ejs</span><span class="p">.</span><span class="nx">delimiter</span> <span class="o">=</span> <span class="s1">&#39;$&#39;</span><span class="p">;</span>
<span class="nx">ejs</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;&lt;$= users.join(&quot; | &quot;); $&gt;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">users</span><span class="o">:</span> <span class="nx">users</span><span class="p">});</span>
<span class="c1">// =&gt; &#39;geddy | neil | alex&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="caching">
<h2>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h2>
<p>EJS ships with a basic in-process cache for caching the intermediate JavaScript
functions used to render templates. It’s easy to plug in LRU caching using
Node’s <code class="docutils literal notranslate"><span class="pre">lru-cache</span></code> library:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">ejs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ejs&#39;</span><span class="p">),</span>
    <span class="nx">LRU</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;lru-cache&#39;</span><span class="p">);</span>
<span class="nx">ejs</span><span class="p">.</span><span class="nx">cache</span> <span class="o">=</span> <span class="nx">LRU</span><span class="p">(</span><span class="mf">100</span><span class="p">);</span> <span class="c1">// LRU cache with 100-item limit</span>
</pre></div>
</div>
<p>If you want to clear the EJS cache, call <code class="docutils literal notranslate"><span class="pre">ejs.clearCache</span></code>. If you’re using the
LRU cache and need a different limit, simple reset <code class="docutils literal notranslate"><span class="pre">ejs.cache</span></code> to a new instance
of the LRU.</p>
</div>
<div class="section" id="custom-file-loader">
<h2>Custom file loader<a class="headerlink" href="#custom-file-loader" title="Permalink to this headline">¶</a></h2>
<p>The default file loader is <code class="docutils literal notranslate"><span class="pre">fs.readFileSync</span></code>, if you want to customize it, you can set ejs.fileLoader.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">ejs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ejs&#39;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">myFileLoad</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">filePath</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">&#39;myFileLoad: &#39;</span> <span class="o">+</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">filePath</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">ejs</span><span class="p">.</span><span class="nx">fileLoader</span> <span class="o">=</span> <span class="nx">myFileLoad</span><span class="p">;</span>
</pre></div>
</div>
<p>With this feature, you can preprocess the template before reading it.</p>
</div>
<div class="section" id="layouts">
<h2>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h2>
<p>EJS does not specifically support blocks, but layouts can be implemented by
including headers and footers, like so:</p>
<div class="highlight-ejs notranslate"><div class="highlight"><pre><span></span>&lt;%- include(&#39;header&#39;) -%&gt;
&lt;h1&gt;
  Title
&lt;/h1&gt;
&lt;p&gt;
  My page
&lt;/p&gt;
&lt;%- include(&#39;footer&#39;) -%&gt;
</pre></div>
</div>
</div>
<div class="section" id="client-side-support">
<h2>Client-side support<a class="headerlink" href="#client-side-support" title="Permalink to this headline">¶</a></h2>
<p>Go to the <a class="reference external" href="https://github.com/mde/ejs/releases/latest">Latest Release</a>, download
<code class="docutils literal notranslate"><span class="pre">./ejs.js</span></code> or <code class="docutils literal notranslate"><span class="pre">./ejs.min.js</span></code>. Alternately, you can compile it yourself by cloning
the repository and running <code class="docutils literal notranslate"><span class="pre">jake</span> <span class="pre">build</span></code> (or <code class="docutils literal notranslate"><span class="pre">$(npm</span> <span class="pre">bin)/jake</span> <span class="pre">build</span></code> if jake is
not installed globally).</p>
<p>Include one of these files on your page, and <code class="docutils literal notranslate"><span class="pre">ejs</span></code> should be available globally.</p>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;output&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;ejs.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kd">let</span> <span class="nx">people</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;geddy&#39;</span><span class="p">,</span> <span class="s1">&#39;neil&#39;</span><span class="p">,</span> <span class="s1">&#39;alex&#39;</span><span class="p">],</span>
      <span class="nx">html</span> <span class="o">=</span> <span class="nx">ejs</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s1">&#39;&lt;%= people.join(&quot;, &quot;); %&gt;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">people</span><span class="o">:</span> <span class="nx">people</span><span class="p">});</span>
  <span class="c1">// With jQuery:</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#output&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
  <span class="c1">// Vanilla JS:</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">html</span><span class="p">;</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="caveats">
<h3>Caveats<a class="headerlink" href="#caveats" title="Permalink to this headline">¶</a></h3>
<p>Most of EJS will work as expected; however, there are a few things to note:</p>
<ol class="simple">
<li><p>Obviously, since you do not have access to the filesystem, <code class="docutils literal notranslate"><span class="pre">ejs.renderFile()</span></code> won’t work.</p></li>
<li><p>For the same reason, <code class="docutils literal notranslate"><span class="pre">include</span></code>s do not work unless you use an <code class="docutils literal notranslate"><span class="pre">include</span> <span class="pre">callback</span></code>. Here is an example:</p></li>
</ol>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">&quot;Hello &lt;%= include(&#39;file&#39;, {person: &#39;John&#39;}); %&gt;&quot;</span><span class="p">,</span>
    <span class="nx">fn</span> <span class="o">=</span> <span class="nx">ejs</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="p">{</span><span class="nx">client</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="nx">fn</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">,</span> <span class="nx">d</span><span class="p">){</span> <span class="c1">// include callback</span>
  <span class="c1">// path -&gt; &#39;file&#39;</span>
  <span class="c1">// d -&gt; {person: &#39;John&#39;}</span>
  <span class="c1">// Put your code here</span>
  <span class="c1">// Return the contents of file as a string</span>
<span class="p">});</span> <span class="c1">// returns rendered string</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="https://github.com/mde/ejs/tree/master/examples">examples folder</a> for more details.</p>
</div>
<div class="section" id="ide-integration-with-syntax-highlighting">
<h3>IDE Integration with Syntax Highlighting<a class="headerlink" href="#ide-integration-with-syntax-highlighting" title="Permalink to this headline">¶</a></h3>
<p>VSCode:Javascript EJS by <em>DigitalBrainstem</em></p>
</div>
</div>
<div class="section" id="related-projects">
<h2>Related projects<a class="headerlink" href="#related-projects" title="Permalink to this headline">¶</a></h2>
<p>There are a number of implementations of EJS:</p>
<ul class="simple">
<li><p>TJ’s implementation, the v1 of this library: https://github.com/tj/ejs</p></li>
<li><p>Jupiter Consulting’s EJS: http://www.embeddedjs.com/</p></li>
<li><p>EJS Embedded JavaScript Framework on Google Code: https://code.google.com/p/embeddedjavascript/</p></li>
<li><p>Sam Stephenson’s Ruby implementation: https://rubygems.org/gems/ejs</p></li>
<li><p>Erubis, an ERB implementation which also runs JavaScript: http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript</p></li>
<li><p>DigitalBrainstem EJS Language support: https://github.com/Digitalbrainstem/ejs-grammar</p></li>
</ul>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Licensed under the Apache License, Version 2.0
(<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</p>
<hr class="docutils" />
<p>EJS Embedded JavaScript templates copyright 2112
mde&#64;fleegix.org.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-ejs-2.7.4-48661287573dcc53e366c7a1ae52c3a120eec9ba-integrity/node_modules/ejs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>