
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ajv-keywords &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-ajv-keywords-3.5.1-b83ca89c5d42d69031f424cad49aada0236c6957-integrity/node_modules/ajv-keywords/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#contents">
   Contents
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install">
   Install
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#usage">
   Usage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keywords">
   Keywords
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#types">
     Types
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#typeof">
       <code class="docutils literal notranslate">
        <span class="pre">
         typeof
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#instanceof">
       <code class="docutils literal notranslate">
        <span class="pre">
         instanceof
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keywords-for-numbers">
     Keywords for numbers
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#range-and-exclusiverange">
       <code class="docutils literal notranslate">
        <span class="pre">
         range
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         exclusiveRange
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keywords-for-strings">
     Keywords for strings
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#regexp">
       <code class="docutils literal notranslate">
        <span class="pre">
         regexp
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#formatmaximum-formatminimum-and-formatexclusivemaximum-formatexclusiveminimum">
       <code class="docutils literal notranslate">
        <span class="pre">
         formatMaximum
        </span>
       </code>
       /
       <code class="docutils literal notranslate">
        <span class="pre">
         formatMinimum
        </span>
       </code>
       and
       <code class="docutils literal notranslate">
        <span class="pre">
         formatExclusiveMaximum
        </span>
       </code>
       /
       <code class="docutils literal notranslate">
        <span class="pre">
         formatExclusiveMinimum
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#transform">
       <code class="docutils literal notranslate">
        <span class="pre">
         transform
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keywords-for-arrays">
     Keywords for arrays
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#uniqueitemproperties">
       <code class="docutils literal notranslate">
        <span class="pre">
         uniqueItemProperties
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keywords-for-objects">
     Keywords for objects
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#allrequired">
       <code class="docutils literal notranslate">
        <span class="pre">
         allRequired
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#anyrequired">
       <code class="docutils literal notranslate">
        <span class="pre">
         anyRequired
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#onerequired">
       <code class="docutils literal notranslate">
        <span class="pre">
         oneRequired
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#patternrequired">
       <code class="docutils literal notranslate">
        <span class="pre">
         patternRequired
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#prohibited">
       <code class="docutils literal notranslate">
        <span class="pre">
         prohibited
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#deepproperties">
       <code class="docutils literal notranslate">
        <span class="pre">
         deepProperties
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#deeprequired">
       <code class="docutils literal notranslate">
        <span class="pre">
         deepRequired
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compound-keywords">
     Compound keywords
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#switch-deprecated">
       <code class="docutils literal notranslate">
        <span class="pre">
         switch
        </span>
       </code>
       (deprecated)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#select-selectcases-selectdefault">
       <code class="docutils literal notranslate">
        <span class="pre">
         select
        </span>
       </code>
       /
       <code class="docutils literal notranslate">
        <span class="pre">
         selectCases
        </span>
       </code>
       /
       <code class="docutils literal notranslate">
        <span class="pre">
         selectDefault
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keywords-for-all-types">
     Keywords for all types
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dynamicdefaults">
       <code class="docutils literal notranslate">
        <span class="pre">
         dynamicDefaults
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#security-contact">
   Security contact
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#open-source-software-support">
   Open-source software support
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#license">
   License
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="ajv-keywords">
<h1>ajv-keywords<a class="headerlink" href="#ajv-keywords" title="Permalink to this headline">¶</a></h1>
<p>Custom JSON-Schema keywords for <a class="reference external" href="https://github.com/epoberezkin/ajv">Ajv</a> validator</p>
<p><a class="reference external" href="https://travis-ci.org/ajv-validator/ajv-keywords"><img alt="Build Status" src="https://travis-ci.org/ajv-validator/ajv-keywords.svg?branch=master" /></a>
<a class="reference external" href="https://www.npmjs.com/package/ajv-keywords"><img alt="npm" src="https://img.shields.io/npm/v/ajv-keywords.svg" /></a>
<a class="reference external" href="https://www.npmjs.com/package/ajv-keywords"><img alt="npm downloads" src="https://img.shields.io/npm/dm/ajv-keywords.svg" /></a>
<a class="reference external" href="https://coveralls.io/github/ajv-validator/ajv-keywords?branch=master"><img alt="Coverage Status" src="https://coveralls.io/repos/github/ajv-validator/ajv-keywords/badge.svg?branch=master" /></a>
<a class="reference external" href="https://app.dependabot.com/accounts/ajv-validator/repos/60477053"><img alt="Dependabot" src="https://api.dependabot.com/badges/status?host=github&amp;repo=ajv-validator/ajv-keywords" /></a>
<a class="reference external" href="https://gitter.im/ajv-validator/ajv"><img alt="Gitter" src="https://img.shields.io/gitter/room/ajv-validator/ajv.svg" /></a></p>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#install">Install</a></p></li>
<li><p><a class="reference external" href="#usage">Usage</a></p></li>
<li><p><a class="reference external" href="#keywords">Keywords</a></p>
<ul>
<li><p><a class="reference external" href="#types">Types</a></p>
<ul>
<li><p><a class="reference external" href="#typeof">typeof</a></p></li>
<li><p><a class="reference external" href="#instanceof">instanceof</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#keywords-for-numbers">Keywords for numbers</a></p>
<ul>
<li><p><a class="reference external" href="#range-and-exclusiverange">range and exclusiveRange</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#keywords-for-strings">Keywords for strings</a></p>
<ul>
<li><p><a class="reference external" href="#regexp">regexp</a></p></li>
<li><p><a class="reference external" href="#formatmaximum--formatminimum-and-formatexclusivemaximum--formatexclusiveminimum">formatMaximum / formatMinimum and formatExclusiveMaximum / formatExclusiveMinimum</a></p></li>
<li><p><a class="reference external" href="#transform">transform</a><sup>*</sup></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#keywords-for-arrays">Keywords for arrays</a></p>
<ul>
<li><p><a class="reference external" href="#uniqueitemproperties">uniqueItemProperties</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#keywords-for-objects">Keywords for objects</a></p>
<ul>
<li><p><a class="reference external" href="#allrequired">allRequired</a></p></li>
<li><p><a class="reference external" href="#anyrequired">anyRequired</a></p></li>
<li><p><a class="reference external" href="#onerequired">oneRequired</a></p></li>
<li><p><a class="reference external" href="#patternrequired">patternRequired</a></p></li>
<li><p><a class="reference external" href="#prohibited">prohibited</a></p></li>
<li><p><a class="reference external" href="#deepproperties">deepProperties</a></p></li>
<li><p><a class="reference external" href="#deeprequired">deepRequired</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#compound-keywords">Compound keywords</a></p>
<ul>
<li><p><a class="reference external" href="#switch">switch</a> (deprecated)</p></li>
<li><p><a class="reference external" href="#selectselectcasesselectdefault">select/selectCases/selectDefault</a> (BETA)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="#keywords-for-all-types">Keywords for all types</a></p>
<ul>
<li><p><a class="reference external" href="#dynamicdefaults">dynamicDefaults</a><sup>*</sup></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference external" href="#security-contact">Security contact</a></p></li>
<li><p><a class="reference external" href="#open-source-software-support">Open-source software support</a></p></li>
<li><p><a class="reference external" href="#license">License</a></p></li>
</ul>
<p><sup>*</sup> - keywords that modify data</p>
</div>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="n">ajv</span><span class="o">-</span><span class="n">keywords</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To add all available keywords:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">Ajv</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ajv</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ajv</span><span class="p">;</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">);</span>

<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="k">instanceof</span><span class="o">:</span> <span class="s1">&#39;RegExp&#39;</span> <span class="p">},</span> <span class="sr">/.*/</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="k">instanceof</span><span class="o">:</span> <span class="s1">&#39;RegExp&#39;</span> <span class="p">},</span> <span class="s1">&#39;.*&#39;</span><span class="p">);</span> <span class="c1">// false</span>
</pre></div>
</div>
<p>To add a single keyword:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="s1">&#39;instanceof&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>To add multiple keywords:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;typeof&#39;</span><span class="p">,</span> <span class="s1">&#39;instanceof&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>To add a single keyword in browser (to avoid adding unused code):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords/keywords/instanceof&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="keywords">
<h2>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h2>
<div class="section" id="types">
<h3>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h3>
<div class="section" id="typeof">
<h4><code class="docutils literal notranslate"><span class="pre">typeof</span></code><a class="headerlink" href="#typeof" title="Permalink to this headline">¶</a></h4>
<p>Based on JavaScript <code class="docutils literal notranslate"><span class="pre">typeof</span></code> operation.</p>
<p>The value of the keyword should be a string (<code class="docutils literal notranslate"><span class="pre">&quot;undefined&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;number&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;object&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;boolean&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;symbol&quot;</span></code>) or array of strings.</p>
<p>To pass validation the result of <code class="docutils literal notranslate"><span class="pre">typeof</span></code> operation on the value should be equal to the string (or one of the strings in the array).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ajv</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span> <span class="n">typeof</span><span class="p">:</span> <span class="s1">&#39;undefined&#39;</span> <span class="p">},</span> <span class="n">undefined</span><span class="p">);</span> <span class="o">//</span> <span class="n">true</span>
<span class="n">ajv</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span> <span class="n">typeof</span><span class="p">:</span> <span class="s1">&#39;undefined&#39;</span> <span class="p">},</span> <span class="n">null</span><span class="p">);</span> <span class="o">//</span> <span class="n">false</span>
<span class="n">ajv</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span> <span class="n">typeof</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;undefined&#39;</span><span class="p">,</span> <span class="s1">&#39;object&#39;</span><span class="p">]</span> <span class="p">},</span> <span class="n">null</span><span class="p">);</span> <span class="o">//</span> <span class="n">true</span>
</pre></div>
</div>
</div>
<div class="section" id="instanceof">
<h4><code class="docutils literal notranslate"><span class="pre">instanceof</span></code><a class="headerlink" href="#instanceof" title="Permalink to this headline">¶</a></h4>
<p>Based on JavaScript <code class="docutils literal notranslate"><span class="pre">instanceof</span></code> operation.</p>
<p>The value of the keyword should be a string (<code class="docutils literal notranslate"><span class="pre">&quot;Object&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Array&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Function&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Number&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;String&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Date&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;RegExp&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Promise&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;Buffer&quot;</span></code>) or array of strings.</p>
<p>To pass validation the result of <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">instanceof</span> <span class="pre">...</span></code> operation on the value should be true:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ajv</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span> <span class="n">instanceof</span><span class="p">:</span> <span class="s1">&#39;Array&#39;</span> <span class="p">},</span> <span class="p">[]);</span> <span class="o">//</span> <span class="n">true</span>
<span class="n">ajv</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span> <span class="n">instanceof</span><span class="p">:</span> <span class="s1">&#39;Array&#39;</span> <span class="p">},</span> <span class="p">{});</span> <span class="o">//</span> <span class="n">false</span>
<span class="n">ajv</span><span class="o">.</span><span class="n">validate</span><span class="p">({</span> <span class="n">instanceof</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Array&#39;</span><span class="p">,</span> <span class="s1">&#39;Function&#39;</span><span class="p">]</span> <span class="p">},</span> <span class="n">function</span><span class="p">(){});</span> <span class="o">//</span> <span class="n">true</span>
</pre></div>
</div>
<p>You can add your own constructor function to be recognised by this keyword:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">MyClass</span><span class="p">()</span> <span class="p">{}</span>
<span class="kd">var</span> <span class="nx">instanceofDefinition</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;instanceof&#39;</span><span class="p">).</span><span class="nx">definition</span><span class="p">;</span>
<span class="c1">// or require(&#39;ajv-keywords/keywords/instanceof&#39;).definition;</span>
<span class="nx">instanceofDefinition</span><span class="p">.</span><span class="nx">CONSTRUCTORS</span><span class="p">.</span><span class="nx">MyClass</span> <span class="o">=</span> <span class="nx">MyClass</span><span class="p">;</span>

<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="k">instanceof</span><span class="o">:</span> <span class="s1">&#39;MyClass&#39;</span> <span class="p">},</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">);</span> <span class="c1">// true</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="keywords-for-numbers">
<h3>Keywords for numbers<a class="headerlink" href="#keywords-for-numbers" title="Permalink to this headline">¶</a></h3>
<div class="section" id="range-and-exclusiverange">
<h4><code class="docutils literal notranslate"><span class="pre">range</span></code> and <code class="docutils literal notranslate"><span class="pre">exclusiveRange</span></code><a class="headerlink" href="#range-and-exclusiverange" title="Permalink to this headline">¶</a></h4>
<p>Syntax sugar for the combination of minimum and maximum keywords, also fails schema compilation if there are no numbers in the range.</p>
<p>The value of this keyword must be the array consisting of two numbers, the second must be greater or equal than the first one.</p>
<p>If the validated value is not a number the validation passes, otherwise to pass validation the value should be greater (or equal) than the first number and smaller (or equal) than the second number in the array. If <code class="docutils literal notranslate"><span class="pre">exclusiveRange</span></code> keyword is present in the same schema and its value is true, the validated value must not be equal to the range boundaries.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">3</span><span class="p">]</span> <span class="p">};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">1</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">2</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">3</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">3.01</span><span class="p">);</span> <span class="c1">// false</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">3</span><span class="p">],</span> <span class="nx">exclusiveRange</span><span class="o">:</span> <span class="kc">true</span> <span class="p">};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">1.01</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">2</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">2.99</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">1</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="mf">3</span><span class="p">);</span> <span class="c1">// false</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="keywords-for-strings">
<h3>Keywords for strings<a class="headerlink" href="#keywords-for-strings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="regexp">
<h4><code class="docutils literal notranslate"><span class="pre">regexp</span></code><a class="headerlink" href="#regexp" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to use regular expressions with flags in schemas (the standard <code class="docutils literal notranslate"><span class="pre">pattern</span></code> keyword does not support flags).</p>
<p>This keyword applies only to strings. If the data is not a string, the validation succeeds.</p>
<p>The value of this keyword can be either a string (the result of <code class="docutils literal notranslate"><span class="pre">regexp.toString()</span></code>) or an object with the properties <code class="docutils literal notranslate"><span class="pre">pattern</span></code> and <code class="docutils literal notranslate"><span class="pre">flags</span></code> (the same strings that should be passed to RegExp constructor).</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span> <span class="nx">regexp</span><span class="o">:</span> <span class="s1">&#39;/foo/i&#39;</span> <span class="p">},</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span> <span class="nx">regexp</span><span class="o">:</span> <span class="p">{</span> <span class="nx">pattern</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nx">flags</span><span class="o">:</span> <span class="s1">&#39;i&#39;</span> <span class="p">}</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;Food&#39;</span><span class="p">,</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s1">&#39;Barmen&#39;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;fog&#39;</span><span class="p">,</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s1">&#39;bad&#39;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="formatmaximum-formatminimum-and-formatexclusivemaximum-formatexclusiveminimum">
<h4><code class="docutils literal notranslate"><span class="pre">formatMaximum</span></code> / <code class="docutils literal notranslate"><span class="pre">formatMinimum</span></code> and <code class="docutils literal notranslate"><span class="pre">formatExclusiveMaximum</span></code> / <code class="docutils literal notranslate"><span class="pre">formatExclusiveMinimum</span></code><a class="headerlink" href="#formatmaximum-formatminimum-and-formatexclusivemaximum-formatexclusiveminimum" title="Permalink to this headline">¶</a></h4>
<p>These keywords allow to define minimum/maximum constraints when the format keyword defines ordering.</p>
<p>These keywords apply only to strings. If the data is not a string, the validation succeeds.</p>
<p>The value of keyword <code class="docutils literal notranslate"><span class="pre">formatMaximum</span></code> (<code class="docutils literal notranslate"><span class="pre">formatMinimum</span></code>) should be a string. This value is the maximum (minimum) allowed value for the data to be valid as determined by <code class="docutils literal notranslate"><span class="pre">format</span></code> keyword. If <code class="docutils literal notranslate"><span class="pre">format</span></code> is not present schema compilation will throw exception.</p>
<p>When this keyword is added, it defines comparison rules for formats <code class="docutils literal notranslate"><span class="pre">&quot;date&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;time&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;date-time&quot;</span></code>. Custom formats also can have comparison rules. See <a class="reference external" href="https://github.com/epoberezkin/ajv#api-addformat">addFormat</a> method.</p>
<p>The value of keyword <code class="docutils literal notranslate"><span class="pre">formatExclusiveMaximum</span></code> (<code class="docutils literal notranslate"><span class="pre">formatExclusiveMinimum</span></code>) should be a boolean value. These keyword cannot be used without <code class="docutils literal notranslate"><span class="pre">formatMaximum</span></code> (<code class="docutils literal notranslate"><span class="pre">formatMinimum</span></code>). If this keyword value is equal to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the data to be valid should not be equal to the value in <code class="docutils literal notranslate"><span class="pre">formatMaximum</span></code> (<code class="docutils literal notranslate"><span class="pre">formatMinimum</span></code>) keyword.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;formatMinimum&#39;</span><span class="p">,</span> <span class="s1">&#39;formatMaximum&#39;</span><span class="p">]);</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span>
  <span class="nx">formatMinimum</span><span class="o">:</span> <span class="s1">&#39;2016-02-06&#39;</span><span class="p">,</span>
  <span class="nx">formatMaximum</span><span class="o">:</span> <span class="s1">&#39;2016-12-27&#39;</span><span class="p">,</span>
  <span class="nx">formatExclusiveMaximum</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">validDataList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2016-02-06&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-12-26&#39;</span><span class="p">,</span> <span class="mf">1</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">invalidDataList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2016-02-05&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-12-27&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="transform">
<h4><code class="docutils literal notranslate"><span class="pre">transform</span></code><a class="headerlink" href="#transform" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows a string to be modified before validation.</p>
<p>These keywords apply only to strings. If the data is not a string, the transform is skipped.</p>
<p>There are limitation due to how ajv is written:</p>
<ul class="simple">
<li><p>a stand alone string cannot be transformed. ie <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">=</span> <span class="pre">'a';</span> <span class="pre">ajv.validate(schema,</span> <span class="pre">data);</span></code></p></li>
<li><p>currently cannot work with <code class="docutils literal notranslate"><span class="pre">ajv-pack</span></code></p></li>
</ul>
<p><strong>Supported options:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trim</span></code>: remove whitespace from start and end</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trimLeft</span></code>: remove whitespace from start</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trimRight</span></code>: remove whitespace from end</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">toLowerCase</span></code>: case string to all lower case</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">toUpperCase</span></code>: case string to all upper case</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">toEnumCase</span></code>: case string to match case in schema</p></li>
</ul>
<p>Options are applied in the order they are listed.</p>
<p>Note: <code class="docutils literal notranslate"><span class="pre">toEnumCase</span></code> requires that all allowed values are unique when case insensitive.</p>
<p><strong>Example: multiple options</strong></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;transform&#39;</span><span class="p">]);</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;string&#39;</span><span class="p">,</span>
    <span class="nx">transform</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;trim&#39;</span><span class="p">,</span><span class="s1">&#39;toLowerCase&#39;</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;  MixCase  &#39;</span><span class="p">];</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// [&#39;mixcase&#39;]</span>
</pre></div>
</div>
<p><strong>Example: <code class="docutils literal notranslate"><span class="pre">enumcase</span></code></strong></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;transform&#39;</span><span class="p">]);</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;string&#39;</span><span class="p">,</span>
    <span class="nx">transform</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;trim&#39;</span><span class="p">,</span><span class="s1">&#39;toEnumCase&#39;</span><span class="p">],</span>
    <span class="kr">enum</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;pH&#39;</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ph&#39;</span><span class="p">,</span><span class="s1">&#39; Ph&#39;</span><span class="p">,</span><span class="s1">&#39;PH&#39;</span><span class="p">,</span><span class="s1">&#39;pH &#39;</span><span class="p">];</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// [&#39;pH&#39;,&#39;pH&#39;,&#39;pH&#39;,&#39;pH&#39;]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="keywords-for-arrays">
<h3>Keywords for arrays<a class="headerlink" href="#keywords-for-arrays" title="Permalink to this headline">¶</a></h3>
<div class="section" id="uniqueitemproperties">
<h4><code class="docutils literal notranslate"><span class="pre">uniqueItemProperties</span></code><a class="headerlink" href="#uniqueitemproperties" title="Permalink to this headline">¶</a></h4>
<p>The keyword allows to check that some properties in array items are unique.</p>
<p>This keyword applies only to arrays. If the data is not an array, the validation succeeds.</p>
<p>The value of this keyword must be an array of strings - property names that should have unique values across all items.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">uniqueItemProperties</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span> <span class="p">]</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">1</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">2</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">3</span> <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">invalidData1</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">1</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">1</span> <span class="p">},</span> <span class="c1">// duplicate &quot;id&quot;</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">3</span> <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">invalidData2</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;taco&quot;</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;taco&quot;</span> <span class="p">},</span> <span class="c1">// duplicate &quot;name&quot;</span>
  <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="mf">3</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;salsa&quot;</span> <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</div>
<p>This keyword is contributed by <a class="reference external" href="https://github.com/blainesch">&#64;blainesch</a>.</p>
</div>
</div>
<div class="section" id="keywords-for-objects">
<h3>Keywords for objects<a class="headerlink" href="#keywords-for-objects" title="Permalink to this headline">¶</a></h3>
<div class="section" id="allrequired">
<h4><code class="docutils literal notranslate"><span class="pre">allRequired</span></code><a class="headerlink" href="#allrequired" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to require the presence of all properties used in <code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword in the same schema object.</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value of this keyword must be boolean.</p>
<p>If the value of the keyword is <code class="docutils literal notranslate"><span class="pre">false</span></code>, the validation succeeds.</p>
<p>If the value of the keyword is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the validation succeeds if the data contains all properties defined in <code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword (in the same schema object).</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword is not present in the same schema object, schema compilation will throw exception.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;number&#39;</span><span class="p">},</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;number&#39;</span><span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">allRequired</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">alsoValidData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="mf">3</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidDataList</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span> <span class="p">}</span> <span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="anyrequired">
<h4><code class="docutils literal notranslate"><span class="pre">anyRequired</span></code><a class="headerlink" href="#anyrequired" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to require the presence of any (at least one) property from the list.</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value of this keyword must be an array of strings, each string being a property name. For data object to be valid at least one of the properties in this array should be present in the object.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">anyRequired</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">alsoValidData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidDataList</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">baz</span><span class="o">:</span> <span class="mf">3</span> <span class="p">}</span> <span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="onerequired">
<h4><code class="docutils literal notranslate"><span class="pre">oneRequired</span></code><a class="headerlink" href="#onerequired" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to require the presence of only one property from the list.</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value of this keyword must be an array of strings, each string being a property name. For data object to be valid exactly one of the properties in this array should be present in the object.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">oneRequired</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">alsoValidData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="mf">3</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidDataList</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">baz</span><span class="o">:</span> <span class="mf">3</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span> <span class="p">}</span> <span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="patternrequired">
<h4><code class="docutils literal notranslate"><span class="pre">patternRequired</span></code><a class="headerlink" href="#patternrequired" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to require the presence of properties that match some pattern(s).</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value of this keyword should be an array of strings, each string being a regular expression. For data object to be valid each regular expression in this array should match at least one property name in the data object.</p>
<p>If the array contains multiple regular expressions, more than one expression can match the same property name.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">patternRequired</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;f.*o&#39;</span><span class="p">,</span> <span class="s1">&#39;b.*r&#39;</span> <span class="p">]</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">alsoValidData</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foobar</span><span class="o">:</span> <span class="mf">3</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidDataList</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{},</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="mf">1</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">2</span> <span class="p">}</span> <span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="prohibited">
<h4><code class="docutils literal notranslate"><span class="pre">prohibited</span></code><a class="headerlink" href="#prohibited" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to prohibit that any of the properties in the list is present in the object.</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value of this keyword should be an array of strings, each string being a property name. For data object to be valid none of the properties in this array should be present in the object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span> <span class="n">schema</span> <span class="o">=</span> <span class="p">{</span> <span class="n">prohibited</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]};</span>

<span class="n">var</span> <span class="n">validData</span> <span class="o">=</span> <span class="p">{</span> <span class="n">baz</span><span class="p">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="n">var</span> <span class="n">alsoValidData</span> <span class="o">=</span> <span class="p">{};</span>

<span class="n">var</span> <span class="n">invalidDataList</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="n">foo</span><span class="p">:</span> <span class="mi">1</span> <span class="p">},</span>
  <span class="p">{</span> <span class="n">bar</span><span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
  <span class="p">{</span> <span class="n">foo</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">bar</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="p">];</span>
</pre></div>
</div>
<p><strong>Please note</strong>: <code class="docutils literal notranslate"><span class="pre">{prohibited:</span> <span class="pre">['foo',</span> <span class="pre">'bar']}</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">{not:</span> <span class="pre">{anyRequired:</span> <span class="pre">['foo',</span> <span class="pre">'bar']}}</span></code> (i.e. it has the same validation result for any data).</p>
</div>
<div class="section" id="deepproperties">
<h4><code class="docutils literal notranslate"><span class="pre">deepProperties</span></code><a class="headerlink" href="#deepproperties" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to validate deep properties (identified by JSON pointers).</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value should be an object, where keys are JSON pointers to the data, starting from the current position in data, and the values are JSON schemas. For data object to be valid the value of each JSON pointer should be valid according to the corresponding schema.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">deepProperties</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;/users/1/role&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;admin&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{},</span>
    <span class="p">{</span>
      <span class="nx">id</span><span class="o">:</span> <span class="mf">123</span><span class="p">,</span>
      <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;admin&#39;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">alsoValidData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;1&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">id</span><span class="o">:</span> <span class="mf">123</span><span class="p">,</span>
      <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;admin&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{},</span>
    <span class="p">{</span>
      <span class="nx">id</span><span class="o">:</span> <span class="mf">123</span><span class="p">,</span>
      <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;user&#39;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">alsoInvalidData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;1&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">id</span><span class="o">:</span> <span class="mf">123</span><span class="p">,</span>
      <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;user&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="deeprequired">
<h4><code class="docutils literal notranslate"><span class="pre">deepRequired</span></code><a class="headerlink" href="#deeprequired" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to check that some deep properties (identified by JSON pointers) are available.</p>
<p>This keyword applies only to objects. If the data is not an object, the validation succeeds.</p>
<p>The value should be an array of JSON pointers to the data, starting from the current position in data. For data object to be valid each JSON pointer should be some existing part of the data.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">deepRequired</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;/users/1/role&quot;</span><span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{},</span>
    <span class="p">{</span>
      <span class="nx">id</span><span class="o">:</span> <span class="mf">123</span><span class="p">,</span>
      <span class="nx">role</span><span class="o">:</span> <span class="s1">&#39;admin&#39;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">invalidData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">users</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{},</span>
    <span class="p">{</span>
      <span class="nx">id</span><span class="o">:</span> <span class="mf">123</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://github.com/json-schema-org/json-schema-spec/issues/203#issue-197211916">json-schema-org/json-schema-spec#203</a> for an example of the equivalent schema without <code class="docutils literal notranslate"><span class="pre">deepRequired</span></code> keyword.</p>
</div>
</div>
<div class="section" id="compound-keywords">
<h3>Compound keywords<a class="headerlink" href="#compound-keywords" title="Permalink to this headline">¶</a></h3>
<div class="section" id="switch-deprecated">
<h4><code class="docutils literal notranslate"><span class="pre">switch</span></code> (deprecated)<a class="headerlink" href="#switch-deprecated" title="Permalink to this headline">¶</a></h4>
<p><strong>Please note</strong>: this keyword is provided to preserve backward compatibility with previous versions of Ajv. It is strongly recommended to use <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">then</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code> keywords instead, as they have been added to the draft-07 of JSON Schema specification.</p>
<p>This keyword allows to perform advanced conditional validation.</p>
<p>The value of the keyword is the array of if/then clauses. Each clause is the object with the following properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if</span></code> (optional) - the value is JSON-schema</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">then</span></code> (required) - the value is JSON-schema or boolean</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">continue</span></code> (optional) - the value is boolean</p></li>
</ul>
<p>The validation process is dynamic; all clauses are executed sequentially in the following way:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if</span></code>:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if</span></code> property is JSON-schema according to which the data is:</p>
<ol class="simple">
<li><p>valid =&gt; go to step 2.</p></li>
<li><p>invalid =&gt; go to the NEXT clause, if this was the last clause the validation of <code class="docutils literal notranslate"><span class="pre">switch</span></code> SUCCEEDS.</p></li>
</ol>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span></code> property is absent =&gt; go to step 2.</p></li>
</ol>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">then</span></code>:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">then</span></code> property is <code class="docutils literal notranslate"><span class="pre">true</span></code> or it is JSON-schema according to which the data is valid =&gt; go to step 3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">then</span></code> property is <code class="docutils literal notranslate"><span class="pre">false</span></code> or it is JSON-schema according to which the data is invalid =&gt; the validation of <code class="docutils literal notranslate"><span class="pre">switch</span></code> FAILS.</p></li>
</ol>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">continue</span></code>:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">continue</span></code> property is <code class="docutils literal notranslate"><span class="pre">true</span></code> =&gt; go to the NEXT clause, if this was the last clause the validation of <code class="docutils literal notranslate"><span class="pre">switch</span></code> SUCCEEDS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">continue</span></code> property is <code class="docutils literal notranslate"><span class="pre">false</span></code> or absent =&gt; validation of <code class="docutils literal notranslate"><span class="pre">switch</span></code> SUCCEEDS.</p></li>
</ol>
</li>
</ol>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="s1">&#39;switch&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;switch&#39;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">not</span><span class="o">:</span> <span class="p">{</span> <span class="nx">minimum</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span> <span class="p">},</span> <span class="nx">then</span><span class="o">:</span> <span class="kc">false</span> <span class="p">},</span>
      <span class="p">{</span> <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">maximum</span><span class="o">:</span> <span class="mf">10</span> <span class="p">},</span> <span class="nx">then</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
      <span class="p">{</span> <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">maximum</span><span class="o">:</span> <span class="mf">100</span> <span class="p">},</span> <span class="nx">then</span><span class="o">:</span> <span class="p">{</span> <span class="nx">multipleOf</span><span class="o">:</span> <span class="mf">10</span> <span class="p">}</span> <span class="p">},</span>
      <span class="p">{</span> <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">maximum</span><span class="o">:</span> <span class="mf">1000</span> <span class="p">},</span> <span class="nx">then</span><span class="o">:</span> <span class="p">{</span> <span class="nx">multipleOf</span><span class="o">:</span> <span class="mf">100</span> <span class="p">}</span> <span class="p">},</span>
      <span class="p">{</span> <span class="nx">then</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validItems</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">500</span><span class="p">,</span> <span class="mf">1000</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">invalidItems</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">2000</span><span class="p">,</span> <span class="mf">11</span><span class="p">,</span> <span class="mf">57</span><span class="p">,</span> <span class="mf">123</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">];</span>
</pre></div>
</div>
<p>The above schema is equivalent to (for example):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
    <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">minimum</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">maximum</span><span class="o">:</span> <span class="mf">10</span> <span class="p">},</span>
    <span class="nx">then</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="k">else</span><span class="o">:</span> <span class="p">{</span>
      <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">maximum</span><span class="o">:</span> <span class="mf">100</span> <span class="p">},</span>
      <span class="nx">then</span><span class="o">:</span> <span class="p">{</span> <span class="nx">multipleOf</span><span class="o">:</span> <span class="mf">10</span> <span class="p">},</span>
      <span class="k">else</span><span class="o">:</span> <span class="p">{</span>
        <span class="k">if</span><span class="o">:</span> <span class="p">{</span> <span class="nx">maximum</span><span class="o">:</span> <span class="mf">1000</span> <span class="p">},</span>
        <span class="nx">then</span><span class="o">:</span> <span class="p">{</span> <span class="nx">multipleOf</span><span class="o">:</span> <span class="mf">100</span> <span class="p">},</span>
        <span class="k">else</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="select-selectcases-selectdefault">
<h4><code class="docutils literal notranslate"><span class="pre">select</span></code>/<code class="docutils literal notranslate"><span class="pre">selectCases</span></code>/<code class="docutils literal notranslate"><span class="pre">selectDefault</span></code><a class="headerlink" href="#select-selectcases-selectdefault" title="Permalink to this headline">¶</a></h4>
<p>These keywords allow to choose the schema to validate the data based on the value of some property in the validated data.</p>
<p>These keywords must be present in the same schema object (<code class="docutils literal notranslate"><span class="pre">selectDefault</span></code> is optional).</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">select</span></code> keyword should be a <a class="reference external" href="https://github.com/epoberezkin/ajv/tree/5.0.2-beta.0#data-reference">$data reference</a> that points to any primitive JSON type (string, number, boolean or null) in the data that is validated. You can also use a constant of primitive type as the value of this keyword (e.g., for debugging purposes).</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">selectCases</span></code> keyword must be an object where each property name is a possible string representation of the value of <code class="docutils literal notranslate"><span class="pre">select</span></code> keyword and each property value is a corresponding schema (from draft-06 it can be boolean) that must be used to validate the data.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">selectDefault</span></code> keyword is a schema (from draft-06 it can be boolean) that must be used to validate the data in case <code class="docutils literal notranslate"><span class="pre">selectCases</span></code> has no key equal to the stringified value of <code class="docutils literal notranslate"><span class="pre">select</span></code> keyword.</p>
<p>The validation succeeds in one of the following cases:</p>
<ul class="simple">
<li><p>the validation of data using selected schema succeeds,</p></li>
<li><p>none of the schemas is selected for validation,</p></li>
<li><p>the value of select is undefined (no property in the data that the data reference points to).</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">select</span></code> value (in data) is not a primitive type the validation fails.</p>
<p><strong>Please note</strong>: these keywords require Ajv <code class="docutils literal notranslate"><span class="pre">$data</span></code> option to support <a class="reference external" href="https://github.com/epoberezkin/ajv/tree/5.0.2-beta.0#data-reference">$data reference</a>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">)(</span><span class="nx">ajv</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="nx">object</span><span class="p">,</span>
  <span class="nx">required</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;kind&#39;</span><span class="p">],</span>
  <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">kind</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">select</span><span class="o">:</span> <span class="p">{</span> <span class="nx">$data</span><span class="o">:</span> <span class="s1">&#39;0/kind&#39;</span> <span class="p">},</span>
  <span class="nx">selectCases</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">required</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">],</span>
      <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">kind</span><span class="o">:</span> <span class="p">{},</span>
        <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">additionalProperties</span><span class="o">:</span> <span class="kc">false</span>
    <span class="p">},</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">required</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">],</span>
      <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">kind</span><span class="o">:</span> <span class="p">{},</span>
        <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;number&#39;</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">additionalProperties</span><span class="o">:</span> <span class="kc">false</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">selectDefault</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">propertyNames</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">not</span><span class="o">:</span> <span class="p">{</span> <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">validDataList</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">1</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;anything_else&#39;</span><span class="p">,</span> <span class="nx">not_bar_or_foo</span><span class="o">:</span> <span class="s1">&#39;any value&#39;</span> <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">invalidDataList</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">},</span> <span class="c1">// no propery foo</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span> <span class="p">},</span> <span class="c1">// no propery bar</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span> <span class="nx">another</span><span class="o">:</span> <span class="s1">&#39;any value&#39;</span> <span class="p">},</span> <span class="c1">// additional property</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">another</span><span class="o">:</span> <span class="s1">&#39;any value&#39;</span> <span class="p">},</span> <span class="c1">// additional property</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;anything_else&#39;</span><span class="p">,</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span> <span class="p">}</span> <span class="c1">// property foo not allowed</span>
  <span class="p">{</span> <span class="nx">kind</span><span class="o">:</span> <span class="s1">&#39;anything_else&#39;</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span> <span class="c1">// property bar not allowed</span>
<span class="p">];</span>
</pre></div>
</div>
<p><strong>Please note</strong>: the current implementation is BETA. It does not allow using relative URIs in $ref keywords in schemas in <code class="docutils literal notranslate"><span class="pre">selectCases</span></code> and <code class="docutils literal notranslate"><span class="pre">selectDefault</span></code> that point outside of these schemas. The workaround is to use absolute URIs (that can point to any (sub-)schema added to Ajv, including those inside the current root schema where <code class="docutils literal notranslate"><span class="pre">select</span></code> is used). See <a class="reference external" href="https://github.com/epoberezkin/ajv-keywords/blob/v2.0.0/spec/tests/select.json#L314">tests</a>.</p>
</div>
</div>
<div class="section" id="keywords-for-all-types">
<h3>Keywords for all types<a class="headerlink" href="#keywords-for-all-types" title="Permalink to this headline">¶</a></h3>
<div class="section" id="dynamicdefaults">
<h4><code class="docutils literal notranslate"><span class="pre">dynamicDefaults</span></code><a class="headerlink" href="#dynamicdefaults" title="Permalink to this headline">¶</a></h4>
<p>This keyword allows to assign dynamic defaults to properties, such as timestamps, unique IDs etc.</p>
<p>This keyword only works if <code class="docutils literal notranslate"><span class="pre">useDefaults</span></code> options is used and not inside <code class="docutils literal notranslate"><span class="pre">anyOf</span></code> keywords etc., in the same way as <a class="reference external" href="https://github.com/epoberezkin/ajv#assigning-defaults">default keyword treated by Ajv</a>.</p>
<p>The keyword should be added on the object level. Its value should be an object with each property corresponding to a property name, in the same way as in standard <code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword. The value of each property can be:</p>
<ul class="simple">
<li><p>an identifier of default function (a string)</p></li>
<li><p>an object with properties <code class="docutils literal notranslate"><span class="pre">func</span></code> (an identifier) and <code class="docutils literal notranslate"><span class="pre">args</span></code> (an object with parameters that will be passed to this function during schema compilation - see examples).</p></li>
</ul>
<p>The properties used in <code class="docutils literal notranslate"><span class="pre">dynamicDefaults</span></code> should not be added to <code class="docutils literal notranslate"><span class="pre">required</span></code> keyword (or validation will fail), because unlike <code class="docutils literal notranslate"><span class="pre">default</span></code> this keyword is processed after validation.</p>
<p>There are several predefined dynamic default functions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;timestamp&quot;</span></code> - current timestamp in milliseconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;datetime&quot;</span></code> - current date and time as string (ISO, valid according to <code class="docutils literal notranslate"><span class="pre">date-time</span></code> format)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;date&quot;</span></code> - current date as string (ISO, valid according to <code class="docutils literal notranslate"><span class="pre">date</span></code> format)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;time&quot;</span></code> - current time as string (ISO, valid according to <code class="docutils literal notranslate"><span class="pre">time</span></code> format)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;random&quot;</span></code> - pseudo-random number in [0, 1) interval</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;randomint&quot;</span></code> - pseudo-random integer number. If string is used as a property value, the function will randomly return 0 or 1. If object <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">func:</span> <span class="pre">'randomint',</span> <span class="pre">args:</span> <span class="pre">{</span> <span class="pre">max:</span> <span class="pre">N</span> <span class="pre">}</span> <span class="pre">}</span></code> is used then the default will be an integer number in [0, N) interval.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;seq&quot;</span></code> - sequential integer number starting from 0. If string is used as a property value, the default sequence will be used. If object <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">func:</span> <span class="pre">'seq',</span> <span class="pre">args:</span> <span class="pre">{</span> <span class="pre">name:</span> <span class="pre">'foo'}</span> <span class="pre">}</span></code> is used then the sequence with name <code class="docutils literal notranslate"><span class="pre">&quot;foo&quot;</span></code> will be used. Sequences are global, even if different ajv instances are used.</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">dynamicDefaults</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">ts</span><span class="o">:</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span>
    <span class="nx">r</span><span class="o">:</span> <span class="p">{</span> <span class="nx">func</span><span class="o">:</span> <span class="s1">&#39;randomint&#39;</span><span class="p">,</span> <span class="nx">args</span><span class="o">:</span> <span class="p">{</span> <span class="nx">max</span><span class="o">:</span> <span class="mf">100</span> <span class="p">}</span> <span class="p">},</span>
    <span class="nx">id</span><span class="o">:</span> <span class="p">{</span> <span class="nx">func</span><span class="o">:</span> <span class="s1">&#39;seq&#39;</span><span class="p">,</span> <span class="nx">args</span><span class="o">:</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;id&#39;</span> <span class="p">}</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">ts</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
      <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;date-time&#39;</span>
    <span class="p">},</span>
    <span class="nx">r</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
      <span class="nx">minimum</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span>
      <span class="nx">exclusiveMaximum</span><span class="o">:</span> <span class="mf">100</span>
    <span class="p">},</span>
    <span class="nx">id</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
      <span class="nx">minimum</span><span class="o">:</span> <span class="mf">0</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">data</span><span class="p">;</span> <span class="c1">// { ts: &#39;2016-12-01T22:07:28.829Z&#39;, r: 25, id: 0 }</span>

<span class="kd">var</span> <span class="nx">data1</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">data1</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">data1</span><span class="p">;</span> <span class="c1">// { ts: &#39;2016-12-01T22:07:29.832Z&#39;, r: 68, id: 1 }</span>

<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">data1</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">data1</span><span class="p">;</span> <span class="c1">// didn&#39;t change, as all properties were defined</span>
</pre></div>
</div>
<p>When using the <code class="docutils literal notranslate"><span class="pre">useDefaults</span></code> option value <code class="docutils literal notranslate"><span class="pre">&quot;empty&quot;</span></code>, properties and items equal to <code class="docutils literal notranslate"><span class="pre">null</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> (empty string) will be considered missing and assigned defaults.  Use the <code class="docutils literal notranslate"><span class="pre">allOf</span></code> <a class="reference external" href="https://github.com/epoberezkin/ajv/blob/master/KEYWORDS.md#compound-keywords">compound keyword</a> to execute <code class="docutils literal notranslate"><span class="pre">dynamicDefaults</span></code> before validation.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">allOf</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nx">dynamicDefaults</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">ts</span><span class="o">:</span> <span class="s1">&#39;datetime&#39;</span><span class="p">,</span>
        <span class="nx">r</span><span class="o">:</span> <span class="p">{</span> <span class="nx">func</span><span class="o">:</span> <span class="s1">&#39;randomint&#39;</span><span class="p">,</span> <span class="nx">args</span><span class="o">:</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="mf">100</span> <span class="p">}</span> <span class="p">},</span>
        <span class="nx">id</span><span class="o">:</span> <span class="p">{</span> <span class="nx">func</span><span class="o">:</span> <span class="s1">&#39;seq&#39;</span><span class="p">,</span> <span class="nx">args</span><span class="o">:</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;id&#39;</span> <span class="p">}</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
      <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">ts</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
        <span class="p">},</span>
        <span class="nx">r</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;number&#39;</span><span class="p">,</span>
          <span class="nx">minimum</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span>
          <span class="nx">exclusiveMaximum</span><span class="o">:</span> <span class="mf">100</span>
        <span class="p">},</span>
        <span class="nx">id</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
          <span class="nx">minimum</span><span class="o">:</span> <span class="mf">0</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">ts</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">r</span><span class="o">:</span> <span class="kc">null</span> <span class="p">};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">data</span><span class="p">;</span> <span class="c1">// { ts: &#39;2016-12-01T22:07:28.829Z&#39;, r: 25, id: 0 }</span>
</pre></div>
</div>
<p>You can add your own dynamic default function to be recognised by this keyword:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">uuid</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">uuidV4</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">uuid</span><span class="p">.</span><span class="nx">v4</span><span class="p">();</span> <span class="p">}</span>

<span class="kd">var</span> <span class="nx">definition</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;dynamicDefaults&#39;</span><span class="p">).</span><span class="nx">definition</span><span class="p">;</span>
<span class="c1">// or require(&#39;ajv-keywords/keywords/dynamicDefaults&#39;).definition;</span>
<span class="nx">definition</span><span class="p">.</span><span class="nx">DEFAULTS</span><span class="p">.</span><span class="nx">uuid</span> <span class="o">=</span> <span class="nx">uuidV4</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">dynamicDefaults</span><span class="o">:</span> <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;uuid&#39;</span> <span class="p">},</span>
  <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="nx">format</span><span class="o">:</span> <span class="s1">&#39;uuid&#39;</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">data</span><span class="p">;</span> <span class="c1">// { id: &#39;a1183fbe-697b-4030-9bcc-cfeb282a9150&#39; };</span>

<span class="kd">var</span> <span class="nx">data1</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">ajv</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="nx">data1</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">data1</span><span class="p">;</span> <span class="c1">// { id: &#39;5b008de7-1669-467a-a5c6-70fa244d7209&#39; }</span>
</pre></div>
</div>
<p>You also can define dynamic default that accepts parameters, e.g. version of uuid:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">uuid</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;uuid&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">getUuid</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="s1">&#39;v&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">arvs</span> <span class="o">&amp;&amp;</span> <span class="nx">args</span><span class="p">.</span><span class="nx">v</span> <span class="o">||</span> <span class="mf">4</span><span class="p">);</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">uuid</span><span class="p">[</span><span class="nx">version</span><span class="p">]();</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">definition</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ajv-keywords&#39;</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;dynamicDefaults&#39;</span><span class="p">).</span><span class="nx">definition</span><span class="p">;</span>
<span class="nx">definition</span><span class="p">.</span><span class="nx">DEFAULTS</span><span class="p">.</span><span class="nx">uuid</span> <span class="o">=</span> <span class="nx">getUuid</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">dynamicDefaults</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">id1</span><span class="o">:</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="c1">// v4</span>
    <span class="nx">id2</span><span class="o">:</span> <span class="p">{</span> <span class="nx">func</span><span class="o">:</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="nx">v</span><span class="o">:</span> <span class="mf">4</span> <span class="p">},</span> <span class="c1">// v4</span>
    <span class="nx">id3</span><span class="o">:</span> <span class="p">{</span> <span class="nx">func</span><span class="o">:</span> <span class="s1">&#39;uuid&#39;</span><span class="p">,</span> <span class="nx">v</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span> <span class="c1">// v1</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="security-contact">
<h2>Security contact<a class="headerlink" href="#security-contact" title="Permalink to this headline">¶</a></h2>
<p>To report a security vulnerability, please use the
<a class="reference external" href="https://tidelift.com/security">Tidelift security contact</a>.
Tidelift will coordinate the fix and disclosure.</p>
<p>Please do NOT report security vulnerabilities via GitHub issues.</p>
</div>
<div class="section" id="open-source-software-support">
<h2>Open-source software support<a class="headerlink" href="#open-source-software-support" title="Permalink to this headline">¶</a></h2>
<p>Ajv-keywords is a part of <a class="reference external" href="https://tidelift.com/subscription/pkg/npm-ajv-keywords?utm_source=npm-ajv-keywords&amp;utm_medium=referral&amp;utm_campaign=readme">Tidelift subscription</a> - it provides a centralised support to open-source software users, in addition to the support provided by software maintainers.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/epoberezkin/ajv-keywords/blob/master/LICENSE">MIT</a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-ajv-keywords-3.5.1-b83ca89c5d42d69031f424cad49aada0236c6957-integrity/node_modules/ajv-keywords"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>