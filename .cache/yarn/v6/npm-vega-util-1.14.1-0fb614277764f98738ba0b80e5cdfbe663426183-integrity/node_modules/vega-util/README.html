
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vega-util &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-vega-util-1.14.1-0fb614277764f98738ba0b80e5cdfbe663426183-integrity/node_modules/vega-util/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api-reference">
   API Reference
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#functions">
     Functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#type-checkers">
     Type Checkers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#type-coercion">
     Type Coercion
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#objects">
     Objects
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arrays">
     Arrays
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dates">
     Dates
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#strings">
     Strings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logging">
     Logging
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errors">
     Errors
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="vega-util">
<h1>vega-util<a class="headerlink" href="#vega-util" title="Permalink to this headline">¶</a></h1>
<p>JavaScript utilities for Vega. Provides a set of helper methods used throughout Vega modules, including function generators, type checkers, log messages, and additional utilities for Object, Array and String values.</p>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#functions">Functions</a></p></li>
<li><p><a class="reference external" href="#type-checkers">Type Checkers</a></p></li>
<li><p><a class="reference external" href="#type-coercion">Type Coercion</a></p></li>
<li><p><a class="reference external" href="#objects">Objects</a></p></li>
<li><p><a class="reference external" href="#arrays">Arrays</a></p></li>
<li><p><a class="reference external" href="#dates">Dates</a></p></li>
<li><p><a class="reference external" href="#logging">Logging</a></p></li>
<li><p><a class="reference external" href="#errors">Errors</a></p></li>
</ul>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<p>Functions and function generators for accessing and comparing values.</p>
<p><a name="accessor" href="#accessor">#</a>
vega.<b>accessor</b>(<i>function</i>[, <i>fields</i>, <i>name</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessor.js">&lt;&gt;</a></p>
<p>Annotates a <em>function</em> instance with a string array of dependent data <em>fields</em> and a string <em>name</em>, and returns the input <em>function</em>. Assumes the input function takes an object (data tuple) as input, and that strings in the <em>fields</em> array correspond to object properties accessed by the function. Once annotated, Vega dataflows can track data field dependencies and generate appropriate output names (e.g., when computing aggregations) if the function is used as an accessor.</p>
<p>Internally, this method assigns the field array to the <code class="docutils literal notranslate"><span class="pre">fields</span></code> property of the input <em>function</em>, and the name to the <code class="docutils literal notranslate"><span class="pre">fname</span></code> property. To be future-proof, clients should not access these properties directly. Instead, use the <a class="reference external" href="#accessorFields">accessorFields</a> and <a class="reference external" href="#accessorName">accessorName</a> methods.</p>
<p><a name="accessorFields" href="#accessorFields">#</a>
vega.<b>accessorFields</b>(<i>accessor</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessor.js">&lt;&gt;</a></p>
<p>Returns the array of dependent field names for a given <em>accessor</em> function. Returns null if no field names have been set.</p>
<p><a name="accessorName" href="#accessorName">#</a>
vega.<b>accessorName</b>(<i>accessor</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessor.js">&lt;&gt;</a></p>
<p>Returns the name string for a given <em>accessor</em> function. Returns null if no name has been set.</p>
<p><a name="compare" href="#compare">#</a>
vega.<b>compare</b>(<i>fields</i>[, <i>orders</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/compare.js">&lt;&gt;</a></p>
<p>Generates a comparator function for sorting data values, based on the given set of <em>fields</em> and optional sort <em>orders</em>. The <em>fields</em> argument must be either a string, an accessor function, or an array of either. Strings indicate the name of object properties to sort by, in precedence order. Field strings may include nested properties (e.g., <code class="docutils literal notranslate"><span class="pre">foo.bar.baz</span></code>). The <em>orders</em> argument must be either a string or an array of strings; the valid string values are <code class="docutils literal notranslate"><span class="pre">'ascending'</span></code> (for ascending sort order of the corresponding field) or <code class="docutils literal notranslate"><span class="pre">'descending'</span></code> (for descending sort order of the corresponding field). If the <em>orders</em> argument is omitted, is shorter than the <em>fields</em> array, or includes values other than  <code class="docutils literal notranslate"><span class="pre">'ascending'</span></code> or <code class="docutils literal notranslate"><span class="pre">'descending'</span></code>, corresponding fields will default to ascending order.</p>
<p><a name="constant" href="#constant">#</a>
vega.<b>constant</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/constant.js">&lt;&gt;</a></p>
<p>Given an input <em>value</em>, returns a function that simply returns that value. If the input <em>value</em> is itself a function, that function is returned directly.</p>
<p><a name="debounce" href="#debounce">#</a>
vega.<b>debounce</b>(<i>delay</i>, <i>func</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/debounce.js">&lt;&gt;</a></p>
<p>Generates a “debounced” function that delays invoking <em>func</em> until after <em>delay</em> milliseconds have elapsed since the last time the debounced function was invoked. Invocation passes up to one argument from the debounced function to <em>func</em> and does not preserve the <em>this</em> context.</p>
<p><a name="field" href="#field">#</a>
vega.<b>field</b>(<i>field</i>[, <i>name</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/field.js">&lt;&gt;</a></p>
<p>Generates an accessor function for retrieving the specified <em>field</em> value. The input <em>field</em> string may include nested properties (e.g., <code class="docutils literal notranslate"><span class="pre">foo.bar.baz</span></code>). An optional <em>name</em> argument indicates the accessor name for the generated function; if excluded the field string will be used as the name (see the <a class="reference external" href="#accessor">accessor</a> method for more details).</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fooField</span> <span class="o">=</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
<span class="nx">fooField</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="mf">5</span><span class="p">});</span> <span class="c1">// 5</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">accessorName</span><span class="p">(</span><span class="nx">fooField</span><span class="p">);</span> <span class="c1">// &#39;foo&#39;</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">accessorFields</span><span class="p">(</span><span class="nx">fooField</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;]</span>

<span class="kd">var</span> <span class="nx">pathField</span> <span class="o">=</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">);</span>
<span class="nx">pathField</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">&#39;vega&#39;</span><span class="p">}});</span> <span class="c1">// &#39;vega&#39;</span>
<span class="nx">pathField</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="mf">5</span><span class="p">});</span> <span class="c1">// undefined</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">accessorName</span><span class="p">(</span><span class="nx">pathField</span><span class="p">);</span> <span class="c1">// &#39;path&#39;</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">accessorFields</span><span class="p">(</span><span class="nx">pathField</span><span class="p">);</span> <span class="c1">// [&#39;foo.bar&#39;]</span>
</pre></div>
</div>
<p><a name="id" href="#id">#</a>
vega.<b>id</b>(<i>object</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js">&lt;&gt;</a></p>
<p>An accessor function that returns the value of the <code class="docutils literal notranslate"><span class="pre">id</span></code> property of an input <em>object</em>.</p>
<p><a name="identity" href="#identity">#</a>
vega.<b>identity</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js">&lt;&gt;</a></p>
<p>An accessor function that simply returns its <em>value</em> argument.</p>
<p><a name="key" href="#key">#</a>
vega.<b>key</b>(<i>fields</i>[, <i>flat</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/key.js">&lt;&gt;</a></p>
<p>Generates an accessor function that returns a key string (suitable for using as an object property name) for a set of object <em>fields</em>. The <em>fields</em> argument must be either a string or string array, with each entry indicating a property of an input object to be used to produce representative key values. The resulting key function is an <a class="reference external" href="#accessor">accessor</a> instance with the accessor name <code class="docutils literal notranslate"><span class="pre">'key'</span></code>. The optional <em>flat</em> argument is a boolean flag indicating if the field names should be treated as flat property names, side-stepping nested field lookups normally indicated by dot or bracket notation. By default, <em>flat</em> is <code class="docutils literal notranslate"><span class="pre">false</span></code> and nested property lookup is performed.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">keyf</span> <span class="o">=</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">key</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]);</span>
<span class="nx">keyf</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span><span class="mf">5</span><span class="p">});</span> <span class="c1">// &#39;hi|5&#39;</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">accessorName</span><span class="p">(</span><span class="nx">keyf</span><span class="p">);</span> <span class="c1">// &#39;key&#39;</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">accessorFields</span><span class="p">(</span><span class="nx">keyf</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;, &#39;bar&#39;]</span>
</pre></div>
</div>
<p><a name="one" href="#one">#</a>
vega.<b>one</b>()
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js">&lt;&gt;</a></p>
<p>An accessor function that simply returns the value one (<code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
<p><a name="zero" href="#zero">#</a>
vega.<b>zero</b>()
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js">&lt;&gt;</a></p>
<p>An accessor function that simply returns the value zero (<code class="docutils literal notranslate"><span class="pre">0</span></code>).</p>
<p><a name="truthy" href="#truthy">#</a>
vega.<b>truthy</b>()
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js">&lt;&gt;</a></p>
<p>An accessor function that simply returns the boolean <code class="docutils literal notranslate"><span class="pre">true</span></code> value.</p>
<p><a name="falsy" href="#falsy">#</a>
vega.<b>falsy</b>()
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js">&lt;&gt;</a></p>
<p>An accessor function that simply returns the boolean <code class="docutils literal notranslate"><span class="pre">false</span></code> value.</p>
</div>
<div class="section" id="type-checkers">
<h3>Type Checkers<a class="headerlink" href="#type-checkers" title="Permalink to this headline">¶</a></h3>
<p>Functions for checking the type of JavaScript values.</p>
<p><a name="isArray" href="#isArray">#</a>
vega.<b>isArray</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isArray.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is an Array instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isBoolean" href="#isBoolean">#</a>
vega.<b>isBoolean</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isBoolean.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is a Boolean instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isDate" href="#isDate">#</a>
vega.<b>isDate</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isDate.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is a Date instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isFunction" href="#isFunction">#</a>
vega.<b>isFunction</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isFunction.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is a Function instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isNumber" href="#isNumber">#</a>
vega.<b>isNumber</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isNumber.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is a Number instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isObject" href="#isObject">#</a>
vega.<b>isObject</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isObject.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is an Object instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isRegExp" href="#isRegExp">#</a>
vega.<b>isRegExp</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isRegExp.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is a RegExp instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p><a name="isString" href="#isString">#</a>
vega.<b>isString</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/isString.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> is a String instance, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
</div>
<div class="section" id="type-coercion">
<h3>Type Coercion<a class="headerlink" href="#type-coercion" title="Permalink to this headline">¶</a></h3>
<p>Functions for coercing values to a desired type.</p>
<p><a name="toBoolean" href="#toBoolean">#</a>
vega.<b>toBoolean</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/toBoolean.js">&lt;&gt;</a></p>
<p>Coerces the input <em>value</em> to a boolean. The strings <code class="docutils literal notranslate"><span class="pre">&quot;true&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;1&quot;</span></code> map to <code class="docutils literal notranslate"><span class="pre">true</span></code>; the strings <code class="docutils literal notranslate"><span class="pre">&quot;false&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> map to <code class="docutils literal notranslate"><span class="pre">false</span></code>. Null values and empty strings are mapped to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p><a name="toDate" href="#toDate">#</a>
vega.<b>toDate</b>(<i>value</i>[, <i>parser</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/toDate.js">&lt;&gt;</a></p>
<p>Coerces the input <em>value</em> to a Date timestamp. Null values and empty strings are mapped to <code class="docutils literal notranslate"><span class="pre">null</span></code>. Date objects are passed through unchanged. If an optional <em>parser</em> function is provided, it is used to perform date parsing. By default, numbers (timestamps) are passed through unchanged and otherwise <code class="docutils literal notranslate"><span class="pre">Date.parse</span></code> is used. Be aware that <code class="docutils literal notranslate"><span class="pre">Date.parse</span></code> has different implementations across browsers!</p>
<p><a name="toNumber" href="#toNumber">#</a>
vega.<b>toNumber</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/toNumber.js">&lt;&gt;</a></p>
<p>Coerces the input <em>value</em> to a number. Null values and empty strings are mapped to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p><a name="toString" href="#toString">#</a>
vega.<b>toString</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/toString.js">&lt;&gt;</a></p>
<p>Coerces the input <em>value</em> to a string. Null values and empty strings are mapped to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</div>
<div class="section" id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h3>
<p>Functions for manipulating JavaScript Object values.</p>
<p><a name="extend" href="#extend">#</a>
vega.<b>extend</b>(<i>target</i>[, <i>source1</i>, <i>source2</i>, …])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/extend.js">&lt;&gt;</a></p>
<p>Extends a <em>target</em> object by copying (in order) all enumerable properties of the input <em>source</em> objects.</p>
<p><a name="inherits" href="#inherits">#</a>
vega.<b>inherits</b>(<i>child</i>, <i>parent</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/inherits.js">&lt;&gt;</a></p>
<p>A convenience method for setting up object-oriented inheritance. Assigns the <code class="docutils literal notranslate"><span class="pre">prototype</span></code> property of the input <em>child</em> function, such that the <em>child</em> inherits the properties of the <em>parent</em> function’s prototype via prototypal inheritance. Returns the new child prototype object.</p>
<p><a name="lruCache" href="#lruCache">#</a>
vega.<b>lruCache</b>([<i>maxsize</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/lruCache.js">&lt;&gt;</a></p>
<p>Provides a key/value cache, keyed by string, that evicts least recently used (LRU) entries. Supports <em>has</em>, <em>get</em>, <em>set</em>, and <em>clear</em> methods. The optional <em>maxsize</em> argument (default 10,000) determines the maximum number of elements that can be added before items are evicted.</p>
<p>In the internal implementation two caches are used: a current cache and a previous cache. When then current cache fills, it becomes the previous cache and a new, empty current cache is created. Subsequent <em>get</em> calls will promote elements in the previous cache to the current cache. Once the current cache fills, the caches are again turned over and all LRU items still residing in the previous cache are dropped.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">cache</span> <span class="o">=</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">lruCache</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span> <span class="c1">// use 1-element cache to demonstrate</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mf">1</span><span class="p">);</span> <span class="c1">// current cache has a-&gt;1</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mf">2</span><span class="p">);</span> <span class="c1">// current cache has b-&gt;2, previous cache has a-&gt;1</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>    <span class="c1">// -&gt; 1 (a now in current cache, b in previous cache)</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mf">3</span><span class="p">);</span> <span class="c1">// current cache has c-&gt;3, previous cache has a-&gt;1</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">);</span>    <span class="c1">// -&gt; true  (c is in the current cache)</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">);</span>    <span class="c1">// -&gt; false (b has been evicted)</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>    <span class="c1">// -&gt; true  (a is in the previous cache)</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">);</span>    <span class="c1">// -&gt; 3</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</pre></div>
</div>
<p><a name="fastmap" href="#fastmap">#</a>
vega.<b>fastmap</b>([<i>object</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/fastmap.js">&lt;&gt;</a></p>
<p>Provides a key/value map data structure, keyed by string. Supports a subset of the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">ES6 Map</a> API, including <em>has</em>, <em>get</em>, <em>set</em>, <em>delete</em> and <em>clear</em> methods and a <em>size</em> property. If the optional <em>object</em> argument is provided, all key/values on the input object will be added to the new map instance.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">fastmap</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span><span class="mf">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span><span class="mf">2</span><span class="p">});</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="c1">// -&gt; true</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="c1">// -&gt; 1</span>
<span class="nx">map</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span> <span class="c1">// -&gt; false</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">);</span> <span class="c1">// -&gt; 0</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span> <span class="c1">// -&gt; 2</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">empty</span><span class="p">;</span> <span class="c1">// -&gt; 1 (number of empty entries)</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">clean</span><span class="p">();</span> <span class="c1">// invoke garbage collection, clears empty entries</span>
</pre></div>
</div>
<p>By using basic JavaScript objects to hash values and avoiding calls to the built-in JavaScript <code class="docutils literal notranslate"><span class="pre">delete</span></code> operator, fastmaps provide good performance. However, this speed comes at the cost of some object bloat, requiring periodic garbage collection in the case of many deletions. The fastmap object provides a <em>clean</em> method for requesting garbage collection of empty map entries. The <em>test</em> method is a getter/setter for providing an optional boolean-valued function that indicates additional objects (not just empty entries from deleted keys) that should be removed during garbage collection.</p>
<p><a name="hasOwnProperty" href="#hasOwnProperty">#</a>
vega.<b>hasOwnProperty</b>(<i>object</i>, <i>property</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/hasOwnProperty.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>object</em> has a named <em>property</em> defined on it, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. This method concerns the input object only, ignoring properties defined up the prototype chain. The method is equivalent to <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code class="docutils literal notranslate"><span class="pre">Object.hasOwnProperty</span></code></a>, but improves security by guarding against overridden Object prototype built-ins.</p>
<p><a name="mergeConfig" href="#mergeConfig">#</a>
vega.<b>mergeConfig</b>(<i>…config</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/mergeConfig.js">&lt;&gt;</a></p>
<p>Merges a collection of Vega configuration objects into a single combined object. Configuration objects with higher index positions in the arguments list have higher precedence, and so may override settings provided by earlier objects.</p>
<p><a name="writeConfig" href="#writeConfig">#</a>
vega.<b>writeConfig</b>(<i>config</i>, <i>key</i>, <i>value</i>[, <i>recurse</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/mergeConfig.js">&lt;&gt;</a></p>
<p>Writes a value to a Vega configuration object. Given a <em>config</em> object and a configuration property <em>key</em> and <em>value</em>, appropriately assign the value to the config object. The <em>recurse</em> parameter controls if recursive merging (as opposed to overwriting) is performed: if <code class="docutils literal notranslate"><span class="pre">false</span></code> or undefined, no recursion is performed; if <code class="docutils literal notranslate"><span class="pre">true</span></code> one level of recursive merge is performed; if <em>recurse</em> is object-valued, one level of recursive merge is performed for keys that the <em>recurse</em> object maps to a truthy value. This method is a helper method used within <em>mergeConfig</em>.</p>
</div>
<div class="section" id="arrays">
<h3>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h3>
<p>Functions for manipulating JavaScript Array values.</p>
<p><a name="array" href="#array">#</a>
vega.<b>array</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/array.js">&lt;&gt;</a></p>
<p>Ensures that the input <em>value</em> is an Array instance. If so, the <em>value</em> is simply returned. If not, the <em>value</em> is wrapped within a new single-element an array, returning <code class="docutils literal notranslate"><span class="pre">[value]</span></code>.</p>
<p><a name="clampRange" href="#clampRange">#</a>
vega.<b>clampRange</b>(<i>range</i>, <i>min</i>, <i>max</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/clampRange.js">&lt;&gt;</a></p>
<p>Span-preserving range clamp. If the span of the input <em>range</em> is less than (<em>max</em> - <em>min</em>) and an endpoint exceeds either the <em>min</em> or <em>max</em> value, the range is translated such that the span is preserved and one endpoint touches the boundary of the min/max range. If the span exceeds (<em>max</em> - <em>min</em>), returns the range <code class="docutils literal notranslate"><span class="pre">[min,</span> <span class="pre">max]</span></code>.</p>
<p><a name="extent" href="#extent">#</a>
vega.<b>extent</b>(<i>array</i>[, <i>accessor</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/extent.js">&lt;&gt;</a></p>
<p>Returns an array with the minimum and maximum values in the input <em>array</em>, in the form <code class="docutils literal notranslate"><span class="pre">[min,</span> <span class="pre">max]</span></code>. Ignores null, undefined, and NaN values. The optional <em>accessor</em> argument provides a function that is first applied to each array value prior to comparison.</p>
<p><a name="extentIndex" href="#extentIndex">#</a>
vega.<b>extentIndex</b>(<i>array</i>[, <i>accessor</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/extentIndex.js">&lt;&gt;</a></p>
<p>Returns the array indices for the minimum and maximum values in the input <em>array</em> (as a <code class="docutils literal notranslate"><span class="pre">[minIndex,</span> <span class="pre">maxIndex]</span></code> array), according to natural ordering. The optional <em>accessor</em> argument provides a function that is first applied to each array value prior to comparison.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">vega</span><span class="p">.</span><span class="nx">extentIndex</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">2</span><span class="p">]);</span> <span class="c1">// [3, 1]</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">extentIndex</span><span class="p">([</span>
  <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mf">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span><span class="mf">2</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span><span class="mf">1</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span><span class="mf">3</span><span class="p">}</span>
<span class="p">],</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">));</span> <span class="c1">// [1, 2]</span>
</pre></div>
</div>
<p><a name="flush" href="#flush">#</a>
vega.<b>flush</b>(<i>range</i>, <i>value</i>, <i>threshold</i>, <i>left</i>, <i>right</i>, <i>center</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/inrange.js">&lt;&gt;</a></p>
<p>Selects among potential return values if the provided <em>value</em> is flush with the input numeric <em>range</em>. Returns <em>left</em> if *value is within the <em>threshold</em> distance of the minimum element of the <em>range</em>. Returns <em>right</em> if *value is within the <em>threshold</em> distance of the maximum element of the <em>range</em>. Otherwise, returns <em>center</em>.</p>
<p><a name="inrange" href="#inrange">#</a>
vega.<b>inrange</b>(<i>value</i>, <i>range</i>[, <i>left</i>, <i>right</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/inrange.js">&lt;&gt;</a></p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the input <em>value</em> lies within the span of the given <em>range</em> array. The <em>left</em> and <em>right</em> boolean flags control the use of inclusive (true) or exclusive (false) comparisons; if unspecified, inclusive tests are used.</p>
<p><a name="lerp" href="#lerp">#</a>
vega.<b>lerp</b>(<i>array</i>, <i>fraction</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/lerp.js">&lt;&gt;</a></p>
<p>Returns the linearly interpolated value between the first and last entries in the <em>array</em> for the provided interpolation <em>fraction</em> (typically between 0 and 1). For example, <em>lerp([0, 50], 0.5)</em> returns 25.</p>
<p><a name="merge" href="#merge">#</a>
vega.<b>merge</b>(<i>compare</i>, <i>array1</i>, <i>array2</i>[, <i>output</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/merge.js">&lt;&gt;</a></p>
<p>Merge two sorted arrays into a single sorted array. The input <em>compare</em> function is a comparator for sorting elements and should correspond to the pre-sorted orders of the <em>array1</em> and <em>array2</em> source arrays. The merged array contents are written to the <em>output</em> array, if provided. If <em>output</em> is not specified, a new array is generated and returned.</p>
<p><a name="panLinear" href="#panLinear">#</a>
vega.<b>panLinear</b>(<i>domain</i>, <i>delta</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that translates the domain by a <em>delta</em> using a linear transform. The <em>delta</em> value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.</p>
<p><a name="panLog" href="#panLog">#</a>
vega.<b>panLog</b>(<i>domain</i>, <i>delta</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that translates the domain by a <em>delta</em> using a logarithmic transform. The <em>delta</em> value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.</p>
<p><a name="panPow" href="#panPow">#</a>
vega.<b>panPow</b>(<i>domain</i>, <i>delta</i>, <i>exponent</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that translates the domain by a <em>delta</em> using a power scale transform parameterized by the provided <em>exponent</em>. The <em>delta</em> value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.</p>
<p><a name="panSymlog" href="#panSymlog">#</a>
vega.<b>panSymlog</b>(<i>domain</i>, <i>delta</i>, <i>constant</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that translates the domain by a <em>delta</em> using a symlog (symmetric log) scale transform parameterized by the provided <em>constant</em>. The <em>delta</em> value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.</p>
<p><a name="peek" href="#peek">#</a>
vega.<b>peek</b>(<i>array</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/peek.js">&lt;&gt;</a></p>
<p>Returns the last element in the input <em>array</em>. Similar to the built-in <code class="docutils literal notranslate"><span class="pre">Array.pop</span></code> method, except that it does not remove the last element. This method is a convenient shorthand for <code class="docutils literal notranslate"><span class="pre">array[array.length</span> <span class="pre">-</span> <span class="pre">1]</span></code>.</p>
<p><a name="span" href="#span">#</a>
vega.<b>span</b>(<i>array</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/span.js">&lt;&gt;</a></p>
<p>Returns the numerical span of the input <em>array</em>: the difference between the last and first values.</p>
<p><a name="toSet" href="#toSet">#</a>
vega.<b>toSet</b>(<i>array</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/toSet.js">&lt;&gt;</a></p>
<p>Given an input <em>array</em> of values, returns a new Object instance whose property keys are the values in <em>array</em>, each assigned a property value of <code class="docutils literal notranslate"><span class="pre">1</span></code>. Each value in <em>array</em> is coerced to a String value and so should map to a reasonable string key value.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">vega</span><span class="p">.</span><span class="nx">toSet</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">]);</span> <span class="c1">// {&#39;1&#39;:1, &#39;2&#39;:1, &#39;3&#39;:1}</span>
</pre></div>
</div>
<p><a name="visitArray" href="#visitArray">#</a>
vega.<b>visitArray</b>(<i>array</i>, [<i>filter</i>,] <i>visitor</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/visitArray.js">&lt;&gt;</a></p>
<p>Vists the values in an input <em>array</em>, invoking the <em>visitor</em> function for each array value that passes an optional <em>filter</em>. If specified, the <em>filter</em> function is called with each individual array value. If the <em>filter</em> function return value is truthy, the returned value is then passed as input to the <em>visitor</em> function. Thus, the <em>filter</em> not only performs filtering, it can serve as a value transformer. If the <em>filter</em> function is not specified, all values in the <em>array</em> are passed to the <em>visitor</em> function. Similar to the built-in <code class="docutils literal notranslate"><span class="pre">Array.forEach</span></code> method, the <em>visitor</em> function is invoked with three arguments: the value to visit, the current index into the source <em>array</em>, and a reference to the soure <em>array</em>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="c1">// console output: 1 0; 3 2</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">visitArray</span><span class="p">([</span><span class="mf">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mf">1</span><span class="p">;</span> <span class="p">},</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span> <span class="p">});</span>
</pre></div>
</div>
<p><a name="zoomLinear" href="#zoomLinear">#</a>
vega.<b>zoomLinear</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a <em>scale</em> factor using a linear transform, centered on the given <em>anchor</em> value. If <em>anchor</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.</p>
<p><a name="zoomLog" href="#zoomLog">#</a>
vega.<b>zoomLog</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a <em>scale</em> factor using a logarithmic transform, centered on the given <em>anchor</em> value. If <em>anchor</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.</p>
<p><a name="zoomPow" href="#zoomPow">#</a>
vega.<b>zoomPow</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>, <i>exponent</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a <em>scale</em> factor using a power scale transform parameterized by the provided <em>exponent</em>, centered on the given <em>anchor</em> value. If <em>anchor</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.</p>
<p><a name="zoomSymlog" href="#zoomSymlog">#</a>
vega.<b>zoomSymlog</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>, <i>constant</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js">&lt;&gt;</a></p>
<p>Given an input numeric <em>domain</em> (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a <em>scale</em> factor using a symlog (symmetric log) scale transform parameterized by the provided <em>constant</em>, centered on the given <em>anchor</em> value. If <em>anchor</em> is <code class="docutils literal notranslate"><span class="pre">null</span></code>, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.</p>
</div>
<div class="section" id="dates">
<h3>Dates<a class="headerlink" href="#dates" title="Permalink to this headline">¶</a></h3>
<p>Functions for manipulating JavaScript Date values.</p>
<p><a name="quarter" href="#quarter">#</a>
vega.<b>quarter</b>(<i>date</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/quarter.js">&lt;&gt;</a></p>
<p>Returns the quarter of the year (an integer between 1 and 4) for an input <em>date</em> object or timestamp for the local timezone.</p>
<p><a name="utcquarter" href="#utcquarter">#</a>
vega.<b>utcquarter</b>(<i>date</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/quarter.js">&lt;&gt;</a></p>
<p>Returns the quarter of the year (an integer between 1 and 4) for an input <em>date</em> object or timestamp for Coordinated Universal Time (UTC).</p>
</div>
<div class="section" id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h3>
<p>Functions for generating and manipulating JavaScript String values.</p>
<p><a name="pad" href="#pad">#</a>
vega.<b>pad</b>(<i>string</i>, <i>length</i>[, <i>character</i>, <i>align</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/pad.js">&lt;&gt;</a></p>
<p>Pads a <em>string</em> value with repeated instances of a <em>character</em> up to a specified <em>length</em>. If <em>character</em> is not specified, a space (<code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code>) is used. By default, padding is added to the end of a string. An optional <em>align</em> parameter specifies if padding should be added to the <code class="docutils literal notranslate"><span class="pre">'left'</span></code> (beginning), <code class="docutils literal notranslate"><span class="pre">'center'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'right'</span></code> (end) of the input string.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">vega</span><span class="p">.</span><span class="nx">pad</span><span class="p">(</span><span class="s1">&#39;15&#39;</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">);</span> <span class="c1">// &#39;00015&#39;</span>
</pre></div>
</div>
<p><a name="repeat" href="#repeat">#</a>
vega.<b>repeat</b>(<i>string</i>, <i>count</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/repeat.js">&lt;&gt;</a></p>
<p>Given an input <em>string</em>, returns a new string that repeats the input <em>count</em> times.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">vega</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="mf">5</span><span class="p">);</span> <span class="c1">// &#39;00000&#39;</span>
</pre></div>
</div>
<p><a name="splitAccessPath" href="#splitAccessPath">#</a>
vega.<b>splitAccessPath</b>(<i>path</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/splitAccessPath.js">&lt;&gt;</a></p>
<p>Splits an input string representing an access <em>path</em> for JavaScript object properties into an array of constituent path elements.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">vega</span><span class="p">.</span><span class="nx">splitAccessPath</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;]</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">splitAccessPath</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;, &#39;bar&#39;]</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">splitAccessPath</span><span class="p">(</span><span class="s1">&#39;foo[&quot;bar&quot;]&#39;</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;, &#39;bar&#39;]</span>
<span class="nx">vega</span><span class="p">.</span><span class="nx">splitAccessPath</span><span class="p">(</span><span class="s1">&#39;foo[0].bar&#39;</span><span class="p">);</span> <span class="c1">// [&#39;foo&#39;, &#39;0&#39;, &#39;bar&#39;]</span>
</pre></div>
</div>
<p><a name="stringValue" href="#stringValue">#</a>
vega.<b>stringValue</b>(<i>value</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/stringValue.js">&lt;&gt;</a></p>
<p>Returns an output representation of an input value that is both JSON and JavaScript compliant. For Object and String values, <code class="docutils literal notranslate"><span class="pre">JSON.stringify</span></code> is used to generate the output string. Primitive types such as Number or Boolean are returned as-is. This method can be used to generate values that can then be included in runtime-compiled code snippets (for example, via the Function constructor).</p>
<p><a name="truncate" href="#truncate">#</a>
vega.<b>truncate</b>(<i>string</i>, <i>length</i>[, <i>align</i>, <i>ellipsis</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/truncate.js">&lt;&gt;</a></p>
<p>Truncates an input <em>string</em> to a target <em>length</em>. The optional <em>align</em> argument indicates what part of the string should be truncated: <code class="docutils literal notranslate"><span class="pre">'left'</span></code> (the beginning), <code class="docutils literal notranslate"><span class="pre">'center'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'right'</span></code> (the end). By default, the <code class="docutils literal notranslate"><span class="pre">'right'</span></code> end of the string is truncated. The optional <em>ellipsis</em> argument indicates the string to use to indicate truncated content; by default the ellipsis character (<code class="docutils literal notranslate"><span class="pre">…</span></code>, same as <code class="docutils literal notranslate"><span class="pre">\u2026</span></code>) is used.</p>
</div>
<div class="section" id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<p><a name="logger" href="#logger">#</a>
vega.<b>logger</b>([<i>level</i>, <i>method</i>])
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js">&lt;&gt;</a></p>
<p>Generates a new logger instance for selectively writing log messages to the JavaScript console. The optional <em>level</em> argument indicates the initial log level to use (one of <a class="reference external" href="#none">None</a>, <a class="reference external" href="#warn">Warn</a>, <a class="reference external" href="#info">Info</a>, or <a class="reference external" href="#debug">Debug</a>), and defaults to <a class="reference external" href="#none">None</a> if not specified.</p>
<p>The generated logger instance provides the following methods:</p>
<ul class="simple">
<li><p><b>level</b>(<i>value</i>): Sets the current logging level. Only messages with a log level less than or equal to <em>value</em> will be written to the console.</p></li>
<li><p><b>error</b>(<i>message1</i>[, <i>message2</i>, …]): Logs an error message. The messages will be written to the console using the <code class="docutils literal notranslate"><span class="pre">console.error</span></code> method if the current log level is <a class="reference external" href="#error">Error</a> or higher.</p></li>
<li><p><b>warn</b>(<i>message1</i>[, <i>message2</i>, …]): Logs a warning message. The messages will be written to the console using the <code class="docutils literal notranslate"><span class="pre">console.warn</span></code> method if the current log level is <a class="reference external" href="#warn">Warn</a> or higher.</p></li>
<li><p><b>info</b>(<i>message1</i>[, <i>message2</i>, …]): Logs an informative message. The messages will be written to the console using the <code class="docutils literal notranslate"><span class="pre">console.log</span></code> method if the current log level is <a class="reference external" href="#info">Info</a> or higher.</p></li>
<li><p><b>debug</b>(<i>message1</i>[, <i>message2</i>, …]): Logs a debugging message. The messages will be written to the console using the <code class="docutils literal notranslate"><span class="pre">console.log</span></code> method if the current log level is <a class="reference external" href="#debug">Debug</a> or higher.</p></li>
</ul>
<p>To override the choice of console method invoked (<code class="docutils literal notranslate"><span class="pre">console.log</span></code>, <code class="docutils literal notranslate"><span class="pre">console.warn</span></code>, or <code class="docutils literal notranslate"><span class="pre">console.error</span></code>), use the optional <em>method</em> argument (one of <code class="docutils literal notranslate"><span class="pre">&quot;log&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;warn&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code>) to route all log messages through the same method.</p>
<p><a name="None" href="#None">#</a>
vega.<b>None</b>
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js">&lt;&gt;</a></p>
<p>Constant value indicating a log level of ‘None’. If set as the log level of a <a class="reference external" href="#logger">logger</a> instance, all log messages will be suppressed.</p>
<p><a name="Error" href="#Error">#</a>
vega.<b>Error</b>
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js">&lt;&gt;</a></p>
<p>Constant value indicating a log level of ‘Error’. If set as the log level of a <a class="reference external" href="#logger">logger</a> instance, only error messages will be presented.</p>
<p><a name="Warn" href="#Warn">#</a>
vega.<b>Warn</b>
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js">&lt;&gt;</a></p>
<p>Constant value indicating a log level of ‘Warn’. If set as the log level of a <a class="reference external" href="#logger">logger</a> instance, both error and warning messages will be presented.</p>
<p><a name="Info" href="#Info">#</a>
vega.<b>Info</b>
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js">&lt;&gt;</a></p>
<p>Constant value indicating a log level of ‘Info’. If set as the log level of a <a class="reference external" href="#logger">logger</a> instance, error, warning and info messages will be presented.</p>
<p><a name="Debug" href="#Debug">#</a>
vega.<b>Debug</b>
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js">&lt;&gt;</a></p>
<p>Constant value indicating a log level of ‘Debug’. If set as the log level of a <a class="reference external" href="#logger">logger</a> instance, all log messages (error, warning, info and debug) will be presented.</p>
</div>
<div class="section" id="errors">
<h3>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h3>
<p><a name="error" href="#error">#</a>
vega.<b>error</b>(<i>message</i>)
<a class="reference external" href="https://github.com/vega/vega/blob/master/packages/vega-util/src/error.js">&lt;&gt;</a></p>
<p>Throws a new error with the provided error <em>message</em>. This is a convenience method adding a layer of indirection for error handling, for example allowing error conditions to be included in expression chains.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">vega</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Uh oh&#39;</span><span class="p">);</span> <span class="c1">// equivalent to: throw Error(&#39;Uh oh&#39;)</span>

<span class="c1">// embed error in an expression</span>
<span class="k">return</span> <span class="nx">isOk</span> <span class="o">?</span> <span class="nx">returnValue</span> <span class="o">:</span> <span class="nx">vega</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Not OK&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-vega-util-1.14.1-0fb614277764f98738ba0b80e5cdfbe663426183-integrity/node_modules/vega-util"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>