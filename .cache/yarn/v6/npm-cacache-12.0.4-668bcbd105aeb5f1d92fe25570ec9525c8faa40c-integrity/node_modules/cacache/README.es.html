
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cacache &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-cacache-12.0.4-668bcbd105aeb5f1d92fe25570ec9525c8faa40c-integrity/node_modules/cacache/README.es.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#instalacion">
   Instalaci√≥n
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indice">
   √çndice
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejemplo">
     Ejemplo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#caracteristicas">
     Caracter√≠sticas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#como-contribuir">
     C√≥mo Contribuir
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api">
     API
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-localized-api-a-usando-el-api-en-espanol">
       <a name="localized-api">
       </a>
       Usando el API en espa√±ol
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-ls-a-cacache-ls-cache-promise-object">
       <a name="ls">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.ls(cache)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise&lt;Object&gt;
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id1">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-ls-stream-a-cacache-ls-flujo-cache-readable">
       <a name="ls-stream">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.ls.flujo(cache)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Readable
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id2">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-get-data-a-cacache-saca-cache-clave-ops-promise-data-metadata-integrity">
       <a name="get-data">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.saca(cache,
        </span>
        <span class="pre">
         clave,
        </span>
        <span class="pre">
         [ops])
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise({data,
        </span>
        <span class="pre">
         metadata,
        </span>
        <span class="pre">
         integrity})
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#nota">
         Nota
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id3">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-get-stream-a-cacache-saca-flujo-cache-clave-ops-readable">
       <a name="get-stream">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.saca.flujo(cache,
        </span>
        <span class="pre">
         clave,
        </span>
        <span class="pre">
         [ops])
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Readable
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id4">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-get-info-a-cacache-saca-info-cache-clave-promise">
       <a name="get-info">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.saca.info(cache,
        </span>
        <span class="pre">
         clave)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#campos">
         Campos
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id5">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-get-hascontent-a-cacache-saca-tienedatos-cache-integrity-promise">
       <a name="get-hasContent">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.saca.tieneDatos(cache,
        </span>
        <span class="pre">
         integrity)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id6">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-put-data-a-cacache-mete-cache-clave-datos-ops-promise">
       <a name="put-data">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.mete(cache,
        </span>
        <span class="pre">
         clave,
        </span>
        <span class="pre">
         datos,
        </span>
        <span class="pre">
         [ops])
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id7">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-put-stream-a-cacache-mete-flujo-cache-clave-ops-writable">
       <a name="put-stream">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.mete.flujo(cache,
        </span>
        <span class="pre">
         clave,
        </span>
        <span class="pre">
         [ops])
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Writable
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id8">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-put-options-a-opciones-para-cacache-mete">
       <a name="put-options">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         opciones
        </span>
        <span class="pre">
         para
        </span>
        <span class="pre">
         cacache.mete
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ops-metadata">
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.metadata
          </span>
         </code>
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ops-size">
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.size
          </span>
         </code>
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ops-integrity">
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.integrity
          </span>
         </code>
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ops-algorithms">
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.algorithms
          </span>
         </code>
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ops-uid-ops-gid">
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.uid
          </span>
         </code>
         /
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.gid
          </span>
         </code>
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#ops-memoize">
         <code class="docutils literal notranslate">
          <span class="pre">
           ops.memoize
          </span>
         </code>
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-rm-all-a-cacache-rm-todo-cache-promise">
       <a name="rm-all">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.rm.todo(cache)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id9">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-rm-entry-a-cacache-rm-entrada-cache-clave-promise">
       <a name="rm-entry">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.rm.entrada(cache,
        </span>
        <span class="pre">
         clave)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id10">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-rm-content-a-cacache-rm-datos-cache-integrity-promise">
       <a name="rm-content">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.rm.datos(cache,
        </span>
        <span class="pre">
         integrity)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id11">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-set-locale-a-cacache-ponlenguaje-locale">
       <a name="set-locale">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.ponLenguaje(locale)
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-clear-memoized-a-cacache-limpiamemoizado">
       <a name="clear-memoized">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.limpiaMemoizado()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-tmp-mkdir-a-tmp-hazdir-cache-ops-promise-path">
       <a name="tmp-mkdir">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         tmp.hazdir(cache,
        </span>
        <span class="pre">
         ops)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise&lt;Path&gt;
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id12">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-with-tmp-a-tmp-contmp-cache-ops-cb-promise">
       <a name="with-tmp">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         tmp.conTmp(cache,
        </span>
        <span class="pre">
         ops,
        </span>
        <span class="pre">
         cb)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id13">
         Ejemplo
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-integrity-a-hacheos-de-subresource-integrity">
       <a name="integrity">
       </a>
       Hacheos de Subresource Integrity
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#generando-tus-propios-hacheos">
         Generando tus propios hacheos
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-verify-a-cacache-verifica-cache-ops-promise">
       <a name="verify">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.verifica(cache,
        </span>
        <span class="pre">
         ops)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#opciones">
         Opciones
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#example">
         Example
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-name-verify-last-run-a-cacache-verifica-ultimavez-cache-promise">
       <a name="verify-last-run">
       </a>
       <code class="docutils literal notranslate">
        <span class="pre">
         &gt;
        </span>
        <span class="pre">
         cacache.verifica.ultimaVez(cache)
        </span>
        <span class="pre">
         -&gt;
        </span>
        <span class="pre">
         Promise
        </span>
       </code>
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#id14">
         Example
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="cacache-npm-version-license-travis-appveyor-coverage-status">
<h1>cacache <a class="reference external" href="https://npm.im/cacache"><img alt="npm version" src="https://img.shields.io/npm/v/cacache.svg" /></a> <a class="reference external" href="https://npm.im/cacache"><img alt="license" src="https://img.shields.io/npm/l/cacache.svg" /></a> <a class="reference external" href="https://travis-ci.org/zkat/cacache"><img alt="Travis" src="https://img.shields.io/travis/zkat/cacache.svg" /></a> <a class="reference external" href="https://ci.appveyor.com/project/zkat/cacache"><img alt="AppVeyor" src="https://ci.appveyor.com/api/projects/status/github/zkat/cacache?svg=true" /></a> <a class="reference external" href="https://coveralls.io/github/zkat/cacache?branch=latest"><img alt="Coverage Status" src="https://coveralls.io/repos/github/zkat/cacache/badge.svg?branch=latest" /></a><a class="headerlink" href="#cacache-npm-version-license-travis-appveyor-coverage-status" title="Permalink to this headline">¬∂</a></h1>
<p><a class="reference external" href="https://github.com/zkat/cacache"><code class="docutils literal notranslate"><span class="pre">cacache</span></code></a> es una librer√≠a de Node.js para
manejar caches locales en disco, con acceso tanto con claves √∫nicas como
direcciones de contenido (hashes/hacheos). Es s√∫per r√°pida, excelente con el
acceso concurrente, y jam√°s te dar√° datos incorrectos, a√∫n si se corrompen o
manipulan directamente los ficheros del cache.</p>
<p>El prop√≥sito original era reemplazar el cach√© local de
<a class="reference external" href="https://npm.im/npm">npm</a>, pero se puede usar por su propia cuenta.</p>
<p><em>Traducciones: <a class="reference internal" href="README.html"><span class="doc std std-doc">English</span></a></em></p>
<div class="section" id="instalacion">
<h2>Instalaci√≥n<a class="headerlink" href="#instalacion" title="Permalink to this headline">¬∂</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">npm</span> <span class="pre">install</span> <span class="pre">--save</span> <span class="pre">cacache</span></code></p>
</div>
<div class="section" id="indice">
<h2>√çndice<a class="headerlink" href="#indice" title="Permalink to this headline">¬∂</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#ejemplo">Ejemplo</a></p></li>
<li><p><a class="reference external" href="#caracter%C3%ADsticas">Caracter√≠sticas</a></p></li>
<li><p><a class="reference external" href="#c%C3%B3mo-contribuir">C√≥mo Contribuir</a></p></li>
<li><p><a class="reference external" href="#api">API</a></p>
<ul>
<li><p><a class="reference external" href="#localized-api">Usando el API en espa√±ol</a></p></li>
<li><p>Leer</p>
<ul>
<li><p><a class="reference external" href="#ls"><code class="docutils literal notranslate"><span class="pre">ls</span></code></a></p></li>
<li><p><a class="reference external" href="#ls-stream"><code class="docutils literal notranslate"><span class="pre">ls.flujo</span></code></a></p></li>
<li><p><a class="reference external" href="#get-data"><code class="docutils literal notranslate"><span class="pre">saca</span></code></a></p></li>
<li><p><a class="reference external" href="#get-stream"><code class="docutils literal notranslate"><span class="pre">saca.flujo</span></code></a></p></li>
<li><p><a class="reference external" href="#get-info"><code class="docutils literal notranslate"><span class="pre">saca.info</span></code></a></p></li>
<li><p><a class="reference external" href="#get-hasContent"><code class="docutils literal notranslate"><span class="pre">saca.tieneDatos</span></code></a></p></li>
</ul>
</li>
<li><p>Escribir</p>
<ul>
<li><p><a class="reference external" href="#put-data"><code class="docutils literal notranslate"><span class="pre">mete</span></code></a></p></li>
<li><p><a class="reference external" href="#put-stream"><code class="docutils literal notranslate"><span class="pre">mete.flujo</span></code></a></p></li>
<li><p><a class="reference external" href="#put-options">opciones para <code class="docutils literal notranslate"><span class="pre">mete*</span></code></a></p></li>
<li><p><a class="reference external" href="#rm-all"><code class="docutils literal notranslate"><span class="pre">rm.todo</span></code></a></p></li>
<li><p><a class="reference external" href="#rm-entry"><code class="docutils literal notranslate"><span class="pre">rm.entrada</span></code></a></p></li>
<li><p><a class="reference external" href="#rm-content"><code class="docutils literal notranslate"><span class="pre">rm.datos</span></code></a></p></li>
</ul>
</li>
<li><p>Utilidades</p>
<ul>
<li><p><a class="reference external" href="#set-locale"><code class="docutils literal notranslate"><span class="pre">ponLenguaje</span></code></a></p></li>
<li><p><a class="reference external" href="#clear-memoized"><code class="docutils literal notranslate"><span class="pre">limpiaMemoizado</span></code></a></p></li>
<li><p><a class="reference external" href="#tmp-mkdir"><code class="docutils literal notranslate"><span class="pre">tmp.hazdir</span></code></a></p></li>
<li><p><a class="reference external" href="#with-tmp"><code class="docutils literal notranslate"><span class="pre">tmp.conTmp</span></code></a></p></li>
</ul>
</li>
<li><p>Integridad</p>
<ul>
<li><p><a class="reference external" href="#integrity">Subresource Integrity</a></p></li>
<li><p><a class="reference external" href="#verify"><code class="docutils literal notranslate"><span class="pre">verifica</span></code></a></p></li>
<li><p><a class="reference external" href="#verify-last-run"><code class="docutils literal notranslate"><span class="pre">verifica.ultimaVez</span></code></a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="ejemplo">
<h3>Ejemplo<a class="headerlink" href="#ejemplo" title="Permalink to this headline">¬∂</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">cacache</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;cacache/es&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">tarbol</span> <span class="o">=</span> <span class="s1">&#39;/ruta/a/mi-tar.tgz&#39;</span>
<span class="kr">const</span> <span class="nx">rutaCache</span> <span class="o">=</span> <span class="s1">&#39;/tmp/my-toy-cache&#39;</span>
<span class="kr">const</span> <span class="nx">clave</span> <span class="o">=</span> <span class="s1">&#39;mi-clave-√∫nica-1234&#39;</span>

<span class="c1">// ¬°A√±√°delo al cach√©! Usa `rutaCache` como ra√≠z del cach√©.</span>
<span class="nx">cacache</span><span class="p">.</span><span class="nx">mete</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="nx">clave</span><span class="p">,</span> <span class="s1">&#39;10293801983029384&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">integrity</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Saved content to </span><span class="si">${</span><span class="nx">rutaCache</span><span class="si">}</span><span class="sb">.`</span><span class="p">)</span>
<span class="p">})</span>

<span class="kr">const</span> <span class="nx">destino</span> <span class="o">=</span> <span class="s1">&#39;/tmp/mytar.tgz&#39;</span>

<span class="c1">// Copia el contenido del cach√© a otro fichero, pero esta vez con flujos.</span>
<span class="nx">cacache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">flujo</span><span class="p">(</span>
  <span class="nx">rutaCache</span><span class="p">,</span> <span class="nx">clave</span>
<span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="nx">destino</span><span class="p">)</span>
<span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;finish&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;extracci√≥n completada&#39;</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// La misma cosa, pero accesando el contenido directamente, sin tocar el √≠ndice.</span>
<span class="nx">cacache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">porHacheo</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="nx">integridad</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">datos</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="nx">destino</span><span class="p">,</span> <span class="nx">datos</span><span class="p">,</span> <span class="nx">err</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;datos del tarbol sacados basado en su sha512, y escrito a otro fichero&#39;</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="caracteristicas">
<h3>Caracter√≠sticas<a class="headerlink" href="#caracteristicas" title="Permalink to this headline">¬∂</a></h3>
<ul class="simple">
<li><p>Extracci√≥n por clave o por direcci√≥n de contenido (shasum, etc)</p></li>
<li><p>Usa el est√°ndard de web, <a class="reference external" href="#integrity">Subresource Integrity</a></p></li>
<li><p>Compatible con multiples algoritmos - usa sha1, sha512, etc, en el mismo cach√© sin problema</p></li>
<li><p>Entradas con contenido id√©ntico comparten ficheros</p></li>
<li><p>Tolerancia de fallas (inmune a corrupci√≥n, ficheros parciales, carreras de proceso, etc)</p></li>
<li><p>Verificaci√≥n completa de datos cuando (escribiendo y leyendo)</p></li>
<li><p>Concurrencia r√°pida, segura y ‚Äúlockless‚Äù</p></li>
<li><p>Compatible con <code class="docutils literal notranslate"><span class="pre">stream</span></code>s (flujos)</p></li>
<li><p>Compatible con <code class="docutils literal notranslate"><span class="pre">Promise</span></code>s (promesas)</p></li>
<li><p>Bastante r√°pida ‚Äì acceso, incluyendo verificaci√≥n, en microsegundos</p></li>
<li><p>Almacenaje de metadatos arbitrarios</p></li>
<li><p>Colecci√≥n de basura y verificaci√≥n adicional fuera de banda</p></li>
<li><p>Cobertura rigurosa de pruebas</p></li>
<li><p>Probablente hay un ‚ÄúBloom filter‚Äù por ah√≠ en alg√∫n lado. Eso le mola a la gente, ¬øVerdad? ü§î</p></li>
</ul>
</div>
<div class="section" id="como-contribuir">
<h3>C√≥mo Contribuir<a class="headerlink" href="#como-contribuir" title="Permalink to this headline">¬∂</a></h3>
<p>El equipo de cacache felizmente acepta contribuciones de c√≥digo y otras maneras de participaci√≥n. ¬°Hay muchas formas diferentes de contribuir! La <span class="xref myst">Gu√≠a de Colaboradores</span> (en ingl√©s) tiene toda la informaci√≥n que necesitas para cualquier tipo de contribuci√≥n: todo desde c√≥mo reportar errores hasta c√≥mo someter parches con nuevas caracter√≠sticas. Con todo y eso, no se preocupe por si lo que haces est√° ex√°ctamente correcto: no hay ning√∫n problema en hacer preguntas si algo no est√° claro, o no lo encuentras.</p>
<p>El equipo de cacache tiene miembros hispanohablantes: es completamente aceptable crear <code class="docutils literal notranslate"><span class="pre">issues</span></code> y <code class="docutils literal notranslate"><span class="pre">pull</span> <span class="pre">requests</span></code> en espa√±ol/castellano.</p>
<p>Todos los participantes en este proyecto deben obedecer el <span class="xref myst">C√≥digo de Conducta</span> (en ingl√©s), y en general actuar de forma amable y respetuosa mientras participan en esta comunidad.</p>
<p>Por favor refi√©rase al <a class="reference internal" href="CHANGELOG.html"><span class="doc std std-doc">Historial de Cambios</span></a> (en ingl√©s) para detalles sobre cambios importantes inclu√≠dos en cada versi√≥n.</p>
<p>Finalmente, cacache tiene un sistema de localizaci√≥n de lenguaje. Si te interesa a√±adir lenguajes o mejorar los que existen, mira en el directorio <code class="docutils literal notranslate"><span class="pre">./locales</span></code> para comenzar.</p>
<p>Happy hacking!</p>
</div>
<div class="section" id="api">
<h3>API<a class="headerlink" href="#api" title="Permalink to this headline">¬∂</a></h3>
<div class="section" id="a-name-localized-api-a-usando-el-api-en-espanol">
<h4><a name="localized-api"></a> Usando el API en espa√±ol<a class="headerlink" href="#a-name-localized-api-a-usando-el-api-en-espanol" title="Permalink to this headline">¬∂</a></h4>
<p>cacache incluye una traducci√≥n completa de su API al castellano, con las mismas
caracter√≠sticas. Para usar el API como est√° documentado en este documento, usa
<code class="docutils literal notranslate"><span class="pre">require('cacache/es')</span></code></p>
<p>cacache tambi√©n tiene otros lenguajes: encu√©ntralos bajo <code class="docutils literal notranslate"><span class="pre">./locales</span></code>, y podr√°s
usar el API en ese lenguaje con <code class="docutils literal notranslate"><span class="pre">require('cacache/&lt;lenguaje&gt;')</span></code></p>
</div>
<div class="section" id="a-name-ls-a-cacache-ls-cache-promise-object">
<h4><a name="ls"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.ls(cache)</span> <span class="pre">-&gt;</span> <span class="pre">Promise&lt;Object&gt;</span></code><a class="headerlink" href="#a-name-ls-a-cacache-ls-cache-promise-object" title="Permalink to this headline">¬∂</a></h4>
<p>Enumera todas las entradas en el cach√©, dentro de un solo objeto. Cada entrada
en el objeto tendr√° como clave la clave √∫nica usada para el √≠ndice, el valor
siendo un objeto de <a class="reference external" href="#get-info"><code class="docutils literal notranslate"><span class="pre">saca.info</span></code></a>.</p>
<div class="section" id="id1">
<h5>Ejemplo<a class="headerlink" href="#id1" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">ls</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>
<span class="c1">// Salida</span>
<span class="p">{</span>
  <span class="s1">&#39;my-thing&#39;</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;my-thing&#39;</span><span class="p">,</span>
    <span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;sha512-BaSe64/EnCoDED+HAsh==&#39;</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;.testcache/content/deadbeef&#39;</span><span class="p">,</span> <span class="c1">// unido con `rutaCache`</span>
    <span class="nx">time</span><span class="o">:</span> <span class="mf">12345698490</span><span class="p">,</span>
    <span class="nx">size</span><span class="o">:</span> <span class="mf">4023948</span><span class="p">,</span>
    <span class="nx">metadata</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;blah&#39;</span><span class="p">,</span>
      <span class="nx">version</span><span class="o">:</span> <span class="s1">&#39;1.2.3&#39;</span><span class="p">,</span>
      <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;this was once a package but now it is my-thing&#39;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s1">&#39;other-thing&#39;</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;other-thing&#39;</span><span class="p">,</span>
    <span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;sha1-ANothER+hasH=&#39;</span><span class="p">,</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;.testcache/content/bada55&#39;</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="mf">11992309289</span><span class="p">,</span>
    <span class="nx">size</span><span class="o">:</span> <span class="mf">111112</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-ls-stream-a-cacache-ls-flujo-cache-readable">
<h4><a name="ls-stream"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.ls.flujo(cache)</span> <span class="pre">-&gt;</span> <span class="pre">Readable</span></code><a class="headerlink" href="#a-name-ls-stream-a-cacache-ls-flujo-cache-readable" title="Permalink to this headline">¬∂</a></h4>
<p>Enumera todas las entradas en el cach√©, emitiendo un objeto de
<a class="reference external" href="#get-info"><code class="docutils literal notranslate"><span class="pre">saca.info</span></code></a> por cada evento de <code class="docutils literal notranslate"><span class="pre">data</span></code> en el flujo.</p>
<div class="section" id="id2">
<h5>Ejemplo<a class="headerlink" href="#id2" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">ls</span><span class="p">.</span><span class="nx">flujo</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>
<span class="c1">// Salida</span>
<span class="p">{</span>
  <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;my-thing&#39;</span><span class="p">,</span>
  <span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;sha512-BaSe64HaSh&#39;</span><span class="p">,</span>
  <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;.testcache/content/deadbeef&#39;</span><span class="p">,</span> <span class="c1">// unido con `rutaCache`</span>
  <span class="nx">time</span><span class="o">:</span> <span class="mf">12345698490</span><span class="p">,</span>
  <span class="nx">size</span><span class="o">:</span> <span class="mf">13423</span><span class="p">,</span>
  <span class="nx">metadata</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;blah&#39;</span><span class="p">,</span>
    <span class="nx">version</span><span class="o">:</span> <span class="s1">&#39;1.2.3&#39;</span><span class="p">,</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;this was once a package but now it is my-thing&#39;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;other-thing&#39;</span><span class="p">,</span>
  <span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;whirlpool-WoWSoMuchSupport&#39;</span><span class="p">,</span>
  <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;.testcache/content/bada55&#39;</span><span class="p">,</span>
  <span class="nx">time</span><span class="o">:</span> <span class="mf">11992309289</span><span class="p">,</span>
  <span class="nx">size</span><span class="o">:</span> <span class="mf">498023984029</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-get-data-a-cacache-saca-cache-clave-ops-promise-data-metadata-integrity">
<h4><a name="get-data"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.saca(cache,</span> <span class="pre">clave,</span> <span class="pre">[ops])</span> <span class="pre">-&gt;</span> <span class="pre">Promise({data,</span> <span class="pre">metadata,</span> <span class="pre">integrity})</span></code><a class="headerlink" href="#a-name-get-data-a-cacache-saca-cache-clave-ops-promise-data-metadata-integrity" title="Permalink to this headline">¬∂</a></h4>
<p>Devuelve un objeto con los datos, hacheo de integridad y metadatos identificados
por la <code class="docutils literal notranslate"><span class="pre">clave</span></code>. La propiedad <code class="docutils literal notranslate"><span class="pre">data</span></code> de este objeto ser√° una instancia de
<code class="docutils literal notranslate"><span class="pre">Buffer</span></code> con los datos almacenados en el cach√©. to do with it! cacache just
won‚Äôt care.</p>
<p><code class="docutils literal notranslate"><span class="pre">integrity</span></code> es un <code class="docutils literal notranslate"><span class="pre">string</span></code> de <a class="reference external" href="#integrity">Subresource Integrity</a>. D√≠gase, un
<code class="docutils literal notranslate"><span class="pre">string</span></code> que puede ser usado para verificar a la <code class="docutils literal notranslate"><span class="pre">data</span></code>, que tiene como formato
<code class="docutils literal notranslate"><span class="pre">&lt;algoritmo&gt;-&lt;hacheo-integridad-base64&gt;</span></code>.</p>
<p>So no existe ninguna entrada identificada por <code class="docutils literal notranslate"><span class="pre">clave</span></code>, o se los datos
almacenados localmente fallan verificaci√≥n, el <code class="docutils literal notranslate"><span class="pre">Promise</span></code> fallar√°.</p>
<p>Una sub-funci√≥n, <code class="docutils literal notranslate"><span class="pre">saca.porHacheo</span></code>, tiene casi el mismo comportamiento, excepto
que busca entradas usando el hacheo de integridad, sin tocar el √≠ndice general.
Esta versi√≥n <em>s√≥lo</em> devuelve <code class="docutils literal notranslate"><span class="pre">data</span></code>, sin ning√∫n objeto conteni√©ndola.</p>
<div class="section" id="nota">
<h5>Nota<a class="headerlink" href="#nota" title="Permalink to this headline">¬∂</a></h5>
<p>Esta funci√≥n lee la entrada completa a la memoria antes de devolverla. Si est√°s
almacenando datos Muy Grandes, es posible que <a class="reference external" href="#get-stream"><code class="docutils literal notranslate"><span class="pre">saca.flujo</span></code></a> sea
una mejor soluci√≥n.</p>
</div>
<div class="section" id="id3">
<h5>Ejemplo<a class="headerlink" href="#id3" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span>// Busca por clave
cache.saca(rutaCache, &#39;my-thing&#39;).then(console.log)
// Salida:
{
  metadata: {
    thingName: &#39;my&#39;
  },
  integrity: &#39;sha512-BaSe64HaSh&#39;,
  data: Buffer#&lt;deadbeef&gt;,
  size: 9320
}

// Busca por hacheo
cache.saca.porHacheo(rutaCache, &#39;sha512-BaSe64HaSh&#39;).then(console.log)
// Salida:
Buffer#&lt;deadbeef&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-get-stream-a-cacache-saca-flujo-cache-clave-ops-readable">
<h4><a name="get-stream"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.saca.flujo(cache,</span> <span class="pre">clave,</span> <span class="pre">[ops])</span> <span class="pre">-&gt;</span> <span class="pre">Readable</span></code><a class="headerlink" href="#a-name-get-stream-a-cacache-saca-flujo-cache-clave-ops-readable" title="Permalink to this headline">¬∂</a></h4>
<p>Devuelve un <a class="reference external" href="https://nodejs.org/api/stream.html#stream_readable_streams">Readable
Stream</a> de los datos
almacenados bajo <code class="docutils literal notranslate"><span class="pre">clave</span></code>.</p>
<p>So no existe ninguna entrada identificada por <code class="docutils literal notranslate"><span class="pre">clave</span></code>, o se los datos
almacenados localmente fallan verificaci√≥n, el <code class="docutils literal notranslate"><span class="pre">Promise</span></code> fallar√°.</p>
<p><code class="docutils literal notranslate"><span class="pre">metadata</span></code> y <code class="docutils literal notranslate"><span class="pre">integrity</span></code> ser√°n emitidos como eventos antes de que el flujo
cierre.</p>
<p>Una sub-funci√≥n, <code class="docutils literal notranslate"><span class="pre">saca.flujo.porHacheo</span></code>, tiene casi el mismo comportamiento,
excepto que busca entradas usando el hacheo de integridad, sin tocar el √≠ndice
general. Esta versi√≥n no emite eventos de <code class="docutils literal notranslate"><span class="pre">metadata</span></code> o <code class="docutils literal notranslate"><span class="pre">integrity</span></code>.</p>
<div class="section" id="id4">
<h5>Ejemplo<a class="headerlink" href="#id4" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Busca por clave</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">flujo</span><span class="p">(</span>
  <span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;my-thing&#39;</span>
<span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="nx">metadata</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;metadata:&#39;</span><span class="p">,</span> <span class="nx">metadata</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;integrity&#39;</span><span class="p">,</span> <span class="nx">integrity</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;integrity:&#39;</span><span class="p">,</span> <span class="nx">integrity</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">pipe</span><span class="p">(</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">&#39;./x.tgz&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="c1">// Salidas:</span>
<span class="nx">metadata</span><span class="o">:</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;sha512-SoMeDIGest+64==&#39;</span>

<span class="c1">// Busca por hacheo</span>
<span class="nx">cache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">flujo</span><span class="p">.</span><span class="nx">porHacheo</span><span class="p">(</span>
  <span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;sha512-SoMeDIGest+64==&#39;</span>
<span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">&#39;./x.tgz&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-get-info-a-cacache-saca-info-cache-clave-promise">
<h4><a name="get-info"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.saca.info(cache,</span> <span class="pre">clave)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-get-info-a-cacache-saca-info-cache-clave-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Busca la <code class="docutils literal notranslate"><span class="pre">clave</span></code> en el √≠ndice del cach√©, devolviendo informaci√≥n sobre la
entrada si existe.</p>
<div class="section" id="campos">
<h5>Campos<a class="headerlink" href="#campos" title="Permalink to this headline">¬∂</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code> - Clave de la entrada. Igual al argumento <code class="docutils literal notranslate"><span class="pre">clave</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">integrity</span></code> - <a class="reference external" href="#integrity">hacheo de Subresource Integrity</a> del contenido al que se refiere esta entrada.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code> - Direcci√≥n del fichero de datos almacenados, unida al argumento <code class="docutils literal notranslate"><span class="pre">cache</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code> - Hora de creaci√≥n de la entrada</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code> - Metadatos asignados a esta entrada por el usuario</p></li>
</ul>
</div>
<div class="section" id="id5">
<h5>Ejemplo<a class="headerlink" href="#id5" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;my-thing&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>

<span class="c1">// Salida</span>
<span class="p">{</span>
  <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;my-thing&#39;</span><span class="p">,</span>
  <span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;sha256-MUSTVERIFY+ALL/THINGS==&#39;</span>
  <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;.testcache/content/deadbeef&#39;</span><span class="p">,</span>
  <span class="nx">time</span><span class="o">:</span> <span class="mf">12345698490</span><span class="p">,</span>
  <span class="nx">size</span><span class="o">:</span> <span class="mf">849234</span><span class="p">,</span>
  <span class="nx">metadata</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;blah&#39;</span><span class="p">,</span>
    <span class="nx">version</span><span class="o">:</span> <span class="s1">&#39;1.2.3&#39;</span><span class="p">,</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;this was once a package but now it is my-thing&#39;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-get-hascontent-a-cacache-saca-tienedatos-cache-integrity-promise">
<h4><a name="get-hasContent"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.saca.tieneDatos(cache,</span> <span class="pre">integrity)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-get-hascontent-a-cacache-saca-tienedatos-cache-integrity-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Busca un <a class="reference external" href="#integrity">hacheo Subresource Integrity</a> en el cach√©. Si existe el
contenido asociado con <code class="docutils literal notranslate"><span class="pre">integrity</span></code>, devuelve un objeto con dos campos: el hacheo
<em>espec√≠fico</em> que se us√≥ para la b√∫squeda, <code class="docutils literal notranslate"><span class="pre">sri</span></code>, y el tama√±o total del
contenido, <code class="docutils literal notranslate"><span class="pre">size</span></code>. Si no existe ning√∫n contenido asociado con <code class="docutils literal notranslate"><span class="pre">integrity</span></code>,
devuelve <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="section" id="id6">
<h5>Ejemplo<a class="headerlink" href="#id6" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">tieneDatos</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;sha256-MUSTVERIFY+ALL/THINGS==&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>

<span class="c1">// Salida</span>
<span class="p">{</span>
  <span class="nx">sri</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">source</span><span class="o">:</span> <span class="s1">&#39;sha256-MUSTVERIFY+ALL/THINGS==&#39;</span><span class="p">,</span>
    <span class="nx">algorithm</span><span class="o">:</span> <span class="s1">&#39;sha256&#39;</span><span class="p">,</span>
    <span class="nx">digest</span><span class="o">:</span> <span class="s1">&#39;MUSTVERIFY+ALL/THINGS==&#39;</span><span class="p">,</span>
    <span class="nx">options</span><span class="o">:</span> <span class="p">[]</span>
  <span class="p">},</span>
  <span class="nx">size</span><span class="o">:</span> <span class="mf">9001</span>
<span class="p">}</span>

<span class="nx">cacache</span><span class="p">.</span><span class="nx">saca</span><span class="p">.</span><span class="nx">tieneDatos</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;sha521-NOT+IN/CACHE==&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>

<span class="c1">// Salida</span>
<span class="kc">false</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-put-data-a-cacache-mete-cache-clave-datos-ops-promise">
<h4><a name="put-data"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.mete(cache,</span> <span class="pre">clave,</span> <span class="pre">datos,</span> <span class="pre">[ops])</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-put-data-a-cacache-mete-cache-clave-datos-ops-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Inserta <code class="docutils literal notranslate"><span class="pre">datos</span></code> en el cach√©. El <code class="docutils literal notranslate"><span class="pre">Promise</span></code> devuelto se resuelve con un hacheo
(generado conforme a <a class="reference external" href="#optsalgorithms"><code class="docutils literal notranslate"><span class="pre">ops.algorithms</span></code></a>) despu√©s que la entrada
haya sido escrita en completo.</p>
<div class="section" id="id7">
<h5>Ejemplo<a class="headerlink" href="#id7" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fetch</span><span class="p">(</span>
  <span class="s1">&#39;https://registry.npmjs.org/cacache/-/cacache-1.0.0.tgz&#39;</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">datos</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">cacache</span><span class="p">.</span><span class="nx">mete</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;registry.npmjs.org|cacache@1.0.0&#39;</span><span class="p">,</span> <span class="nx">datos</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">integridad</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;el hacheo de integridad es&#39;</span><span class="p">,</span> <span class="nx">integridad</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-put-stream-a-cacache-mete-flujo-cache-clave-ops-writable">
<h4><a name="put-stream"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.mete.flujo(cache,</span> <span class="pre">clave,</span> <span class="pre">[ops])</span> <span class="pre">-&gt;</span> <span class="pre">Writable</span></code><a class="headerlink" href="#a-name-put-stream-a-cacache-mete-flujo-cache-clave-ops-writable" title="Permalink to this headline">¬∂</a></h4>
<p>Devuelve un <a class="reference external" href="https://nodejs.org/api/stream.html#stream_writable_streams">Writable
Stream</a> que inserta
al cach√© los datos escritos a √©l. Emite un evento <code class="docutils literal notranslate"><span class="pre">integrity</span></code> con el hacheo del
contenido escrito, cuando completa.</p>
<div class="section" id="id8">
<h5>Ejemplo<a class="headerlink" href="#id8" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span>
  <span class="s1">&#39;https://registry.npmjs.org/cacache/-/cacache-1.0.0.tgz&#39;</span>
<span class="p">).</span><span class="nx">pipe</span><span class="p">(</span>
  <span class="nx">cacache</span><span class="p">.</span><span class="nx">mete</span><span class="p">.</span><span class="nx">flujo</span><span class="p">(</span>
    <span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;registry.npmjs.org|cacache@1.0.0&#39;</span>
  <span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;integrity&#39;</span><span class="p">,</span> <span class="nx">d</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`integrity digest is </span><span class="si">${</span><span class="nx">d</span><span class="si">}</span><span class="sb">`</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-put-options-a-opciones-para-cacache-mete">
<h4><a name="put-options"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">opciones</span> <span class="pre">para</span> <span class="pre">cacache.mete</span></code><a class="headerlink" href="#a-name-put-options-a-opciones-para-cacache-mete" title="Permalink to this headline">¬∂</a></h4>
<p>La funciones <code class="docutils literal notranslate"><span class="pre">cacache.mete</span></code> tienen un n√∫mero de opciones en com√∫n.</p>
<div class="section" id="ops-metadata">
<h5><code class="docutils literal notranslate"><span class="pre">ops.metadata</span></code><a class="headerlink" href="#ops-metadata" title="Permalink to this headline">¬∂</a></h5>
<p>Metadatos del usuario que se almacenar√°n con la entrada.</p>
</div>
<div class="section" id="ops-size">
<h5><code class="docutils literal notranslate"><span class="pre">ops.size</span></code><a class="headerlink" href="#ops-size" title="Permalink to this headline">¬∂</a></h5>
<p>El tama√±o declarado de los datos que se van a insertar. Si es prove√≠do, cacache
verificar√° que los datos escritos sean de ese tama√±o, o si no, fallar√° con un
error con c√≥digo <code class="docutils literal notranslate"><span class="pre">EBADSIZE</span></code>.</p>
</div>
<div class="section" id="ops-integrity">
<h5><code class="docutils literal notranslate"><span class="pre">ops.integrity</span></code><a class="headerlink" href="#ops-integrity" title="Permalink to this headline">¬∂</a></h5>
<p>El hacheo de integridad de los datos siendo escritos.</p>
<p>Si es prove√≠do, y los datos escritos no le corresponden, la operaci√≥n fallar√°
con un error con c√≥digo <code class="docutils literal notranslate"><span class="pre">EINTEGRITY</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ops.algorithms</span></code> no tiene ning√∫n efecto si esta opci√≥n est√° presente.</p>
</div>
<div class="section" id="ops-algorithms">
<h5><code class="docutils literal notranslate"><span class="pre">ops.algorithms</span></code><a class="headerlink" href="#ops-algorithms" title="Permalink to this headline">¬∂</a></h5>
<p>Por Defecto: <code class="docutils literal notranslate"><span class="pre">['sha512']</span></code></p>
<p>Algoritmos que se deben usar cuando se calcule el hacheo de <a class="reference external" href="#integrity">subresource
integrity</a> para los datos insertados. Puede usar cualquier algoritmo
enumerado en <code class="docutils literal notranslate"><span class="pre">crypto.getHashes()</span></code>.</p>
<p>Por el momento, s√≥lo se acepta un algoritmo (d√≠gase, un array con ex√°ctamente un
valor). No tiene ning√∫n efecto si <code class="docutils literal notranslate"><span class="pre">ops.integrity</span></code> tambi√©n ha sido proveido.</p>
</div>
<div class="section" id="ops-uid-ops-gid">
<h5><code class="docutils literal notranslate"><span class="pre">ops.uid</span></code>/<code class="docutils literal notranslate"><span class="pre">ops.gid</span></code><a class="headerlink" href="#ops-uid-ops-gid" title="Permalink to this headline">¬∂</a></h5>
<p>Si est√°n presentes, cacache har√° todo lo posible para asegurarse que todos los
ficheros creados en el proceso de sus operaciones en el cach√© usen esta
combinaci√≥n en particular.</p>
</div>
<div class="section" id="ops-memoize">
<h5><code class="docutils literal notranslate"><span class="pre">ops.memoize</span></code><a class="headerlink" href="#ops-memoize" title="Permalink to this headline">¬∂</a></h5>
<p>Por Defecto: <code class="docutils literal notranslate"><span class="pre">null</span></code></p>
<p>Si es verdad, cacache tratar√° de memoizar los datos de la entrada en memoria. La
pr√≥xima vez que el proceso corriente trate de accesar los datos o entrada,
cacache buscar√° en memoria antes de buscar en disco.</p>
<p>Si <code class="docutils literal notranslate"><span class="pre">ops.memoize</span></code> es un objeto regular o un objeto como <code class="docutils literal notranslate"><span class="pre">Map</span></code> (es decir, un
objeto con m√©todos <code class="docutils literal notranslate"><span class="pre">get()</span></code> y <code class="docutils literal notranslate"><span class="pre">set()</span></code>), este objeto en s√≠ sera usado en vez del
cach√© de memoria global. Esto permite tener l√≥gica espec√≠fica a tu aplicaci√≥n
encuanto al almacenaje en memoria de tus datos.</p>
<p>Si quieres asegurarte que los datos se lean del disco en vez de memoria, usa
<code class="docutils literal notranslate"><span class="pre">memoize:</span> <span class="pre">false</span></code> cuando uses funciones de <code class="docutils literal notranslate"><span class="pre">cacache.saca</span></code>.</p>
</div>
</div>
<div class="section" id="a-name-rm-all-a-cacache-rm-todo-cache-promise">
<h4><a name="rm-all"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.rm.todo(cache)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-rm-all-a-cacache-rm-todo-cache-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Borra el cach√© completo, incluyendo ficheros temporeros, ficheros de datos, y el
√≠ndice del cach√©.</p>
<div class="section" id="id9">
<h5>Ejemplo<a class="headerlink" href="#id9" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">rm</span><span class="p">.</span><span class="nx">todo</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;THE APOCALYPSE IS UPON US üò±&#39;</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-rm-entry-a-cacache-rm-entrada-cache-clave-promise">
<h4><a name="rm-entry"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.rm.entrada(cache,</span> <span class="pre">clave)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-rm-entry-a-cacache-rm-entrada-cache-clave-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Alias: <code class="docutils literal notranslate"><span class="pre">cacache.rm</span></code></p>
<p>Borra la entrada <code class="docutils literal notranslate"><span class="pre">clave</span></code> del √≠nduce. El contenido asociado con esta entrada
seguir√° siendo accesible por hacheo usando
<a class="reference external" href="#get-stream"><code class="docutils literal notranslate"><span class="pre">saca.flujo.porHacheo</span></code></a>.</p>
<p>Para borrar el contenido en s√≠, usa <a class="reference external" href="#rm-content"><code class="docutils literal notranslate"><span class="pre">rm.datos</span></code></a>. Si quieres hacer
esto de manera m√°s segura (pues ficheros de contenido pueden ser usados por
multiples entradas), usa <a class="reference external" href="#verify"><code class="docutils literal notranslate"><span class="pre">verifica</span></code></a> para borrar hu√©rfanos.</p>
<div class="section" id="id10">
<h5>Ejemplo<a class="headerlink" href="#id10" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">rm</span><span class="p">.</span><span class="nx">entrada</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;my-thing&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;I did not like it anyway&#39;</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-rm-content-a-cacache-rm-datos-cache-integrity-promise">
<h4><a name="rm-content"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.rm.datos(cache,</span> <span class="pre">integrity)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-rm-content-a-cacache-rm-datos-cache-integrity-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Borra el contenido identificado por <code class="docutils literal notranslate"><span class="pre">integrity</span></code>. Cualquier entrada que se
refiera a este contenido quedar√°n hu√©rfanas y se invalidar√°n si se tratan de
accesar, al menos que contenido id√©ntico sea a√±adido bajo <code class="docutils literal notranslate"><span class="pre">integrity</span></code>.</p>
<div class="section" id="id11">
<h5>Ejemplo<a class="headerlink" href="#id11" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">rm</span><span class="p">.</span><span class="nx">datos</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">,</span> <span class="s1">&#39;sha512-SoMeDIGest/IN+BaSE64==&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;los datos para `mi-cosa` se borraron&#39;</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-set-locale-a-cacache-ponlenguaje-locale">
<h4><a name="set-locale"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.ponLenguaje(locale)</span></code><a class="headerlink" href="#a-name-set-locale-a-cacache-ponlenguaje-locale" title="Permalink to this headline">¬∂</a></h4>
<p>Configura el lenguaje usado para mensajes y errores de cacache. La lista de
lenguajes disponibles est√° en el directorio <code class="docutils literal notranslate"><span class="pre">./locales</span></code> del proyecto.</p>
<p><em>Te interesa a√±adir m√°s lenguajes? <span class="xref myst">Somete un PR</span>!</em></p>
</div>
<div class="section" id="a-name-clear-memoized-a-cacache-limpiamemoizado">
<h4><a name="clear-memoized"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.limpiaMemoizado()</span></code><a class="headerlink" href="#a-name-clear-memoized-a-cacache-limpiamemoizado" title="Permalink to this headline">¬∂</a></h4>
<p>Completamente reinicializa el cach√© de memoria interno. Si est√°s usando tu
propio objecto con <code class="docutils literal notranslate"><span class="pre">ops.memoize</span></code>, debes hacer esto de manera espec√≠fica a √©l.</p>
</div>
<div class="section" id="a-name-tmp-mkdir-a-tmp-hazdir-cache-ops-promise-path">
<h4><a name="tmp-mkdir"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">tmp.hazdir(cache,</span> <span class="pre">ops)</span> <span class="pre">-&gt;</span> <span class="pre">Promise&lt;Path&gt;</span></code><a class="headerlink" href="#a-name-tmp-mkdir-a-tmp-hazdir-cache-ops-promise-path" title="Permalink to this headline">¬∂</a></h4>
<p>Alias: <code class="docutils literal notranslate"><span class="pre">tmp.mkdir</span></code></p>
<p>Devuelve un directorio √∫nico dentro del directorio <code class="docutils literal notranslate"><span class="pre">tmp</span></code> del cach√©.</p>
<p>Una vez tengas el directorio, es responsabilidad tuya asegurarte que todos los
ficheros escrito a √©l sean creados usando los permisos y <code class="docutils literal notranslate"><span class="pre">uid</span></code>/<code class="docutils literal notranslate"><span class="pre">gid</span></code> concordante
con el cach√©. Si no, puedes pedirle a cacache que lo haga llamando a
<a class="reference external" href="#tmp-fix"><code class="docutils literal notranslate"><span class="pre">cacache.tmp.fix()</span></code></a>. Esta funci√≥n arreglar√° todos los permisos en el
directorio tmp.</p>
<p>Si quieres que cacache limpie el directorio autom√°ticamente cuando termines, usa
<a class="reference external" href="#with-tpm"><code class="docutils literal notranslate"><span class="pre">cacache.tmp.conTmp()</span></code></a>.</p>
<div class="section" id="id12">
<h5>Ejemplo<a class="headerlink" href="#id12" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span>cacache.tmp.mkdir(cache).then(dir =&gt; {
  fs.writeFile(path.join(dir, &#39;blablabla&#39;), Buffer#&lt;1234&gt;, ...)
})
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-with-tmp-a-tmp-contmp-cache-ops-cb-promise">
<h4><a name="with-tmp"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">tmp.conTmp(cache,</span> <span class="pre">ops,</span> <span class="pre">cb)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-with-tmp-a-tmp-contmp-cache-ops-cb-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Crea un directorio temporero con <a class="reference external" href="#tmp-mkdir"><code class="docutils literal notranslate"><span class="pre">tmp.mkdir()</span></code></a> y ejecuta <code class="docutils literal notranslate"><span class="pre">cb</span></code> con
√©l como primer argumento. El directorio creado ser√° removido autom√°ticamente
cuando el valor devolvido por <code class="docutils literal notranslate"><span class="pre">cb()</span></code> se resuelva.</p>
<p>Las mismas advertencias aplican en cuanto a manejando permisos para los ficheros
dentro del directorio.</p>
<div class="section" id="id13">
<h5>Ejemplo<a class="headerlink" href="#id13" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span>cacache.tmp.conTmp(cache, dir =&gt; {
  return fs.writeFileAsync(path.join(dir, &#39;blablabla&#39;), Buffer#&lt;1234&gt;, ...)
}).then(() =&gt; {
  // `dir` no longer exists
})
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-integrity-a-hacheos-de-subresource-integrity">
<h4><a name="integrity"></a> Hacheos de Subresource Integrity<a class="headerlink" href="#a-name-integrity-a-hacheos-de-subresource-integrity" title="Permalink to this headline">¬∂</a></h4>
<p>cacache usa strings que siguen la especificaci√≥n de <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">Subresource Integrity
spec</a>.</p>
<p>Es decir, donde quiera cacache espera un argumento o opci√≥n <code class="docutils literal notranslate"><span class="pre">integrity</span></code>, ese
string deber√≠a usar el formato <code class="docutils literal notranslate"><span class="pre">&lt;algoritmo&gt;-&lt;hacheo-base64&gt;</span></code>.</p>
<p>Una variaci√≥n importante sobre los hacheos que cacache acepta es que acepta el
nombre de cualquier algoritmo aceptado por el proceso de Node.js donde se usa.
Puedes usar <code class="docutils literal notranslate"><span class="pre">crypto.getHashes()</span></code> para ver cuales est√°n disponibles.</p>
<div class="section" id="generando-tus-propios-hacheos">
<h5>Generando tus propios hacheos<a class="headerlink" href="#generando-tus-propios-hacheos" title="Permalink to this headline">¬∂</a></h5>
<p>Si tienes un <code class="docutils literal notranslate"><span class="pre">shasum</span></code>, en general va a estar en formato de string hexadecimal
(es decir, un <code class="docutils literal notranslate"><span class="pre">sha1</span></code> se ver√≠a como algo as√≠:
<code class="docutils literal notranslate"><span class="pre">5f5513f8822fdbe5145af33b64d8d970dcf95c6e</span></code>).</p>
<p>Para ser compatible con cacache, necesitas convertir esto a su equivalente en
subresource integrity. Por ejemplo, el hacheo correspondiente al ejemplo
anterior ser√≠a: <code class="docutils literal notranslate"><span class="pre">sha1-X1UT+IIv2+UUWvM7ZNjZcNz5XG4=</span></code>.</p>
<p>Puedes usar c√≥digo as√≠ para generarlo por tu cuenta:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;crypto&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">algoritmo</span> <span class="o">=</span> <span class="s1">&#39;sha512&#39;</span>
<span class="kr">const</span> <span class="nx">datos</span> <span class="o">=</span> <span class="s1">&#39;foobarbaz&#39;</span>

<span class="kr">const</span> <span class="nx">integrity</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">algorithm</span> <span class="o">+</span>
  <span class="s1">&#39;-&#39;</span> <span class="o">+</span>
  <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="nx">algoritmo</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">datos</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">&#39;base64&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Tambi√©n puedes usar <a class="reference external" href="https://npm.im/ssri"><code class="docutils literal notranslate"><span class="pre">ssri</span></code></a> para deferir el trabajo a otra
librer√≠a que garantiza que todo est√© correcto, pues maneja probablemente todas
las operaciones que tendr√≠as que hacer con SRIs, incluyendo convirtiendo entre
hexadecimal y el formato SRI.</p>
</div>
</div>
<div class="section" id="a-name-verify-a-cacache-verifica-cache-ops-promise">
<h4><a name="verify"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.verifica(cache,</span> <span class="pre">ops)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-verify-a-cacache-verifica-cache-ops-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Examina y arregla tu cach√©:</p>
<ul class="simple">
<li><p>Limpia entradas inv√°lidas, hu√©rfanas y corrompidas</p></li>
<li><p>Te deja filtrar cuales entradas retener, con tu propio filtro</p></li>
<li><p>Reclama cualquier ficheros de contenido sin referencias en el √≠ndice</p></li>
<li><p>Verifica integridad de todos los ficheros de contenido y remueve los malos</p></li>
<li><p>Arregla permisos del cach√©</p></li>
<li><p>Remieve el directorio <code class="docutils literal notranslate"><span class="pre">tmp</span></code> en el cach√©, y todo su contenido.</p></li>
</ul>
<p>Cuando termine, devuelve un objeto con varias estad√≠sticas sobre el proceso de
verificaci√≥n, por ejemplo la cantidad de espacio de disco reclamado, el n√∫mero
de entradas v√°lidas, n√∫mero de entradas removidas, etc.</p>
<div class="section" id="opciones">
<h5>Opciones<a class="headerlink" href="#opciones" title="Permalink to this headline">¬∂</a></h5>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ops.uid</span></code> - uid para asignarle al cach√© y su contenido</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ops.gid</span></code> - gid para asignarle al cach√© y su contenido</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ops.filter</span></code> - recibe una entrada como argumento. Devuelve falso para removerla. Nota: es posible que esta funci√≥n sea invocada con la misma entrada m√°s de una vez.</p></li>
</ul>
</div>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> somegarbage &gt;&gt; <span class="nv">$RUTACACHE</span>/content/deadbeef
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">verifica</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">stats</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="c1">// deadbeef collected, because of invalid checksum.</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;cache is much nicer now! stats:&#39;</span><span class="p">,</span> <span class="nx">stats</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-name-verify-last-run-a-cacache-verifica-ultimavez-cache-promise">
<h4><a name="verify-last-run"></a> <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">cacache.verifica.ultimaVez(cache)</span> <span class="pre">-&gt;</span> <span class="pre">Promise</span></code><a class="headerlink" href="#a-name-verify-last-run-a-cacache-verifica-ultimavez-cache-promise" title="Permalink to this headline">¬∂</a></h4>
<p>Alias: <code class="docutils literal notranslate"><span class="pre">√∫ltimaVez</span></code></p>
<p>Devuelve un <code class="docutils literal notranslate"><span class="pre">Date</span></code> que representa la √∫ltima vez que <code class="docutils literal notranslate"><span class="pre">cacache.verifica</span></code> fue
ejecutada en <code class="docutils literal notranslate"><span class="pre">cache</span></code>.</p>
<div class="section" id="id14">
<h5>Example<a class="headerlink" href="#id14" title="Permalink to this headline">¬∂</a></h5>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cacache</span><span class="p">.</span><span class="nx">verifica</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">cacache</span><span class="p">.</span><span class="nx">verifica</span><span class="p">.</span><span class="nx">ultimaVez</span><span class="p">(</span><span class="nx">rutaCache</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">√∫ltima</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;La √∫ltima vez que se us√≥ cacache.verifica() fue &#39;</span> <span class="o">+</span> <span class="nx">√∫ltima</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-cacache-12.0.4-668bcbd105aeb5f1d92fe25570ec9525c8faa40c-integrity/node_modules/cacache"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>