
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Elliptic &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-elliptic-6.5.3-cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6-integrity/node_modules/elliptic/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#incentive">
   Incentive
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#benchmarks">
   Benchmarks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api">
   API
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ecdsa">
     ECDSA
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eddsa">
     EdDSA
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ecdh">
     ECDH
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supported-curves">
   Supported curves
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implementation-details">
     Implementation details
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#related-projects">
     Related projects
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#license">
       LICENSE
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="elliptic-build-status-coverage-status-code-climate">
<h1>Elliptic <a class="reference external" href="http://travis-ci.org/indutny/elliptic"><img alt="Build Status" src="https://secure.travis-ci.org/indutny/elliptic.png" /></a> <a class="reference external" href="https://coveralls.io/github/indutny/elliptic?branch=master"><img alt="Coverage Status" src="https://coveralls.io/repos/indutny/elliptic/badge.svg?branch=master&amp;service=github" /></a> <a class="reference external" href="https://codeclimate.com/github/indutny/elliptic"><img alt="Code Climate" src="https://codeclimate.com/github/indutny/elliptic/badges/gpa.svg" /></a><a class="headerlink" href="#elliptic-build-status-coverage-status-code-climate" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://saucelabs.com/u/gh-indutny-elliptic"><img alt="Saucelabs Test Status" src="https://saucelabs.com/browser-matrix/gh-indutny-elliptic.svg" /></a></p>
<p>Fast elliptic-curve cryptography in a plain javascript implementation.</p>
<p>NOTE: Please take a look at http://safecurves.cr.yp.to/ before choosing a curve
for your cryptography operations.</p>
<div class="section" id="incentive">
<h2>Incentive<a class="headerlink" href="#incentive" title="Permalink to this headline">¶</a></h2>
<p>ECC is much slower than regular RSA cryptography, the JS implementations are
even more slower.</p>
</div>
<div class="section" id="benchmarks">
<h2>Benchmarks<a class="headerlink" href="#benchmarks" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ node benchmarks/index.js
Benchmarking: sign
elliptic#sign x <span class="m">262</span> ops/sec ±0.51% <span class="o">(</span><span class="m">177</span> runs sampled<span class="o">)</span>
eccjs#sign x <span class="m">55</span>.91 ops/sec ±0.90% <span class="o">(</span><span class="m">144</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#sign
<span class="o">========================</span>
Benchmarking: verify
elliptic#verify x <span class="m">113</span> ops/sec ±0.50% <span class="o">(</span><span class="m">166</span> runs sampled<span class="o">)</span>
eccjs#verify x <span class="m">48</span>.56 ops/sec ±0.36% <span class="o">(</span><span class="m">125</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#verify
<span class="o">========================</span>
Benchmarking: gen
elliptic#gen x <span class="m">294</span> ops/sec ±0.43% <span class="o">(</span><span class="m">176</span> runs sampled<span class="o">)</span>
eccjs#gen x <span class="m">62</span>.25 ops/sec ±0.63% <span class="o">(</span><span class="m">129</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#gen
<span class="o">========================</span>
Benchmarking: ecdh
elliptic#ecdh x <span class="m">136</span> ops/sec ±0.85% <span class="o">(</span><span class="m">156</span> runs sampled<span class="o">)</span>
------------------------
Fastest is elliptic#ecdh
<span class="o">========================</span>
</pre></div>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ecdsa">
<h3>ECDSA<a class="headerlink" href="#ecdsa" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">EC</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">ec</span><span class="p">;</span>

<span class="c1">// Create and initialize EC context</span>
<span class="c1">// (better do it once and reuse it)</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EC</span><span class="p">(</span><span class="s1">&#39;secp256k1&#39;</span><span class="p">);</span>

<span class="c1">// Generate keys</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>

<span class="c1">// Sign the message&#39;s hash (input must be an array, or a hex-string)</span>
<span class="kd">var</span> <span class="nx">msgHash</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">6</span><span class="p">,</span> <span class="mf">7</span><span class="p">,</span> <span class="mf">8</span><span class="p">,</span> <span class="mf">9</span><span class="p">,</span> <span class="mf">10</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">);</span>

<span class="c1">// Export DER encoded signature in Array</span>
<span class="kd">var</span> <span class="nx">derSign</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">.</span><span class="nx">toDER</span><span class="p">();</span>

<span class="c1">// Verify signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">derSign</span><span class="p">));</span>

<span class="c1">// CHECK WITH NO PRIVATE KEY</span>

<span class="kd">var</span> <span class="nx">pubPoint</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">pubPoint</span><span class="p">.</span><span class="nx">getX</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">pubPoint</span><span class="p">.</span><span class="nx">getY</span><span class="p">();</span>

<span class="c1">// Public Key MUST be either:</span>
<span class="c1">// 1) &#39;04&#39; + hex string of x + hex string of y; or</span>
<span class="c1">// 2) object with two hex string properties (x and y); or</span>
<span class="c1">// 3) object with two buffer properties (x and y)</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="nx">pubPoint</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>                                 <span class="c1">// case 1</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">),</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">)</span> <span class="p">};</span>         <span class="c1">// case 2</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toBuffer</span><span class="p">(),</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">.</span><span class="nx">toBuffer</span><span class="p">()</span> <span class="p">};</span>                   <span class="c1">// case 3</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toArrayLike</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">),</span> <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">.</span><span class="nx">toArrayLike</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">)</span> <span class="p">};</span> <span class="c1">// case 3</span>

<span class="c1">// Import public key</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">keyFromPublic</span><span class="p">(</span><span class="nx">pub</span><span class="p">,</span> <span class="s1">&#39;hex&#39;</span><span class="p">);</span>

<span class="c1">// Signature MUST be either:</span>
<span class="c1">// 1) DER-encoded signature as hex-string; or</span>
<span class="c1">// 2) DER-encoded signature as buffer; or</span>
<span class="c1">// 3) object with two hex-string properties (r and s); or</span>
<span class="c1">// 4) object with two buffer properties (r and s)</span>

<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="s1">&#39;3046022100...&#39;</span><span class="p">;</span> <span class="c1">// case 1</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">);</span> <span class="c1">// case 2</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">r</span><span class="o">:</span> <span class="s1">&#39;b1fc...&#39;</span><span class="p">,</span> <span class="nx">s</span><span class="o">:</span> <span class="s1">&#39;9c42...&#39;</span> <span class="p">};</span> <span class="c1">// case 3</span>

<span class="c1">// Verify signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">signature</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="eddsa">
<h3>EdDSA<a class="headerlink" href="#eddsa" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">EdDSA</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">eddsa</span><span class="p">;</span>

<span class="c1">// Create and initialize EdDSA context</span>
<span class="c1">// (better do it once and reuse it)</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EdDSA</span><span class="p">(</span><span class="s1">&#39;ed25519&#39;</span><span class="p">);</span>

<span class="c1">// Create key pair from secret</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">keyFromSecret</span><span class="p">(</span><span class="s1">&#39;693e3c...&#39;</span><span class="p">);</span> <span class="c1">// hex string, array or Buffer</span>

<span class="c1">// Sign the message&#39;s hash (input must be an array, or a hex-string)</span>
<span class="kd">var</span> <span class="nx">msgHash</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">5</span><span class="p">,</span> <span class="mf">6</span><span class="p">,</span> <span class="mf">7</span><span class="p">,</span> <span class="mf">8</span><span class="p">,</span> <span class="mf">9</span><span class="p">,</span> <span class="mf">10</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">key</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">).</span><span class="nx">toHex</span><span class="p">();</span>

<span class="c1">// Verify signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">signature</span><span class="p">));</span>

<span class="c1">// CHECK WITH NO PRIVATE KEY</span>

<span class="c1">// Import public key</span>
<span class="kd">var</span> <span class="nx">pub</span> <span class="o">=</span> <span class="s1">&#39;0a1af638...&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">keyFromPublic</span><span class="p">(</span><span class="nx">pub</span><span class="p">,</span> <span class="s1">&#39;hex&#39;</span><span class="p">);</span>

<span class="c1">// Verify signature</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="s1">&#39;70bed1...&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">msgHash</span><span class="p">,</span> <span class="nx">signature</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="ecdh">
<h3>ECDH<a class="headerlink" href="#ecdh" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">EC</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">ec</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EC</span><span class="p">(</span><span class="s1">&#39;curve25519&#39;</span><span class="p">);</span>

<span class="c1">// Generate keys</span>
<span class="kd">var</span> <span class="nx">key1</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">key2</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">shared1</span> <span class="o">=</span> <span class="nx">key1</span><span class="p">.</span><span class="nx">derive</span><span class="p">(</span><span class="nx">key2</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">());</span>
<span class="kd">var</span> <span class="nx">shared2</span> <span class="o">=</span> <span class="nx">key2</span><span class="p">.</span><span class="nx">derive</span><span class="p">(</span><span class="nx">key1</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">());</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Both shared secrets are BN instances&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shared1</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mf">16</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shared2</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mf">16</span><span class="p">));</span>
</pre></div>
</div>
<p>three and more members:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">EC</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;elliptic&#39;</span><span class="p">).</span><span class="nx">ec</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EC</span><span class="p">(</span><span class="s1">&#39;curve25519&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">B</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">C</span> <span class="o">=</span> <span class="nx">ec</span><span class="p">.</span><span class="nx">genKeyPair</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">AB</span> <span class="o">=</span> <span class="nx">A</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">().</span><span class="nx">mul</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">BC</span> <span class="o">=</span> <span class="nx">B</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">().</span><span class="nx">mul</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">CA</span> <span class="o">=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">getPublic</span><span class="p">().</span><span class="nx">mul</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>

<span class="kd">var</span> <span class="nx">ABC</span> <span class="o">=</span> <span class="nx">AB</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">BCA</span> <span class="o">=</span> <span class="nx">BC</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>
<span class="kd">var</span> <span class="nx">CAB</span> <span class="o">=</span> <span class="nx">CA</span><span class="p">.</span><span class="nx">mul</span><span class="p">(</span><span class="nx">B</span><span class="p">.</span><span class="nx">getPrivate</span><span class="p">())</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ABC</span><span class="p">.</span><span class="nx">getX</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mf">16</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">BCA</span><span class="p">.</span><span class="nx">getX</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mf">16</span><span class="p">))</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">CAB</span><span class="p">.</span><span class="nx">getX</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mf">16</span><span class="p">))</span>
</pre></div>
</div>
<p>NOTE: <code class="docutils literal notranslate"><span class="pre">.derive()</span></code> returns a <a class="reference external" href="https://github.com/indutny/bn.js">BN</a> instance.</p>
</div>
</div>
<div class="section" id="supported-curves">
<h2>Supported curves<a class="headerlink" href="#supported-curves" title="Permalink to this headline">¶</a></h2>
<p>Elliptic.js support following curve types:</p>
<ul class="simple">
<li><p>Short Weierstrass</p></li>
<li><p>Montgomery</p></li>
<li><p>Edwards</p></li>
<li><p>Twisted Edwards</p></li>
</ul>
<p>Following curve ‘presets’ are embedded into the library:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">secp256k1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p192</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p224</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p384</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p521</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">curve25519</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ed25519</span></code></p></li>
</ul>
<p>NOTE: That <code class="docutils literal notranslate"><span class="pre">curve25519</span></code> could not be used for ECDSA, use <code class="docutils literal notranslate"><span class="pre">ed25519</span></code> instead.</p>
<div class="section" id="implementation-details">
<h3>Implementation details<a class="headerlink" href="#implementation-details" title="Permalink to this headline">¶</a></h3>
<p>ECDSA is using deterministic <code class="docutils literal notranslate"><span class="pre">k</span></code> value generation as per <a class="reference external" href="http://tools.ietf.org/html/rfc6979">RFC6979</a>. Most of
the curve operations are performed on non-affine coordinates (either projective
or extended), various windowing techniques are used for different cases.</p>
<p>All operations are performed in reduction context using <a class="reference external" href="https://github.com/indutny/bn.js">bn.js</a>, hashing is
provided by <a class="reference external" href="https://github.com/indutny/hash.js">hash.js</a></p>
</div>
<div class="section" id="related-projects">
<h3>Related projects<a class="headerlink" href="#related-projects" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/bitchan/eccrypto">eccrypto</a>: isomorphic implementation of ECDSA, ECDH and ECIES for both
browserify and node (uses <code class="docutils literal notranslate"><span class="pre">elliptic</span></code> for browser and <a class="reference external" href="https://github.com/wanderer/secp256k1-node">secp256k1-node</a> for
node)</p></li>
</ul>
<div class="section" id="license">
<h4>LICENSE<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h4>
<p>This software is licensed under the MIT License.</p>
<p>Copyright Fedor Indutny, 2014.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
“Software”), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to permit
persons to whom the Software is furnished to do so, subject to the
following conditions:</p>
<p>The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-elliptic-6.5.3-cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6-integrity/node_modules/elliptic"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>