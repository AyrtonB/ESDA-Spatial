
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>d3-array &#8212; Spatial Analysis for Energy</title>
    
  <link rel="stylesheet" href="../../../../../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/language_data.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../../../index.html">
  
  <img src="../../../../../../_static/logo.svg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Spatial Analysis for Energy</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Intro.html">
   UCL Energy Systems &amp; Data Analytics - Spatial Module
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/03-Working-with-Vector-Data.html">
   Working with Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../tutorials/04-Working-with-Raster-Data.html">
   Working with Raster Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extensions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../extensions/01-Mapping-with-ggplot.html">
   Mapping with ggplot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Setup.html">
   Set-Up Instructions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/Jupyter-Anaconda.html">
   What is Jupyter/Anaconda?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../md/ESDA%20Course.html">
   ESDA Course
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/.cache/yarn/v6/npm-d3-array-1.2.4-635ce4d5eea759f6f605863dbcfc30edc737f71f-integrity/node_modules/d3-array/README.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installing">
   Installing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#api-reference">
   API Reference
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistics">
     Statistics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#search">
     Search
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transformations">
     Transformations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#histograms">
     Histograms
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#histogram-thresholds">
     Histogram Thresholds
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="d3-array">
<h1>d3-array<a class="headerlink" href="#d3-array" title="Permalink to this headline">¶</a></h1>
<p>Data in JavaScript is often represented by an array, and so one tends to manipulate arrays when visualizing or analyzing data. Some common forms of manipulation include taking a contiguous slice (subset) of an array, filtering an array using a predicate function, and mapping an array to a parallel set of values using a transform function. Before looking at the set of utilities that this module provides, familiarize yourself with the powerful <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/prototype">array methods built-in to JavaScript</a>.</p>
<p>JavaScript includes <strong>mutation methods</strong> that modify the array:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop"><em>array</em>.pop</a> - Remove the last element from the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push"><em>array</em>.push</a> - Add one or more elements to the end of the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse"><em>array</em>.reverse</a> - Reverse the order of the elements of the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift"><em>array</em>.shift</a> - Remove the first element from the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><em>array</em>.sort</a> - Sort the elements of the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice"><em>array</em>.splice</a> - Add or remove elements from the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift"><em>array</em>.unshift</a> - Add one or more elements to the front of the array.</p></li>
</ul>
<p>There are also <strong>access methods</strong> that return some representation of the array:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"><em>array</em>.concat</a> - Join the array with other array(s) or value(s).</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join"><em>array</em>.join</a> - Join all elements of the array into a string.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"><em>array</em>.slice</a> - Extract a section of the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf"><em>array</em>.indexOf</a> - Find the first occurrence of a value within the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf"><em>array</em>.lastIndexOf</a> - Find the last occurrence of a value within the array.</p></li>
</ul>
<p>And finally <strong>iteration methods</strong> that apply functions to elements in the array:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><em>array</em>.filter</a> - Create a new array with only the elements for which a predicate is true.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><em>array</em>.forEach</a> - Call a function for each element in the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every"><em>array</em>.every</a> - See if every element in the array satisfies a predicate.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"><em>array</em>.map</a> - Create a new array with the result of calling a function on every element in the array.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some"><em>array</em>.some</a> - See if at least one element in the array satisfies a predicate.</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce"><em>array</em>.reduce</a> - Apply a function to reduce the array to a single value (from left-to-right).</p></li>
<li><p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight"><em>array</em>.reduceRight</a> - Apply a function to reduce the array to a single value (from right-to-left).</p></li>
</ul>
<div class="section" id="installing">
<h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<p>If you use NPM, <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">d3-array</span></code>. Otherwise, download the <a class="reference external" href="https://github.com/d3/d3-array/releases/latest">latest release</a>. You can also load directly from <a class="reference external" href="https://d3js.org">d3js.org</a>, either as a <a class="reference external" href="https://d3js.org/d3-array.v1.min.js">standalone library</a> or as part of <a class="reference external" href="https://github.com/d3/d3">D3 4.0</a>. AMD, CommonJS, and vanilla environments are supported. In vanilla, a <code class="docutils literal notranslate"><span class="pre">d3</span></code> global is exported:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://d3js.org/d3-array.v1.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="kd">var</span> <span class="nx">min</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>

<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="https://tonicdev.com/npm/d3-array">Try d3-array in your browser.</a></p>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#statistics">Statistics</a></p></li>
<li><p><a class="reference external" href="#search">Search</a></p></li>
<li><p><a class="reference external" href="#transformations">Transformations</a></p></li>
<li><p><a class="reference external" href="#histograms">Histograms</a></p></li>
<li><p><a class="reference external" href="#histogram-thresholds">Histogram Thresholds</a></p></li>
</ul>
<div class="section" id="statistics">
<h3>Statistics<a class="headerlink" href="#statistics" title="Permalink to this headline">¶</a></h3>
<p>Methods for computing basic summary statistics.</p>
<p><a name="min" href="#min">#</a> d3.<b>min</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/min.js">&lt;&gt;</a></p>
<p>Returns the minimum value in the given <em>array</em> using natural order. If the array is empty, returns undefined. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the minimum value.</p>
<p>Unlike the built-in <a class="reference external" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Math/min">Math.min</a>, this method ignores undefined, null and NaN values; this is useful for ignoring missing data. In addition, elements are compared using natural order rather than numeric order. For example, the minimum of the strings [“20”, “3”] is “20”, while the minimum of the numbers [20, 3] is 3.</p>
<p>See also <a class="reference external" href="#scan">scan</a> and <a class="reference external" href="#extent">extent</a>.</p>
<p><a name="max" href="#max">#</a> d3.<b>max</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/max.js">&lt;&gt;</a></p>
<p>Returns the maximum value in the given <em>array</em> using natural order. If the array is empty, returns undefined. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the maximum value.</p>
<p>Unlike the built-in <a class="reference external" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Math/max">Math.max</a>, this method ignores undefined values; this is useful for ignoring missing data. In addition, elements are compared using natural order rather than numeric order. For example, the maximum of the strings [“20”, “3”] is “3”, while the maximum of the numbers [20, 3] is 20.</p>
<p>See also <a class="reference external" href="#scan">scan</a> and <a class="reference external" href="#extent">extent</a>.</p>
<p><a name="extent" href="#extent">#</a> d3.<b>extent</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/extent.js">&lt;&gt;</a></p>
<p>Returns the <a class="reference external" href="#min">minimum</a> and <a class="reference external" href="#max">maximum</a> value in the given <em>array</em> using natural order. If the array is empty, returns [undefined, undefined]. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the extent.</p>
<p><a name="sum" href="#sum">#</a> d3.<b>sum</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/sum.js">&lt;&gt;</a></p>
<p>Returns the sum of the given <em>array</em> of numbers. If the array is empty, returns 0. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the sum. This method ignores undefined and NaN values; this is useful for ignoring missing data.</p>
<p><a name="mean" href="#mean">#</a> d3.<b>mean</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/mean.js">&lt;&gt;</a></p>
<p>Returns the mean of the given <em>array</em> of numbers. If the array is empty, returns undefined. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the mean. This method ignores undefined and NaN values; this is useful for ignoring missing data.</p>
<p><a name="median" href="#median">#</a> d3.<b>median</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/median.js">&lt;&gt;</a></p>
<p>Returns the median of the given <em>array</em> of numbers using the <a class="reference external" href="https://en.wikipedia.org/wiki/Quantile#Estimating_quantiles_from_a_sample">R-7 method</a>. If the array is empty, returns undefined. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the median. This method ignores undefined and NaN values; this is useful for ignoring missing data.</p>
<p><a name="quantile" href="#quantile">#</a> d3.<b>quantile</b>(<i>array</i>, <i>p</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/quantile.js">&lt;&gt;</a></p>
<p>Returns the <em>p</em>-quantile of the given <strong>sorted</strong> <em>array</em> of numbers, where <em>p</em> is a number in the range [0, 1]. For example, the median can be computed using <em>p</em> = 0.5, the first quartile at <em>p</em> = 0.25, and the third quartile at <em>p</em> = 0.75. This particular implementation uses the <a class="reference external" href="http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population">R-7 method</a>, which is the default for the R programming language and Excel. For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">30</span><span class="p">];</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">quantile</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span> <span class="c1">// 0</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">quantile</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">);</span> <span class="c1">// 10</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">quantile</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mf">1</span><span class="p">);</span> <span class="c1">// 30</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">quantile</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">);</span> <span class="c1">// 5</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">quantile</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">);</span> <span class="c1">// 20</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">quantile</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">);</span> <span class="c1">// 2</span>
</pre></div>
</div>
<p>An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the quantile.</p>
<p><a name="variance" href="#variance">#</a> d3.<b>variance</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/variance.js">&lt;&gt;</a></p>
<p>Returns an <a class="reference external" href="http://mathworld.wolfram.com/SampleVariance.html">unbiased estimator of the population variance</a> of the given <em>array</em> of numbers. If the array has fewer than two values, returns undefined. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the variance. This method ignores undefined and NaN values; this is useful for ignoring missing data.</p>
<p><a name="deviation" href="#deviation">#</a> d3.<b>deviation</b>(<i>array</i>[, <i>accessor</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/deviation.js">&lt;&gt;</a></p>
<p>Returns the standard deviation, defined as the square root of the <a class="reference external" href="#variance">bias-corrected variance</a>, of the given <em>array</em> of numbers. If the array has fewer than two values, returns undefined. An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array</em>.map(<em>accessor</em>) before computing the standard deviation. This method ignores undefined and NaN values; this is useful for ignoring missing data.</p>
</div>
<div class="section" id="search">
<h3>Search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h3>
<p>Methods for searching arrays for a specific element.</p>
<p><a name="scan" href="#scan">#</a> d3.<b>scan</b>(<i>array</i>[, <i>comparator</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/scan.js">&lt;&gt;</a></p>
<p>Performs a linear scan of the specified <em>array</em>, returning the index of the least element according to the specified <em>comparator</em>. If the given <em>array</em> contains no comparable elements (<em>i.e.</em>, the comparator returns NaN when comparing each element to itself), returns undefined. If <em>comparator</em> is not specified, it defaults to <a class="reference external" href="#ascending">ascending</a>. For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">foo</span><span class="o">:</span> <span class="mf">42</span><span class="p">},</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mf">91</span><span class="p">}];</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">foo</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span> <span class="p">});</span> <span class="c1">// 0</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">scan</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">foo</span> <span class="o">-</span> <span class="nx">a</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span> <span class="p">});</span> <span class="c1">// 1</span>
</pre></div>
</div>
<p>This function is similar to <a class="reference external" href="#min">min</a>, except it allows the use of a comparator rather than an accessor and it returns the index instead of the accessed value. See also <a class="reference external" href="#bisect">bisect</a>.</p>
<p><a name="bisectLeft" href="#bisectLeft">#</a> d3.<b>bisectLeft</b>(<i>array</i>, <i>x</i>[, <i>lo</i>[, <i>hi</i>]]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisect.js#L6">&lt;&gt;</a></p>
<p>Returns the insertion point for <em>x</em> in <em>array</em> to maintain sorted order. The arguments <em>lo</em> and <em>hi</em> may be used to specify a subset of the array which should be considered; by default the entire array is used. If <em>x</em> is already present in <em>array</em>, the insertion point will be before (to the left of) any existing entries. The return value is suitable for use as the first argument to <a class="reference external" href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/splice">splice</a> assuming that <em>array</em> is already sorted. The returned insertion point <em>i</em> partitions the <em>array</em> into two halves so that all <em>v</em> &lt; <em>x</em> for <em>v</em> in <em>array</em>.slice(<em>lo</em>, <em>i</em>) for the left side and all <em>v</em> &gt;= <em>x</em> for <em>v</em> in <em>array</em>.slice(<em>i</em>, <em>hi</em>) for the right side.</p>
<p><a name="bisect" href="#bisect">#</a> d3.<b>bisect</b>(<i>array</i>, <i>x</i>[, <i>lo</i>[, <i>hi</i>]]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisect.js">&lt;&gt;</a><br>
<a name="bisectRight" href="#bisectRight">#</a> d3.<b>bisectRight</b>(<i>array</i>, <i>x</i>[, <i>lo</i>[, <i>hi</i>]]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisect.js#L6">&lt;&gt;</a></p>
<p>Similar to <a class="reference external" href="#bisectLeft">bisectLeft</a>, but returns an insertion point which comes after (to the right of) any existing entries of <em>x</em> in <em>array</em>. The returned insertion point <em>i</em> partitions the <em>array</em> into two halves so that all <em>v</em> &lt;= <em>x</em> for <em>v</em> in <em>array</em>.slice(<em>lo</em>, <em>i</em>) for the left side and all <em>v</em> &gt; <em>x</em> for <em>v</em> in <em>array</em>.slice(<em>i</em>, <em>hi</em>) for the right side.</p>
<p><a name="bisector" href="#bisector">#</a> d3.<b>bisector</b>(<i>accessor</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisector.js">&lt;&gt;</a>
<br><a name="bisector" href="#bisector">#</a> d3.<b>bisector</b>(<i>comparator</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisector.js">&lt;&gt;</a></p>
<p>Returns a new bisector using the specified <em>accessor</em> or <em>comparator</em> function. This method can be used to bisect arrays of objects instead of being limited to simple arrays of primitives. For example, given the following array of objects:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="nx">date</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mf">2011</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">1</span><span class="p">),</span> <span class="nx">value</span><span class="o">:</span> <span class="mf">0.5</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">date</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mf">2011</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">1</span><span class="p">),</span> <span class="nx">value</span><span class="o">:</span> <span class="mf">0.6</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">date</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mf">2011</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">1</span><span class="p">),</span> <span class="nx">value</span><span class="o">:</span> <span class="mf">0.7</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">date</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mf">2011</span><span class="p">,</span> <span class="mf">4</span><span class="p">,</span> <span class="mf">1</span><span class="p">),</span> <span class="nx">value</span><span class="o">:</span> <span class="mf">0.8</span><span class="p">}</span>
<span class="p">];</span>
</pre></div>
</div>
<p>A suitable bisect function could be constructed as:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">bisectDate</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">bisector</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span> <span class="p">}).</span><span class="nx">right</span><span class="p">;</span>
</pre></div>
</div>
<p>This is equivalent to specifying a comparator:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">bisectDate</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">bisector</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">date</span> <span class="o">-</span> <span class="nx">x</span><span class="p">;</span> <span class="p">}).</span><span class="nx">right</span><span class="p">;</span>
</pre></div>
</div>
<p>And then applied as <em>bisectDate</em>(<em>array</em>, <em>date</em>), returning an index. Note that the comparator is always passed the search value <em>x</em> as the second argument. Use a comparator rather than an accessor if you want values to be sorted in an order different than natural order, such as in descending rather than ascending order.</p>
<p><a name="bisector_left" href="#bisector_left">#</a> <i>bisector</i>.<b>left</b>(<i>array</i>, <i>x</i>[, <i>lo</i>[, <i>hi</i>]]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisector.js#L6">&lt;&gt;</a></p>
<p>Equivalent to <a class="reference external" href="#bisectLeft">bisectLeft</a>, but uses this bisector’s associated comparator.</p>
<p><a name="bisector_right" href="#bisector_right">#</a> <i>bisector</i>.<b>right</b>(<i>array</i>, <i>x</i>[, <i>lo</i>[, <i>hi</i>]]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/bisector.js#L16">&lt;&gt;</a></p>
<p>Equivalent to <a class="reference external" href="#bisectRight">bisectRight</a>, but uses this bisector’s associated comparator.</p>
<p><a name="ascending" href="#ascending">#</a> d3.<b>ascending</b>(<i>a</i>, <i>b</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/ascending.js">&lt;&gt;</a></p>
<p>Returns -1 if <em>a</em> is less than <em>b</em>, or 1 if <em>a</em> is greater than <em>b</em>, or 0. This is the comparator function for natural order, and can be used in conjunction with the built-in <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><em>array</em>.sort</a> method to arrange elements in ascending order. It is implemented as:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">ascending</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="o">-</span><span class="mf">1</span> <span class="o">:</span> <span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="mf">1</span> <span class="o">:</span> <span class="nx">a</span> <span class="o">&gt;=</span> <span class="nx">b</span> <span class="o">?</span> <span class="mf">0</span> <span class="o">:</span> <span class="kc">NaN</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that if no comparator function is specified to the built-in sort method, the default order is lexicographic (alphabetical), not natural! This can lead to surprising behavior when sorting an array of numbers.</p>
<p><a name="descending" href="#descending">#</a> d3.<b>descending</b>(<i>a</i>, <i>b</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/descending.js">&lt;&gt;</a></p>
<p>Returns -1 if <em>a</em> is greater than <em>b</em>, or 1 if <em>a</em> is less than <em>b</em>, or 0. This is the comparator function for reverse natural order, and can be used in conjunction with the built-in array sort method to arrange elements in descending order.  It is implemented as:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">descending</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">b</span> <span class="o">&lt;</span> <span class="nx">a</span> <span class="o">?</span> <span class="o">-</span><span class="mf">1</span> <span class="o">:</span> <span class="nx">b</span> <span class="o">&gt;</span> <span class="nx">a</span> <span class="o">?</span> <span class="mf">1</span> <span class="o">:</span> <span class="nx">b</span> <span class="o">&gt;=</span> <span class="nx">a</span> <span class="o">?</span> <span class="mf">0</span> <span class="o">:</span> <span class="kc">NaN</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that if no comparator function is specified to the built-in sort method, the default order is lexicographic (alphabetical), not natural! This can lead to surprising behavior when sorting an array of numbers.</p>
</div>
<div class="section" id="transformations">
<h3>Transformations<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h3>
<p>Methods for transforming arrays and for generating new arrays.</p>
<p><a name="cross" href="#cross">#</a> d3.<b>cross</b>(<i>a</i>, <i>b</i>[, <i>reducer</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/cross.js">&lt;&gt;</a></p>
<p>Returns the <a class="reference external" href="https://en.wikipedia.org/wiki/Cartesian_product">Cartesian product</a> of the two arrays <em>a</em> and <em>b</em>. For each element <em>i</em> in the specified array <em>a</em> and each element <em>j</em> in the specified array <em>b</em>, in order, invokes the specified <em>reducer</em> function passing the element <em>i</em> and element <em>j</em>. If a <em>reducer</em> is not specified, it defaults to a function which creates a two-element array for each pair:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">pair</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">cross</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]);</span> <span class="c1">// returns [[1, &quot;x&quot;], [1, &quot;y&quot;], [2, &quot;x&quot;], [2, &quot;y&quot;]]</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">cross</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">);</span> <span class="c1">// returns [&quot;1x&quot;, &quot;1y&quot;, &quot;2x&quot;, &quot;2y&quot;]</span>
</pre></div>
</div>
<p><a name="merge" href="#merge">#</a> d3.<b>merge</b>(<i>arrays</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/merge.js">&lt;&gt;</a></p>
<p>Merges the specified <em>arrays</em> into a single array. This method is similar to the built-in array concat method; the only difference is that it is more convenient when you have an array of arrays.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">merge</span><span class="p">([[</span><span class="mf">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">]]);</span> <span class="c1">// returns [1, 2, 3]</span>
</pre></div>
</div>
<p><a name="pairs" href="#pairs">#</a> d3.<b>pairs</b>(<i>array</i>[, <i>reducer</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/pairs.js">&lt;&gt;</a></p>
<p>For each adjacent pair of elements in the specified <em>array</em>, in order, invokes the specified <em>reducer</em> function passing the element <em>i</em> and element <em>i</em> - 1. If a <em>reducer</em> is not specified, it defaults to a function which creates a two-element array for each pair:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">pair</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">pairs</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">]);</span> <span class="c1">// returns [[1, 2], [2, 3], [3, 4]]</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">pairs</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">],</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">b</span> <span class="o">-</span> <span class="nx">a</span><span class="p">);</span> <span class="c1">// returns [1, 1, 1];</span>
</pre></div>
</div>
<p>If the specified array has fewer than two elements, returns the empty array.</p>
<p><a name="permute" href="#permute">#</a> d3.<b>permute</b>(<i>array</i>, <i>indexes</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/permute.js">&lt;&gt;</a></p>
<p>Returns a permutation of the specified <em>array</em> using the specified array of <em>indexes</em>. The returned array contains the corresponding element in array for each index in indexes, in order. For example, permute([“a”, “b”, “c”], [1, 2, 0])
returns [“b”, “c”, “a”]. It is acceptable for the array of indexes to be a different length from the array of elements, and for indexes to be duplicated or omitted.</p>
<p>This method can also be used to extract the values from an object into an array with a stable order. Extracting keyed values in order can be useful for generating data arrays in nested selections. For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span><span class="k">yield</span><span class="o">:</span> <span class="mf">27</span><span class="p">,</span> <span class="nx">variety</span><span class="o">:</span> <span class="s2">&quot;Manchuria&quot;</span><span class="p">,</span> <span class="nx">year</span><span class="o">:</span> <span class="mf">1931</span><span class="p">,</span> <span class="nx">site</span><span class="o">:</span> <span class="s2">&quot;University Farm&quot;</span><span class="p">},</span>
    <span class="nx">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;site&quot;</span><span class="p">,</span> <span class="s2">&quot;variety&quot;</span><span class="p">,</span> <span class="s2">&quot;yield&quot;</span><span class="p">];</span>

<span class="nx">d3</span><span class="p">.</span><span class="nx">permute</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="nx">fields</span><span class="p">);</span> <span class="c1">// returns [&quot;University Farm&quot;, &quot;Manchuria&quot;, 27]</span>
</pre></div>
</div>
<p><a name="shuffle" href="#shuffle">#</a> d3.<b>shuffle</b>(<i>array</i>[, <i>start</i>[, <i>stop</i>]]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/shuffle.js">&lt;&gt;</a></p>
<p>Randomizes the order of the specified <em>array</em> in-place using the <a class="reference external" href="https://bost.ocks.org/mike/shuffle/">Fisher–Yates shuffle</a> and returns the <em>array</em>. If <em>start</em> is specified, it is the starting index (inclusive) of the <em>array</em> to shuffle; if <em>start</em> is not specified, it defaults to zero. If <em>stop</em> is specified, it is the ending index (exclusive) of the <em>array</em> to shuffle; if <em>stop</em> is not specified, it defaults to <em>array</em>.length. For example, to shuffle the first ten elements of the <em>array</em>: shuffle(<em>array</em>, 0, 10).</p>
<p><a name="ticks" href="#ticks">#</a> d3.<b>ticks</b>(<i>start</i>, <i>stop</i>, <i>count</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/ticks.js">&lt;&gt;</a></p>
<p>Returns an array of approximately <em>count</em> + 1 uniformly-spaced, nicely-rounded values between <em>start</em> and <em>stop</em> (inclusive). Each value is a power of ten multiplied by 1, 2 or 5. See also <a class="reference external" href="#tickIncrement">d3.tickIncrement</a>, <a class="reference external" href="#tickStep">d3.tickStep</a> and <a class="reference external" href="https://github.com/d3/d3-scale/blob/master/README.md#linear_ticks"><em>linear</em>.ticks</a>.</p>
<p>Ticks are inclusive in the sense that they may include the specified <em>start</em> and <em>stop</em> values if (and only if) they are exact, nicely-rounded values consistent with the inferred <a class="reference external" href="#tickStep">step</a>. More formally, each returned tick <em>t</em> satisfies <em>start</em> ≤ <em>t</em> and <em>t</em> ≤ <em>stop</em>.</p>
<p><a name="tickIncrement" href="#tickIncrement">#</a> d3.<b>tickIncrement</b>(<i>start</i>, <i>stop</i>, <i>count</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/ticks.js#L16">&lt;&gt;</a></p>
<p>Like <a class="reference external" href="#tickStep">d3.tickStep</a>, except requires that <em>start</em> is always less than or equal to <em>step</em>, and if the tick step for the given <em>start</em>, <em>stop</em> and <em>count</em> would be less than one, returns the negative inverse tick step instead. This method is always guaranteed to return an integer, and is used by <a class="reference external" href="#ticks">d3.ticks</a> to avoid guarantee that the returned tick values are represented as precisely as possible in IEEE 754 floating point.</p>
<p><a name="tickStep" href="#tickStep">#</a> d3.<b>tickStep</b>(<i>start</i>, <i>stop</i>, <i>count</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/ticks.js#L16">&lt;&gt;</a></p>
<p>Returns the difference between adjacent tick values if the same arguments were passed to <a class="reference external" href="#ticks">d3.ticks</a>: a nicely-rounded value that is a power of ten multiplied by 1, 2 or 5. Note that due to the limited precision of IEEE 754 floating point, the returned value may not be exact decimals; use <a class="reference external" href="https://github.com/d3/d3-format">d3-format</a> to format numbers for human consumption.</p>
<p><a name="range" href="#range">#</a> d3.<b>range</b>([<i>start</i>, ]<i>stop</i>[, <i>step</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/range.js">&lt;&gt;</a></p>
<p>Returns an array containing an arithmetic progression, similar to the Python built-in <a class="reference external" href="http://docs.python.org/library/functions.html#range">range</a>. This method is often used to iterate over a sequence of uniformly-spaced numeric values, such as the indexes of an array or the ticks of a linear scale. (See also <a class="reference external" href="#ticks">d3.ticks</a> for nicely-rounded values.)</p>
<p>If <em>step</em> is omitted, it defaults to 1. If <em>start</em> is omitted, it defaults to 0. The <em>stop</em> value is exclusive; it is not included in the result. If <em>step</em> is positive, the last element is the largest <em>start</em> + <em>i</em> * <em>step</em> less than <em>stop</em>; if <em>step</em> is negative, the last element is the smallest <em>start</em> + <em>i</em> * <em>step</em> greater than <em>stop</em>. If the returned array would contain an infinite number of values, an empty range is returned.</p>
<p>The arguments are not required to be integers; however, the results are more predictable if they are. The values in the returned array are defined as <em>start</em> + <em>i</em> * <em>step</em>, where <em>i</em> is an integer from zero to one minus the total number of elements in the returned array. For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span> <span class="c1">// [0, 0.2, 0.4, 0.6000000000000001, 0.8]</span>
</pre></div>
</div>
<p>This unexpected behavior is due to IEEE 754 double-precision floating point, which defines 0.2 * 3 = 0.6000000000000001. Use <a class="reference external" href="https://github.com/d3/d3-format">d3-format</a> to format numbers for human consumption with appropriate rounding; see also <a class="reference external" href="https://github.com/d3/d3-scale/blob/master/README.md#linear_tickFormat">linear.tickFormat</a> in <a class="reference external" href="https://github.com/d3/d3-scale">d3-scale</a>.</p>
<p>Likewise, if the returned array should have a specific length, consider using <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">array.map</a> on an integer range. For example:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">1</span> <span class="o">/</span> <span class="mf">49</span><span class="p">);</span> <span class="c1">// BAD: returns 50 elements!</span>
<span class="nx">d3</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mf">49</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">d</span> <span class="o">/</span> <span class="mf">49</span><span class="p">;</span> <span class="p">});</span> <span class="c1">// GOOD: returns 49 elements.</span>
</pre></div>
</div>
<p><a name="transpose" href="#transpose">#</a> d3.<b>transpose</b>(<i>matrix</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/transpose.js">&lt;&gt;</a></p>
<p>Uses the <a class="reference external" href="#zip">zip</a> operator as a two-dimensional <a class="reference external" href="http://en.wikipedia.org/wiki/Transpose">matrix transpose</a>.</p>
<p><a name="zip" href="#zip">#</a> d3.<b>zip</b>(<i>arrays…</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/zip.js">&lt;&gt;</a></p>
<p>Returns an array of arrays, where the <em>i</em>th array contains the <em>i</em>th element from each of the argument <em>arrays</em>. The returned array is truncated in length to the shortest array in <em>arrays</em>. If <em>arrays</em> contains only a single array, the returned array contains one-element arrays. With no arguments, the returned array is empty.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">zip</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">],</span> <span class="p">[</span><span class="mf">3</span><span class="p">,</span> <span class="mf">4</span><span class="p">]);</span> <span class="c1">// returns [[1, 3], [2, 4]]</span>
</pre></div>
</div>
</div>
<div class="section" id="histograms">
<h3>Histograms<a class="headerlink" href="#histograms" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://bl.ocks.org/mbostock/3048450"><img src="https://raw.githubusercontent.com/d3/d3-array/master/img/histogram.png" width="480" height="250" alt="Histogram"></a></p>
<p>Histograms bin many discrete samples into a smaller number of consecutive, non-overlapping intervals. They are often used to visualize the distribution of numerical data.</p>
<p><a name="histogram" href="#histogram">#</a> d3.<b>histogram</b>() <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/histogram.js">&lt;&gt;</a></p>
<p>Constructs a new histogram generator with the default settings.</p>
<p><a name="_histogram" href="#_histogram">#</a> <i>histogram</i>(<i>data</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/histogram.js#L14">&lt;&gt;</a></p>
<p>Computes the histogram for the given array of <em>data</em> samples. Returns an array of bins, where each bin is an array containing the associated elements from the input <em>data</em>. Thus, the <code class="docutils literal notranslate"><span class="pre">length</span></code> of the bin is the number of elements in that bin. Each bin has two additional attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x0</span></code> - the lower bound of the bin (inclusive).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x1</span></code> - the upper bound of the bin (exclusive, except for the last bin).</p></li>
</ul>
<p><a name="histogram_value" href="#histogram_value">#</a> <i>histogram</i>.<b>value</b>([<i>value</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/histogram.js#L58">&lt;&gt;</a></p>
<p>If <em>value</em> is specified, sets the value accessor to the specified function or constant and returns this histogram generator. If <em>value</em> is not specified, returns the current value accessor, which defaults to the identity function.</p>
<p>When a histogram is <a class="reference external" href="#_histogram">generated</a>, the value accessor will be invoked for each element in the input data array, being passed the element <code class="docutils literal notranslate"><span class="pre">d</span></code>, the index <code class="docutils literal notranslate"><span class="pre">i</span></code>, and the array <code class="docutils literal notranslate"><span class="pre">data</span></code> as three arguments. The default value accessor assumes that the input data are orderable (comparable), such as numbers or dates. If your data are not, then you should specify an accessor that returns the corresponding orderable value for a given datum.</p>
<p>This is similar to mapping your data to values before invoking the histogram generator, but has the benefit that the input data remains associated with the returned bins, thereby making it easier to access other fields of the data.</p>
<p><a name="histogram_domain" href="#histogram_domain">#</a> <i>histogram</i>.<b>domain</b>([<i>domain</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/histogram.js#L62">&lt;&gt;</a></p>
<p>If <em>domain</em> is specified, sets the domain accessor to the specified function or array and returns this histogram generator. If <em>domain</em> is not specified, returns the current domain accessor, which defaults to <a class="reference external" href="#extent">extent</a>. The histogram domain is defined as an array [<em>min</em>, <em>max</em>], where <em>min</em> is the minimum observable value and <em>max</em> is the maximum observable value; both values are inclusive. Any value outside of this domain will be ignored when the histogram is <a class="reference external" href="#_histogram">generated</a>.</p>
<p>For example, if you are using the the histogram in conjunction with a <a class="reference external" href="https://github.com/d3/d3-scale/blob/master/README.md#linear-scales">linear scale</a> <code class="docutils literal notranslate"><span class="pre">x</span></code>, you might say:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">histogram</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">histogram</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">domain</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">domain</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">thresholds</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">ticks</span><span class="p">(</span><span class="mf">20</span><span class="p">));</span>
</pre></div>
</div>
<p>You can then compute the bins from an array of numbers like so:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">bins</span> <span class="o">=</span> <span class="nx">histogram</span><span class="p">(</span><span class="nx">numbers</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that the domain accessor is invoked on the materialized array of <a class="reference external" href="#histogram_value">values</a>, not on the input data array.</p>
<p><a name="histogram_thresholds" href="#histogram_thresholds">#</a> <i>histogram</i>.<b>thresholds</b>([<i>count</i>]) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/histogram.js#L66">&lt;&gt;</a>
<br><a name="histogram_thresholds" href="#histogram_thresholds">#</a> <i>histogram</i>.<b>thresholds</b>([<i>thresholds</i>])  <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/histogram.js#L66">&lt;&gt;</a></p>
<p>If <em>thresholds</em> is specified, sets the <a class="reference external" href="#histogram-thresholds">threshold generator</a> to the specified function or array and returns this histogram generator. If <em>thresholds</em> is not specified, returns the current threshold generator, which by default implements <a class="reference external" href="#thresholdSturges">Sturges’ formula</a>. (Thus by default, the histogram values must be numbers!) Thresholds are defined as an array of values [<em>x0</em>, <em>x1</em>, …]. Any value less than <em>x0</em> will be placed in the first bin; any value greater than or equal to <em>x0</em> but less than <em>x1</em> will be placed in the second bin; and so on. Thus, the <a class="reference external" href="#_histogram">generated histogram</a> will have <em>thresholds</em>.length + 1 bins. See <a class="reference external" href="#histogram-thresholds">histogram thresholds</a> for more information.</p>
<p>Any threshold values outside the <a class="reference external" href="#histogram_domain">domain</a> are ignored. The first <em>bin</em>.x0 is always equal to the minimum domain value, and the last <em>bin</em>.x1 is always equal to the maximum domain value.</p>
<p>If a <em>count</em> is specified instead of an array of <em>thresholds</em>, then the <a class="reference external" href="#histogram_domain">domain</a> will be uniformly divided into approximately <em>count</em> bins; see <a class="reference external" href="#ticks">ticks</a>.</p>
</div>
<div class="section" id="histogram-thresholds">
<h3>Histogram Thresholds<a class="headerlink" href="#histogram-thresholds" title="Permalink to this headline">¶</a></h3>
<p>These functions are typically not used directly; instead, pass them to <a class="reference external" href="#histogram_thresholds"><em>histogram</em>.thresholds</a>. You may also implement your own threshold generator taking three arguments: the array of input <a class="reference external" href="#histogram_value"><em>values</em></a> derived from the data, and the <a class="reference external" href="#histogram_domain">observable domain</a> represented as <em>min</em> and <em>max</em>. The generator may then return either the array of numeric thresholds or the <em>count</em> of bins; in the latter case the domain is divided uniformly into approximately <em>count</em> bins; see <a class="reference external" href="#ticks">ticks</a>.</p>
<p><a name="thresholdFreedmanDiaconis" href="#thresholdFreedmanDiaconis">#</a> d3.<b>thresholdFreedmanDiaconis</b>(<i>values</i>, <i>min</i>, <i>max</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/threshold/freedmanDiaconis.js">&lt;&gt;</a></p>
<p>Returns the number of bins according to the <a class="reference external" href="https://en.wikipedia.org/wiki/Histogram#Mathematical_definition">Freedman–Diaconis rule</a>; the input <em>values</em> must be numbers.</p>
<p><a name="thresholdScott" href="#thresholdScott">#</a> d3.<b>thresholdScott</b>(<i>values</i>, <i>min</i>, <i>max</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/threshold/scott.js">&lt;&gt;</a></p>
<p>Returns the number of bins according to <a class="reference external" href="https://en.wikipedia.org/wiki/Histogram#Mathematical_definition">Scott’s normal reference rule</a>; the input <em>values</em> must be numbers.</p>
<p><a name="thresholdSturges" href="#thresholdSturges">#</a> d3.<b>thresholdSturges</b>(<i>values</i>) <a class="reference external" href="https://github.com/d3/d3-array/blob/master/src/threshold/sturges.js">&lt;&gt;</a></p>
<p>Returns the number of bins according to <a class="reference external" href="https://en.wikipedia.org/wiki/Histogram#Mathematical_definition">Sturges’ formula</a>; the input <em>values</em> must be numbers.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AyrtonB/ESDA-Spatial",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./.cache/yarn/v6/npm-d3-array-1.2.4-635ce4d5eea759f6f605863dbcfc30edc737f71f-integrity/node_modules/d3-array"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ayrton Bourn, Santiago De La Fuente, Clem Attwood, Joanna Kuleszo, Camilo Perico<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../../../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>